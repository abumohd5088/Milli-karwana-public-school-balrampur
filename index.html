<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="MKPS School Management System - Login Portal" />
    <title>MKPS Balrampur | School Management</title>

    <!-- Google Fonts: Roboto -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet"/>

    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />

    <!-- Inline Styles -->
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background 0.5s ease;
        }

        body.dark-mode {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #eee;
        }

        /* Container */
        .container {
            width: 90%;
            max-width: 420px;
            padding: 30px;
            border-radius: 16px;
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            transform: translateY(0);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .container:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
        }

        .dark-mode .container {
            background: rgba(30, 30, 40, 0.9);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 24px;
        }

        .logo {
            width: 80px;
            height: 80px;
            margin-bottom: 16px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid #667eea;
        }

        .dark-mode .logo {
            border-color: #764ba2;
        }

        h1 {
            font-size: 1.8rem;
            color: #4a5568;
            margin-bottom: 8px;
        }

        .dark-mode h1 {
            color: #e2e8f0;
        }

        .subtitle {
            font-weight: 400;
            color: #718096;
            font-size: 0.95rem;
        }

        .dark-mode .subtitle {
            color: #a0aec0;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
            position: relative;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #4a5568;
            font-size: 0.9rem;
        }

        .dark-mode label {
            color: #e2e8f0;
        }

        input[type="text"],
        input[type="email"],
        input[type="password"],
        select {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #cbd5e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background-color: #ffffff;
            outline: none;
        }

        .dark-mode input[type="text"],
        .dark-mode input[type="email"],
        .dark-mode input[type="password"],
        .dark-mode select {
            background-color: #2d3748;
            border-color: #4a5568;
            color: #e2e8f0;
        }

        input:focus,
        select:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
            transform: scale(1.01);
        }

        .dark-mode input:focus,
        .dark-mode select:focus {
            border-color: #764ba2;
            box-shadow: 0 0 0 3px rgba(118, 75, 162, 0.3);
        }

        /* Role Selector */
        .role-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border: 1px solid #cbd5e0;
            border-radius: 12px;
            overflow: hidden;
            background: #f7fafc;
        }

        .dark-mode .role-selector {
            background: #2d3748;
            border-color: #4a5568;
        }

        .role-btn {
            flex: 1;
            padding: 12px;
            text-align: center;
            background: transparent;
            border: none;
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #4a5568;
        }

        .dark-mode .role-btn {
            color: #e2e8f0;
        }

        .role-btn.active {
            background: #667eea;
            color: white;
        }

        .role-btn:hover:not(.active) {
            background: #edf2f7;
        }

        .dark-mode .role-btn:hover:not(.active) {
            background: #4a5568;
        }

        /* Buttons */
        .btn {
            display: block;
            width: 100%;
            padding: 14px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
            position: relative;
            overflow: hidden;
        }

        .btn:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn.google {
            background: white;
            color: #4285f4;
            border: 1px solid #dadce0;
            margin-top: 0;
        }

        .btn.google:hover {
            background: #f8f9fa;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .btn.google i {
            font-size: 1.2rem;
            margin-right: 8px;
        }

        .dark-mode .btn.google {
            background: #1a1a2e;
            color: #4285f4;
            border-color: #4a5568;
        }

        .dark-mode .btn.google:hover {
            background: #2d3748;
        }

        /* Footer Links */
        .footer-links {
            text-align: center;
            margin-top: 20px;
            font-size: 0.9rem;
        }

        .footer-links a {
            color: #667eea;
            text-decoration: none;
            margin: 0 10px;
            transition: color 0.3s ease;
        }

        .dark-mode .footer-links a {
            color: #764ba2;
        }

        .footer-links a:hover {
            text-decoration: underline;
        }

        /* Theme Toggle */
        .theme-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: transparent;
            border: none;
            color: #4a5568;
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .dark-mode .theme-toggle {
            color: #e2e8f0;
        }

        /* Language Selector */
        .lang-selector {
            position: absolute;
            top: 20px;
            left: 20px;
            background: transparent;
            border: none;
            color: #4a5568;
            font-size: 0.9rem;
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .dark-mode .lang-selector {
            color: #e2e8f0;
        }

        .lang-selector:hover {
            background: rgba(0, 0, 0, 0.05);
        }

        .dark-mode .lang-selector:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 16px 20px;
            background: #28a745;
            color: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 9999;
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.4s ease;
            font-size: 0.95rem;
        }

        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }

        .toast.error {
            background: #dc3545;
        }

        /* Loader */
        .loader {
            display: none;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 8px;
        }

        .dark-mode .loader {
            border-top: 3px solid #764ba2;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive Adjustments */
        @media (max-width: 480px) {
            .container {
                width: 95%;
                padding: 20px;
            }

            h1 {
                font-size: 1.6rem;
            }

            .role-selector {
                flex-direction: column;
            }

            .theme-toggle,
            .lang-selector {
                font-size: 1.3rem;
            }
        }

        /* Animation for form entrance */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .container {
            animation: fadeIn 0.6s ease forwards;
        }

        /* Hidden by default */
        .hidden {
            display: none !important;
        }

        /* Success Checkmark Animation */
        .checkmark {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #28a745;
            margin-right: 8px;
            position: relative;
        }

        .checkmark:after {
            content: '';
            position: absolute;
            left: 7px;
            top: 3px;
            width: 5px;
            height: 10px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }
    </style>
</head>
<body>
    <!-- Theme Toggle Button -->
    <button id="themeToggle" class="theme-toggle" aria-label="Toggle Dark Mode">
        <i class="material-icons">dark_mode</i>
    </button>

    <!-- Language Selector -->
    <button id="langSelector" class="lang-selector" aria-label="Switch Language">EN</button>

    <!-- Main Container -->
    <div class="container" id="loginContainer">
        <!-- Header -->
        <div class="header">
            <img src="https://placehold.co/80/667eea/ffffff?text=MKPS" alt="MKPS Logo" class="logo" />
            <h1>Welcome to MKPS</h1>
            <p class="subtitle">Balrampur Public School Management System</p>
        </div>

        <!-- Role Selection -->
        <div class="role-selector" id="roleSelector">
            <button class="role-btn active" data-role="student">Student</button>
            <button class="role-btn" data-role="parent">Parent</button>
            <button class="role-btn" data-role="teacher">Teacher</button>
        </div>

        <!-- Login Form -->
        <form id="loginForm">
            <div class="form-group">
                <label for="name">Full Name</label>
                <input type="text" id="name" placeholder="Enter your full name" required />
            </div>

            <div class="form-group">
                <label for="class">Class</label>
                <select id="class" required>
                    <option value="">Select your class</option>
                    <option value="Nursery">Nursery</option>
                    <option value="LKG">LKG</option>
                    <option value="UKG">UKG</option>
                    <option value="Class 1">Class 1</option>
                    <option value="Class 2">Class 2</option>
                    <option value="Class 3">Class 3</option>
                    <option value="Class 4">Class 4</option>
                    <option value="Class 5">Class 5</option>
                    <option value="Class 6">Class 6</option>
                    <option value="Class 7">Class 7</option>
                    <option value="Class 8">Class 8</option>
                    <option value="Class 9">Class 9</option>
                    <option value="Class 10">Class 10</option>
                </select>
            </div>

            <div class="form-group">
                <label for="parentName">Parent/Guardian Name</label>
                <input type="text" id="parentName" placeholder="Enter parent name" required />
            </div>

            <div class="form-group">
                <label for="email">Email Address</label>
                <input type="email" id="email" placeholder="you@example.com" required />
            </div>

            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" id="password" placeholder="Create a password" required />
            </div>

            <!-- Google Sign-In Button -->
            <button type="button" id="googleSignIn" class="btn google">
                <i class="material-icons">login</i> Sign in with Google
            </button>

            <!-- Regular Login Button -->
            <button type="submit" id="loginBtn" class="btn">
                <span class="loader" id="loader"></span>
                <span id="loginText">Sign In</span>
            </button>
        </form>

        <!-- Footer Links -->
        <div class="footer-links">
            <a href="#" id="privacyLink">Privacy Policy</a>
            <a href="#" id="supportLink">Support</a>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">Operation completed successfully!</div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-storage-compat.js"></script>

    <script>
        // Initialize Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyB0fHtqeoerlckQ2RXx_VC86cZz_BJaIIU",
            authDomain: "mkps-balrampur.firebaseapp.com",
            projectId: "mkps-balrampur",
            storageBucket: "mkps-balrampur.firebasestorage.app",
            messagingSenderId: "469227187804",
            appId: "1:469227187804:web:8abdb9b75ed05b7eadc099",
            measurementId: "G-TYKBNS9SX2"
        };

        // Initialize Firebase only if not already initialized
        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        } else {
            firebase.app();
        }

        // Firestore and Auth references
        const db = firebase.firestore();
        const auth = firebase.auth();
        const storage = firebase.storage();

        // DOM Elements
        const roleSelector = document.getElementById('roleSelector');
        const roleButtons = document.querySelectorAll('.role-btn');
        const loginForm = document.getElementById('loginForm');
        const googleSignInBtn = document.getElementById('googleSignIn');
        const loginBtn = document.getElementById('loginBtn');
        const loader = document.getElementById('loader');
        const loginText = document.getElementById('loginText');
        const themeToggle = document.getElementById('themeToggle');
        const langSelector = document.getElementById('langSelector');
        const toast = document.getElementById('toast');
        const privacyLink = document.getElementById('privacyLink');
        const supportLink = document.getElementById('supportLink');

        // Current Role State
        let currentRole = 'student';

        // ———————————————————————————————————————
        // ✅ ROLE SELECTION HANDLER
        // ———————————————————————————————————————
        roleButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                roleButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentRole = btn.dataset.role;
                console.log(`Selected role: ${currentRole}`);
            });
        });

        // ———————————————————————————————————————
        // ✅ THEME TOGGLE FUNCTIONALITY
        // ———————————————————————————————————————
        function toggleTheme() {
            const isDark = document.body.classList.toggle('dark-mode');
            localStorage.setItem('mkps_theme', isDark ? 'dark' : 'light');
            updateThemeIcon(isDark);
        }

        function updateThemeIcon(isDark) {
            const icon = themeToggle.querySelector('.material-icons');
            icon.textContent = isDark ? 'light_mode' : 'dark_mode';
        }

        // Load saved theme
        function loadSavedTheme() {
            const savedTheme = localStorage.getItem('mkps_theme') || 'light';
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                updateThemeIcon(true);
            }
        }

        themeToggle.addEventListener('click', toggleTheme);

        // ———————————————————————————————————————
        // ✅ LANGUAGE SWITCHER
        // ———————————————————————————————————————
        let currentLang = 'en';

        function toggleLanguage() {
            currentLang = currentLang === 'en' ? 'hi' : 'en';
            langSelector.textContent = currentLang === 'en' ? 'EN' : 'हिं';
            showToast(currentLang === 'en' ? 'Language changed!' : 'भाषा बदल दी गई!', 2000);
        }

        langSelector.addEventListener('click', toggleLanguage);

        // ———————————————————————————————————————
        // ✅ TOAST NOTIFICATION SYSTEM
        // ———————————————————————————————————————
        function showToast(message, duration = 3000, isError = false) {
            toast.textContent = message;
            if (isError) toast.classList.add('error');
            else toast.classList.remove('error');
            toast.classList.add('show');

            setTimeout(() => {
                toast.classList.remove('show');
            }, duration);
        }

        // ———————————————————————————————————————
        // ✅ FORM VALIDATION & SUBMISSION
        // ———————————————————————————————————————
        loginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const name = document.getElementById('name').value.trim();
            const className = document.getElementById('class').value;
            const parentName = document.getElementById('parentName').value.trim();
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value;

            // Basic validation
            if (!name || !className || !parentName || !email || !password) {
                showToast('Please fill all fields.', 3000, true);
                return;
            }

            if (password.length < 6) {
                showToast('Password must be at least 6 characters.', 3000, true);
                return;
            }

            // Show loader
            loader.style.display = 'inline-block';
            loginText.textContent = 'Signing In...';
            loginBtn.disabled = true;

            try {
                // Create user with email/password
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                const user = userCredential.user;

                // Save user data to Firestore
                await db.collection('users').doc(user.uid).set({
                    name,
                    class: className,
                    parentName,
                    email,
                    role: currentRole,
                    uid: user.uid,
                    createdAt: new Date().toISOString(),
                    lastLogin: new Date().toISOString()
                });

                // Save to localStorage with mkps_ namespace
                localStorage.setItem('mkps_user', JSON.stringify({
                    uid: user.uid,
                    name,
                    class: className,
                    parentName,
                    email,
                    role: currentRole
                }));

                // Redirect based on role
                redirectToDashboard(currentRole);

            } catch (error) {
                console.error('Login error:', error);
                if (error.code === 'auth/email-already-in-use') {
                    // Try to sign in instead
                    try {
                        const userCredential = await auth.signInWithEmailAndPassword(email, password);
                        const user = userCredential.user;
                        const doc = await db.collection('users').doc(user.uid).get();
                        if (doc.exists) {
                            const userData = doc.data();
                            localStorage.setItem('mkps_user', JSON.stringify({
                                uid: user.uid,
                                name: userData.name,
                                class: userData.class,
                                parentName: userData.parentName,
                                email: userData.email,
                                role: userData.role
                            }));
                            redirectToDashboard(userData.role);
                        }
                    } catch (signInError) {
                        showToast(signInError.message, 4000, true);
                    }
                } else {
                    showToast(error.message, 4000, true);
                }
            } finally {
                loader.style.display = 'none';
                loginText.textContent = 'Sign In';
                loginBtn.disabled = false;
            }
        });

        // ———————————————————————————————————————
        // ✅ GOOGLE SIGN-IN
        // ———————————————————————————————————————
        googleSignInBtn.addEventListener('click', async () => {
            const provider = new firebase.auth.GoogleAuthProvider();
            loader.style.display = 'inline-block';
            loginText.textContent = 'Signing In...';
            googleSignInBtn.disabled = true;

            try {
                const result = await auth.signInWithPopup(provider);
                const user = result.user;
                const docRef = db.collection('users').doc(user.uid);
                const doc = await docRef.get();

                let role = currentRole;
                let name = user.displayName || user.email.split('@')[0];
                let email = user.email;
                let className = 'Unknown';
                let parentName = 'Not Specified';

                if (doc.exists) {
                    const userData = doc.data();
                    role = userData.role;
                    name = userData.name;
                    className = userData.class;
                    parentName = userData.parentName;
                    email = userData.email;
                } else {
                    // First time login - save to Firestore
                    await docRef.set({
                        name,
                        class: className,
                        parentName,
                        email,
                        role,
                        uid: user.uid,
                        photoURL: user.photoURL,
                        createdAt: new Date().toISOString(),
                        lastLogin: new Date().toISOString()
                    });
                }

                // Save to localStorage
                localStorage.setItem('mkps_user', JSON.stringify({
                    uid: user.uid,
                    name,
                    class: className,
                    parentName,
                    email,
                    role,
                    photoURL: user.photoURL
                }));

                redirectToDashboard(role);

            } catch (error) {
                console.error('Google sign-in error:', error);
                showToast(error.message, 4000, true);
            } finally {
                loader.style.display = 'none';
                loginText.textContent = 'Sign In';
                googleSignInBtn.disabled = false;
            }
        });

        // ———————————————————————————————————————
        // ✅ REDIRECT TO DASHBOARD
        // ———————————————————————————————————————
        function redirectToDashboard(role) {
            let page = '';
            switch (role) {
                case 'student':
                    page = 'dashboard.html';
                    break;
                case 'parent':
                    page = 'parent.html';
                    break;
                case 'teacher':
                    page = 'teacher.html';
                    break;
                default:
                    page = 'dashboard.html';
            }
            showToast('Login successful! Redirecting...', 2000);
            setTimeout(() => {
                window.location.href = page;
            }, 1500);
        }

        // ———————————————————————————————————————
        // ✅ EVENT LISTENERS FOR SUPPORT LINKS
        // ———————————————————————————————————————
        privacyLink.addEventListener('click', (e) => {
            e.preventDefault();
            alert('Privacy Policy:\n\nThis app collects basic user information for school management purposes. Data is stored securely in Firebase. We do not share personal data with third parties.');
        });

        supportLink.addEventListener('click', (e) => {
            e.preventDefault();
            alert('For support, contact admin@mkps.edu.in or call +91-1234567890 during school hours.');
        });

        // ———————————————————————————————————————
        // ✅ ON LOAD INITIALIZATION
        // ———————————————————————————————————————
        document.addEventListener('DOMContentLoaded', () => {
            loadSavedTheme();
            // Optional: Auto-login if already signed in
            auth.onAuthStateChanged((user) => {
                if (user) {
                    const savedUser = localStorage.getItem('mkps_user');
                    if (savedUser) {
                        const { role } = JSON.parse(savedUser);
                        redirectToDashboard(role);
                    }
                }
            });
        });

        // ———————————————————————————————————————
        // ✅ PWA: Service Worker Registration (Placeholder)
        // ———————————————————————————————————————
        if ('serviceWorker' in navigator) {
            // Comment: Register service worker for offline support
            // navigator.serviceWorker.register('/sw.js')
            //   .then(reg => console.log('SW registered:', reg))
            //   .catch(err => console.error('SW registration failed:', err));
        }

        // ———————————————————————————————————————
        // ✅ STORAGE UTILITY (mkps_ namespace)
        // ———————————————————————————————————————
        const StorageUtil = {
            set(key, value) {
                try {
                    localStorage.setItem(`mkps_${key}`, JSON.stringify(value));
                } catch (e) {
                    console.warn('LocalStorage full or unavailable', e);
                }
            },
            get(key) {
                try {
                    const item = localStorage.getItem(`mkps_${key}`);
                    return item ? JSON.parse(item) : null;
                } catch (e) {
                    console.warn('Error reading from localStorage', e);
                    return null;
                }
            },
            remove(key) {
                localStorage.removeItem(`mkps_${key}`);
            },
            clearAll() {
                Object.keys(localStorage)
                      .filter(k => k.startsWith('mkps_'))
                      .forEach(k => localStorage.removeItem(k));
            }
        };

        // ———————————————————————————————————————
        // ✅ EVENT BUS FOR CROSS-COMPONENT COMMUNICATION
        // ———————————————————————————————————————
        class EventBus {
            constructor() {
                this.events = {};
            }
            on(event, callback) {
                if (!this.events[event]) this.events[event] = [];
                this.events[event].push(callback);
            }
            emit(event, data) {
                if (this.events[event]) {
                    this.events[event].forEach(callback => callback(data));
                }
            }
            off(event, callback) {
                if (this.events[event]) {
                    this.events[event] = this.events[event].filter(cb => cb !== callback);
                }
            }
        }

        window.EventBus = new EventBus();

        // Example usage:
        // EventBus.on('userLogin', (user) => console.log('User logged in:', user));
        // EventBus.emit('userLogin', userData);

        // ———————————————————————————————————————
        // ✅ GUARD FOR SESSION VALIDATION (to be used on dashboard pages)
        // ———————————————————————————————————————
        // Comment: This guard should be included in every protected page
        /*
        function requireAuth() {
            const user = StorageUtil.get('user');
            if (!user) {
                window.location.href = 'index.html';
                return null;
            }
            return user;
        }
        */

        // ———————————————————————————————————————
        // ✅ AI API CONFIGURATION (SECURITY COMMENT)
        // ———————————————————————————————————————
        // SECURITY NOTE: In production, NEVER expose API keys in client-side code.
        // Use a server-side proxy endpoint (e.g., /api/gemini) to forward requests.
        // const GEMINI_API_KEY = "AIzaSyCdzFBQ1KVgBfmmjSgHJJwcuLbqne9VjUs";

        // Example secure call:
        /*
        async function callGemini(prompt) {
            const response = await fetch('/api/gemini', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ prompt })
            });
            const data = await response.json();
            return data.reply;
        }
        */

        console.log('MKPS Index Page Loaded Successfully with Firebase Integration.');
    </script>
</body>
    </html>
