<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Milli Karwaan Public School | Student Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <script src="https://cdn.jsdelivr.net/npm/@google/generative-ai"></script>
  <style>
    :root {
      --primary: #4361ee;
      --secondary: #3f37c9;
      --success: #4cc9f0;
      --accent: #f72585;
      --light: #f8f9fa;
      --dark: #212529;
      --gray: #6c757d;
      --warning: #fca311;
      --info: #4895ef;
      --danger: #e63946;
      --white: #ffffff;
      --glass-bg: rgba(255, 255, 255, 0.15);
      --glass-border: rgba(255, 255, 255, 0.25);
      --shadow-sm: 0 4px 12px rgba(0,0,0,0.08);
      --shadow: 0 8px 30px rgba(0,0,0,0.12);
      --shadow-lg: 0 16px 40px rgba(0,0,0,0.15);
      --radius: 16px;
      --radius-md: 12px;
      --radius-sm: 8px;
      --transition: all 0.3s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #e0f7fa, #bbdefb);
      color: var(--dark);
      line-height: 1.6;
      min-height: 100vh;
      overflow-x: hidden;
      background-attachment: fixed;
    }

    .container {
      display: flex;
      min-height: 100vh;
    }

    /* Sidebar Styles */
    .sidebar {
      width: 280px;
      background: var(--primary);
      background: linear-gradient(180deg, var(--primary), var(--secondary));
      color: var(--white);
      padding: 20px 0;
      position: fixed;
      height: 100%;
      overflow-y: auto;
      z-index: 1000;
      transform: translateX(0);
      transition: var(--transition);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
    }

    .sidebar.hidden {
      transform: translateX(-100%);
    }

    .sidebar-header {
      padding: 20px;
      text-align: center;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .logo {
      font-size: 24px;
      font-weight: 700;
      color: var(--white);
      margin-bottom: 8px;
    }

    .school-name {
      font-size: 14px;
      opacity: 0.9;
    }

    .user-profile {
      padding: 20px;
      text-align: center;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .profile-img {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: var(--white);
      margin: 0 auto 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      color: var(--primary);
      font-weight: 600;
      text-transform: uppercase;
    }

    .student-name {
      font-weight: 600;
      font-size: 16px;
    }

    .student-class {
      font-size: 14px;
      opacity: 0.9;
    }

    .nav-menu {
      list-style: none;
      padding: 10px 0;
    }

    .nav-item {
      position: relative;
    }

    .nav-link {
      display: flex;
      align-items: center;
      padding: 12px 20px;
      color: var(--white);
      text-decoration: none;
      transition: var(--transition);
      border-left: 3px solid transparent;
      font-weight: 500;
    }

    .nav-link:hover, .nav-link.active {
      background: rgba(255,255,255,0.1);
      border-left-color: var(--white);
      transform: translateX(4px);
    }

    .nav-link i {
      margin-right: 10px;
      width: 20px;
      text-align: center;
    }

    .submenu {
      list-style: none;
      background: rgba(255,255,255,0.05);
      border-radius: var(--radius-sm);
      margin: 5px 15px;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease;
    }

    .submenu.active {
      max-height: 500px;
    }

    .submenu-item {
      padding: 8px 20px;
      font-size: 14px;
    }

    .submenu-link {
      color: rgba(255,255,255,0.85);
      text-decoration: none;
      display: block;
      transition: color 0.3s;
    }

    .submenu-link:hover {
      color: var(--white);
    }

    .nav-arrow {
      margin-left: auto;
      transition: transform 0.3s;
    }

    .nav-arrow.rotate {
      transform: rotate(90deg);
    }

    /* Main Content */
    .main-content {
      flex: 1;
      margin-left: 280px;
      transition: var(--transition);
      min-height: 100vh;
    }

    .main-content.full {
      margin-left: 0;
    }

    .header {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: var(--shadow-sm);
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 999;
      border-bottom: 1px solid var(--glass-border);
    }

    .menu-toggle {
      font-size: 24px;
      color: var(--dark);
      cursor: pointer;
      display: none;
    }

    .search-bar {
      flex: 1;
      max-width: 400px;
      margin: 0 20px;
    }

    .search-input {
      width: 100%;
      padding: 10px 15px;
      border: none;
      outline: none;
      border-radius: 50px;
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      color: var(--dark);
      font-size: 14px;
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .icon-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--dark);
      cursor: pointer;
      transition: var(--transition);
    }

    .icon-btn:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-sm);
    }

    .notifications {
      position: relative;
    }

    .badge {
      position: absolute;
      top: 8px;
      right: 8px;
      width: 18px;
      height: 18px;
      background: var(--danger);
      color: var(--white);
      border-radius: 50%;
      font-size: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .profile-dropdown {
      position: relative;
    }

    .profile-dropdown-menu {
      position: absolute;
      top: 60px;
      right: 0;
      width: 250px;
      background: var(--white);
      border-radius: var(--radius);
      box-shadow: var(--shadow-lg);
      overflow: hidden;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all 0.3s ease;
      z-index: 1000;
    }

    .profile-dropdown:hover .profile-dropdown-menu {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .dropdown-header {
      padding: 15px;
      background: var(--primary);
      color: var(--white);
      text-align: center;
    }

    .dropdown-body {
      padding: 10px 0;
    }

    .dropdown-item {
      padding: 12px 20px;
      display: flex;
      align-items: center;
      color: var(--dark);
      text-decoration: none;
      transition: background 0.3s;
    }

    .dropdown-item:hover {
      background: #f8f9fa;
    }

    .dropdown-item i {
      margin-right: 10px;
      color: var(--primary);
    }

    /* Dashboard Content */
    .dashboard {
      padding: 30px;
    }

    .page-title {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 20px;
      color: var(--dark);
      display: flex;
      align-items: center;
    }

    .page-title i {
      margin-right: 10px;
      color: var(--primary);
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .stat-card {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow-sm);
      transition: var(--transition);
    }

    .stat-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow);
    }

    .stat-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 15px;
    }

    .stat-icon {
      width: 50px;
      height: 50px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }

    .icon-blue { background: rgba(67, 97, 238, 0.2); color: var(--primary); }
    .icon-green { background: rgba(76, 201, 240, 0.2); color: var(--success); }
    .icon-orange { background: rgba(252, 163, 17, 0.2); color: var(--warning); }
    .icon-pink { background: rgba(247, 37, 133, 0.2); color: var(--accent); }

    .stat-title {
      font-size: 14px;
      color: var(--gray);
    }

    .stat-value {
      font-size: 28px;
      font-weight: 700;
      margin: 5px 0;
    }

    .stat-desc {
      font-size: 13px;
      color: var(--gray);
    }

    .card {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow-sm);
      margin-bottom: 20px;
      transition: var(--transition);
    }

    .card:hover {
      box-shadow: var(--shadow);
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .card-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--dark);
    }

    .card-title i {
      margin-right: 8px;
      color: var(--primary);
    }

    .view-all {
      color: var(--primary);
      font-size: 14px;
      text-decoration: none;
    }

    .view-all:hover {
      text-decoration: underline;
    }

    .timeline {
      list-style: none;
      padding: 10px 0;
    }

    .timeline-item {
      display: flex;
      margin-bottom: 15px;
      position: relative;
      padding-left: 30px;
    }

    .timeline-item:before {
      content: '';
      position: absolute;
      left: 8px;
      top: 0;
      width: 4px;
      height: 100%;
      background: var(--primary);
      z-index: 0;
    }

    .timeline-dot {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--white);
      border: 3px solid var(--primary);
      position: absolute;
      left: 0;
      z-index: 1;
    }

    .timeline-content {
      background: var(--white);
      padding: 12px;
      border-radius: var(--radius-sm);
      box-shadow: var(--shadow-sm);
      font-size: 14px;
    }

    .timeline-time {
      font-size: 12px;
      color: var(--gray);
      margin-top: 5px;
    }

    .subject-list {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .subject-tag {
      padding: 6px 12px;
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      border-radius: 50px;
      font-size: 13px;
      color: var(--dark);
    }

    .progress-container {
      margin: 10px 0;
    }

    .progress-label {
      display: flex;
      justify-content: space-between;
      font-size: 14px;
      margin-bottom: 5px;
    }

    .progress-bar {
      height: 8px;
      background: #e9ecef;
      border-radius: 4px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      border-radius: 4px;
      transition: width 0.4s ease;
    }

    .progress-blue { background: var(--primary); }
    .progress-green { background: var(--success); }
    .progress-orange { background: var(--warning); }
    .progress-pink { background: var(--accent); }

    .attendance-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 5px;
      margin-top: 10px;
    }

    .attendance-day {
      aspect-ratio: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 600;
      border-radius: 50%;
      color: var(--white);
    }

    .present { background: var(--success); }
    .absent { background: var(--danger); }
    .late { background: var(--warning); }
    .holiday { background: var(--gray); }

    .timetable {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }

    .timetable th, .timetable td {
      padding: 10px;
      text-align: center;
      border: 1px solid #dee2e6;
    }

    .timetable th {
      background: #f8f9fa;
      font-weight: 600;
    }

    .subject-math { background: rgba(67, 97, 238, 0.1); }
    .subject-science { background: rgba(76, 201, 240, 0.1); }
    .subject-english { background: rgba(252, 163, 17, 0.1); }
    .subject-hindi { background: rgba(247, 37, 133, 0.1); }
    .subject-social { background: rgba(39, 174, 96, 0.1); }

    .resource-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 15px;
    }

    .resource-card {
      background: var(--white);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
      transition: var(--transition);
    }

    .resource-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow);
    }

    .resource-img {
      height: 120px;
      background: #e9ecef;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 30px;
      color: var(--primary);
    }

    .resource-body {
      padding: 15px;
    }

    .resource-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 5px;
    }

    .resource-desc {
      font-size: 13px;
      color: var(--gray);
    }

    .btn {
      display: inline-block;
      padding: 8px 16px;
      border-radius: 50px;
      font-size: 14px;
      font-weight: 500;
      text-decoration: none;
      cursor: pointer;
      transition: var(--transition);
    }

    .btn-primary {
      background: var(--primary);
      color: var(--white);
    }

    .btn-outline {
      border: 1px solid var(--primary);
      color: var(--primary);
      background: transparent;
    }

    .btn-sm {
      padding: 6px 12px;
      font-size: 12px;
    }

    .btn-block {
      display: block;
      width: 100%;
    }

    .btn:hover {
      opacity: 0.9;
      transform: translateY(-2px);
    }

    .exam-schedule {
      width: 100%;
      border-collapse: collapse;
    }

    .exam-schedule th, .exam-schedule td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #dee2e6;
    }

    .exam-schedule th {
      background: #f8f9fa;
      font-weight: 600;
    }

    .result-item {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid #eee;
    }

    .result-subject {
      font-weight: 500;
    }

    .result-marks {
      color: var(--primary);
      font-weight: 600;
    }

    .announcement {
      margin-bottom: 15px;
      padding: 15px;
      background: var(--white);
      border-radius: var(--radius);
      box-shadow: var(--shadow-sm);
    }

    .announcement-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
    }

    .announcement-title {
      font-weight: 600;
      color: var(--dark);
    }

    .announcement-date {
      font-size: 12px;
      color: var(--gray);
    }

    .announcement-content {
      font-size: 14px;
      color: var(--dark);
    }

    /* AI Homework Helper */
    .ai-container {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      width: 380px;
      background: var(--white);
      border-radius: var(--radius);
      box-shadow: var(--shadow-lg);
      overflow: hidden;
      display: none;
    }

    .ai-container.active {
      display: block;
    }

    .ai-header {
      background: var(--primary);
      color: var(--white);
      padding: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
    }

    .ai-title {
      font-weight: 600;
      display: flex;
      align-items: center;
    }

    .ai-title i {
      margin-right: 8px;
    }

    .ai-close {
      background: rgba(255,255,255,0.2);
      border: none;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    .ai-body {
      height: 400px;
      overflow-y: auto;
      padding: 15px;
      background: #f8f9fa;
    }

    .ai-message {
      margin-bottom: 15px;
      max-width: 80%;
    }

    .ai-user {
      margin-left: auto;
      background: var(--primary);
      color: var(--white);
      padding: 10px 15px;
      border-radius: 18px 18px 0 18px;
    }

    .ai-bot {
      background: var(--white);
      padding: 10px 15px;
      border-radius: 18px 18px 18px 0;
      box-shadow: var(--shadow-sm);
    }

    .ai-input-container {
      display: flex;
      padding: 10px;
      background: var(--white);
      border-top: 1px solid #dee2e6;
    }

    .ai-input {
      flex: 1;
      padding: 10px 15px;
      border: 1px solid #dee2e6;
      border-radius: 50px;
      outline: none;
      font-size: 14px;
    }

    .ai-send {
      width: 40px;
      height: 40px;
      border: none;
      background: var(--primary);
      color: var(--white);
      border-radius: 50%;
      margin-left: 10px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .typing {
      font-style: italic;
      color: var(--gray);
      font-size: 13px;
      margin: 5px 0 10px;
      display: none;
    }

    /* Responsive */
    @media (max-width: 992px) {
      .sidebar {
        transform: translateX(-100%);
      }
      .sidebar.active {
        transform: translateX(0);
      }
      .main-content {
        margin-left: 0;
      }
      .menu-toggle {
        display: block;
      }
      .search-bar {
        display: none;
      }
    }

    @media (max-width: 768px) {
      .stats-grid {
        grid-template-columns: 1fr;
      }
      .ai-container {
        width: 90%;
        bottom: 15px;
        right: 15px;
        left: 15px;
      }
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .animate {
      animation: fadeIn 0.6s ease forwards;
    }

    .delay-1 { animation-delay: 0.1s; }
    .delay-2 { animation-delay: 0.2s; }
    .delay-3 { animation-delay: 0.3s; }
    .delay-4 { animation-delay: 0.4s; }
    .delay-5 { animation-delay: 0.5s; }

    /* Footer */
    .footer {
      text-align: center;
      padding: 20px;
      background: var(--dark);
      color: var(--white);
      margin-top: 40px;
      font-size: 14px;
    }

    .hidden {
      display: none;
    }

    /* Profile Section */
    .profile-grid {
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 30px;
    }

    .profile-sidebar {
      background: var(--white);
      padding: 20px;
      border-radius: var(--radius);
      box-shadow: var(--shadow-sm);
    }

    .profile-avatar {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      margin: 0 auto 15px;
      background: var(--primary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 36px;
      color: var(--white);
      font-weight: 600;
      margin-bottom: 20px;
    }

    .profile-info {
      margin-bottom: 15px;
    }

    .info-label {
      font-size: 14px;
      color: var(--gray);
    }

    .info-value {
      font-weight: 600;
      margin-top: 5px;
    }

    /* Settings */
    .settings-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }

    .setting-item {
      background: var(--white);
      padding: 15px;
      border-radius: var(--radius);
      box-shadow: var(--shadow-sm);
    }

    .setting-label {
      font-weight: 500;
      margin-bottom: 10px;
    }

    .setting-control {
      width: 100%;
      padding: 8px;
      border: 1px solid #dee2e6;
      border-radius: var(--radius-sm);
    }

    /* Library */
    .book-card {
      background: var(--white);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
      transition: var(--transition);
    }

    .book-cover {
      height: 180px;
      background: #e9ecef;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 40px;
      color: var(--primary);
    }

    .book-info {
      padding: 15px;
    }

    .book-title {
      font-weight: 600;
      margin-bottom: 5px;
    }

    .book-author {
      font-size: 13px;
      color: var(--gray);
    }

    /* E-Learning */
    .video-card {
      background: var(--white);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
    }

    .video-thumbnail {
      height: 160px;
      background: #e9ecef;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 30px;
      color: var(--primary);
    }

    .video-info {
      padding: 15px;
    }

    .video-title {
      font-weight: 600;
      margin-bottom: 5px;
    }

    .video-subject {
      font-size: 13px;
      color: var(--primary);
    }

    /* Online Tests */
    .test-card {
      background: var(--white);
      border-radius: var(--radius);
      padding: 15px;
      box-shadow: var(--shadow-sm);
      border-left: 4px solid var(--primary);
    }

    .test-title {
      font-weight: 600;
      margin-bottom: 5px;
    }

    .test-subject {
      font-size: 13px;
      color: var(--gray);
      margin-bottom: 10px;
    }

    .test-timer {
      font-size: 12px;
      color: var(--warning);
    }

    /* Notes */
    .note-card {
      background: var(--white);
      border-radius: var(--radius);
      padding: 15px;
      box-shadow: var(--shadow-sm);
    }

    .note-title {
      font-weight: 600;
      margin-bottom: 10px;
    }

    .note-content {
      font-size: 14px;
      color: var(--dark);
      margin-bottom: 10px;
    }

    .note-date {
      font-size: 12px;
      color: var(--gray);
    }

    /* Progress Reports */
    .report-card {
      background: var(--white);
      border-radius: var(--radius);
      padding: 15px;
      box-shadow: var(--shadow-sm);
    }

    .report-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 15px;
    }

    .report-title {
      font-weight: 600;
    }

    .report-grade {
      font-weight: 700;
      color: var(--primary);
    }

    /* Chatbot Help */
    .chat-container {
      height: 400px;
      overflow-y: auto;
      padding: 15px;
    }

    .chat-message {
      margin-bottom: 15px;
      max-width: 80%;
    }

    .chat-user {
      margin-left: auto;
      background: var(--primary);
      color: var(--white);
      padding: 10px 15px;
      border-radius: 18px 18px 0 18px;
    }

    .chat-bot {
      background: var(--white);
      padding: 10px 15px;
      border-radius: 18px 18px 18px 0;
      box-shadow: var(--shadow-sm);
    }

    .chat-input {
      display: flex;
      padding: 10px;
      background: var(--white);
      border-top: 1px solid #dee2e6;
    }

    .chat-input input {
      flex: 1;
      padding: 10px 15px;
      border: 1px solid #dee2e6;
      border-radius: 50px;
      outline: none;
    }

    .chat-send {
      width: 40px;
      height: 40px;
      border: none;
      background: var(--primary);
      color: var(--white);
      border-radius: 50%;
      margin-left: 10px;
      cursor: pointer;
    }

    /* Homework */
    .homework-card {
      background: var(--white);
      border-radius: var(--radius);
      padding: 15px;
      box-shadow: var(--shadow-sm);
      border-left: 4px solid var(--success);
    }

    .homework-title {
      font-weight: 600;
      margin-bottom: 5px;
    }

    .homework-subject {
      font-size: 13px;
      color: var(--gray);
      margin-bottom: 10px;
    }

    .homework-due {
      font-size: 12px;
      color: var(--danger);
    }

    /* Attendance */
    .attendance-summary {
      display: flex;
      justify-content: space-around;
      margin: 20px 0;
    }

    .attendance-item {
      text-align: center;
    }

    .attendance-count {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 5px;
    }

    .attendance-label {
      font-size: 14px;
      color: var(--gray);
    }

    /* Exams */
    .exam-card {
      background: var(--white);
      border-radius: var(--radius);
      padding: 15px;
      box-shadow: var(--shadow-sm);
      border-left: 4px solid var(--warning);
    }

    .exam-title {
      font-weight: 600;
      margin-bottom: 5px;
    }

    .exam-date {
      font-size: 13px;
      color: var(--gray);
      margin-bottom: 10px;
    }

    .exam-subject {
      font-size: 12px;
      color: var(--primary);
    }

    /* Results */
    .result-card {
      background: var(--white);
      border-radius: var(--radius);
      padding: 15px;
      box-shadow: var(--shadow-sm);
    }

    .result-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 15px;
    }

    .result-exam {
      font-weight: 600;
    }

    .result-percentage {
      font-weight: 700;
      color: var(--primary);
    }

    /* Announcements */
    .announcement-card {
      background: var(--white);
      border-radius: var(--radius);
      padding: 15px;
      box-shadow: var(--shadow-sm);
    }

    .announcement-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
    }

    .announcement-title {
      font-weight: 600;
    }

    .announcement-date {
      font-size: 12px;
      color: var(--gray);
    }

    /* Timetable */
    .timetable-container {
      overflow-x: auto;
    }

    /* Loading */
    .loading {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 200px;
    }

    .spinner {
      width: 40px;
      height: 40px;
      border: 4px solid var(--gray);
      border-top: 4px solid var(--primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Empty State */
    .empty-state {
      text-align: center;
      padding: 40px 20px;
      color: var(--gray);
    }

    .empty-icon {
      font-size: 48px;
      margin-bottom: 15px;
      opacity: 0.3;
    }

    .empty-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 10px;
    }

    .empty-text {
      font-size: 14px;
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 2000;
      justify-content: center;
      align-items: center;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background: var(--white);
      border-radius: var(--radius);
      width: 90%;
      max-width: 500px;
      box-shadow: var(--shadow-lg);
    }

    .modal-header {
      padding: 15px 20px;
      background: var(--primary);
      color: var(--white);
      border-radius: var(--radius) var(--radius) 0 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-title {
      font-weight: 600;
    }

    .modal-close {
      background: none;
      border: none;
      color: var(--white);
      font-size: 20px;
      cursor: pointer;
    }

    .modal-body {
      padding: 20px;
    }

    .modal-footer {
      padding: 15px 20px;
      border-top: 1px solid #dee2e6;
      display: flex;
      justify-content: flex-end;
      gap: 10px;
    }

    .modal-btn {
      padding: 8px 16px;
      border: none;
      border-radius: var(--radius-sm);
      cursor: pointer;
      font-size: 14px;
    }

    .modal-btn-secondary {
      background: #f8f9fa;
      color: var(--dark);
    }

    .modal-btn-primary {
      background: var(--primary);
      color: var(--white);
    }

    /* Toast */
    .toast {
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--primary);
      color: var(--white);
      padding: 15px 20px;
      border-radius: var(--radius);
      box-shadow: var(--shadow-lg);
      z-index: 3000;
      transform: translateX(100%);
      transition: transform 0.3s ease;
    }

    .toast.show {
      transform: translateX(0);
    }

    /* Dark Mode */
    body.dark-mode {
      background: #121212;
      color: #e0e0e0;
    }

    body.dark-mode .card,
    body.dark-mode .stat-card,
    body.dark-mode .resource-card,
    body.dark-mode .book-card,
    body.dark-mode .video-card,
    body.dark-mode .test-card,
    body.dark-mode .note-card,
    body.dark-mode .report-card,
    body.dark-mode .homework-card,
    body.dark-mode .exam-card,
    body.dark-mode .result-card,
    body.dark-mode .announcement-card,
    body.dark-mode .modal-content,
    body.dark-mode .ai-container,
    body.dark-mode .profile-sidebar,
    body.dark-mode .setting-item {
      background: #1e1e1e;
      color: #e0e0e0;
    }

    body.dark-mode .ai-body,
    body.dark-mode .chat-container {
      background: #1a1a1a;
    }

    body.dark-mode .ai-user,
    body.dark-mode .chat-user {
      background: var(--primary);
    }

    body.dark-mode .ai-bot,
    body.dark-mode .chat-bot {
      background: #2a2a2a;
      color: #e0e0e0;
    }

    body.dark-mode .ai-input,
    body.dark-mode .chat-input input {
      background: #1a1a1a;
      color: #e0e0e0;
      border-color: #333;
    }

    body.dark-mode .search-input {
      background: #1a1a1a;
      color: #e0e0e0;
      border-color: #333;
    }

    body.dark-mode .header {
      background: rgba(30, 30, 30, 0.8);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-color: #333;
    }

    body.dark-mode .sidebar {
      background: linear-gradient(180deg, #1e3a8a, #1e2952);
    }

    body.dark-mode .user-profile,
    body.dark-mode .sidebar-header {
      border-color: #333;
    }

    body.dark-mode .profile-dropdown-menu {
      background: #1e1e1e;
    }

    body.dark-mode .dropdown-item:hover {
      background: #2a2a2a;
    }

    body.dark-mode .footer {
      background: #1a1a1a;
    }

    /* Print Styles */
    @media print {
      .sidebar, .header, .ai-container, .modal, .footer, .btn {
        display: none !important;
      }
      .main-content {
        margin-left: 0 !important;
      }
      body {
        background: var(--white) !important;
        color: var(--dark) !important;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="logo">MKPS</div>
        <div class="school-name">Milli Karwaan Public School</div>
      </div>
      
      <div class="user-profile">
        <div class="profile-img" id="profileInitial">AB</div>
        <div class="student-name" id="studentName">Loading...</div>
        <div class="student-class" id="studentClass">Class X</div>
      </div>

      <ul class="nav-menu">
        <li class="nav-item">
          <a href="#" class="nav-link active" data-page="dashboard">
            <i class="fas fa-home"></i>
            <span>Dashboard</span>
          </a>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="homework">
            <i class="fas fa-book"></i>
            <span>Homework</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="current-homework">Current Homework</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="homework-submission">Submit Homework</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="homework-history">History</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="homework-calendar">Calendar</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="timetable">
            <i class="fas fa-calendar-alt"></i>
            <span>Timetable</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="weekly-schedule">Weekly Schedule</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="class-timings">Class Timings</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="teacher-schedule">Teacher Schedule</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="break-times">Break Times</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="attendance">
            <i class="fas fa-check-circle"></i>
            <span>Attendance</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="daily-attendance">Daily Attendance</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="monthly-report">Monthly Report</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="attendance-history">History</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="leave-application">Leave Application</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="exams">
            <i class="fas fa-clipboard-list"></i>
            <span>Exams</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="exam-schedule">Exam Schedule</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="exam-timetable">Exam Timetable</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="exam-rules">Exam Rules</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="exam-hall">Hall Ticket</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="results">
            <i class="fas fa-award"></i>
            <span>Results</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="term-results">Term Results</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="unit-tests">Unit Tests</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="performance-analysis">Performance Analysis</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="result-history">History</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="announcements">
            <i class="fas fa-bullhorn"></i>
            <span>Announcements</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="school-news">School News</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="event-notices">Event Notices</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="holiday-list">Holiday List</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="circulars">Circulars</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="library">
            <i class="fas fa-book-open"></i>
            <span>Library</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="books-catalog">Books Catalog</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="e-books">E-Books</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="borrow-history">Borrow History</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="return-dates">Return Dates</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="elearning">
            <i class="fas fa-laptop"></i>
            <span>E-Learning</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="video-lectures">Video Lectures</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="online-quizzes">Online Quizzes</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="study-materials">Study Materials</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="live-classes">Live Classes</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="onlinetests">
            <i class="fas fa-pen"></i>
            <span>Online Tests</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="practice-tests">Practice Tests</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="mock-exams">Mock Exams</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="test-results">Test Results</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="test-analysis">Analysis</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="notes">
            <i class="fas fa-sticky-note"></i>
            <span>Notes</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="subject-notes">Subject Notes</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="chapter-notes">Chapter Notes</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="teacher-notes">Teacher Notes</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="personal-notes">Personal Notes</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="progress">
            <i class="fas fa-chart-line"></i>
            <span>Progress</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="academic-progress">Academic Progress</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="skill-development">Skill Development</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="behavior-report">Behavior Report</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="teacher-feedback">Teacher Feedback</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="chatbot">
            <i class="fas fa-robot"></i>
            <span>Chatbot Help</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="study-help">Study Help</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="career-guidance">Career Guidance</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="mental-health">Mental Health</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="faq">FAQ</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="profile">
            <i class="fas fa-user"></i>
            <span>Profile</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="personal-info">Personal Info</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="academic-info">Academic Info</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="guardian-info">Guardian Info</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="documents">Documents</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="settings">
            <i class="fas fa-cog"></i>
            <span>Settings</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="account-settings">Account Settings</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="notification-settings">Notifications</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="privacy-settings">Privacy</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="theme-settings">Theme</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" id="logoutBtn">
            <i class="fas fa-sign-out-alt"></i>
            <span>Logout</span>
          </a>
        </li>
      </ul>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <header class="header">
        <div class="menu-toggle">
          <i class="fas fa-bars"></i>
        </div>
        
        <div class="search-bar">
          <input type="text" class="search-input" placeholder="Search...">
        </div>
        
        <div class="header-actions">
          <div class="icon-btn notifications">
            <i class="fas fa-bell"></i>
            <div class="badge">3</div>
          </div>
          
          <div class="icon-btn" id="themeToggle">
            <i class="fas fa-moon"></i>
          </div>
          
          <div class="icon-btn profile-dropdown">
            <i class="fas fa-user"></i>
            <div class="profile-dropdown-menu">
              <div class="dropdown-header">
                <div id="dropdownName">Aarav Bhatia</div>
                <div id="dropdownClass">Class 8</div>
              </div>
              <div class="dropdown-body">
                <a href="#" class="dropdown-item" data-page="profile">
                  <i class="fas fa-user"></i> Profile
                </a>
                <a href="#" class="dropdown-item" data-page="settings">
                  <i class="fas fa-cog"></i> Settings
                </a>
                <a href="#" class="dropdown-item" id="dropdownLogout">
                  <i class="fas fa-sign-out-alt"></i> Logout
                </a>
              </div>
            </div>
          </div>
        </div>
      </header>

      <!-- Dashboard Content -->
      <div class="dashboard" id="dashboard">
        <h1 class="page-title">
          <i class="fas fa-home"></i> Dashboard
        </h1>
        
        <!-- Stats Grid -->
        <div class="stats-grid">
          <div class="stat-card animate delay-1">
            <div class="stat-header">
              <div>
                <div class="stat-title">Total Homework</div>
                <div class="stat-value">12</div>
                <div class="stat-desc">Due this week</div>
              </div>
              <div class="stat-icon icon-blue">
                <i class="fas fa-book"></i>
              </div>
            </div>
          </div>
          
          <div class="stat-card animate delay-2">
            <div class="stat-header">
              <div>
                <div class="stat-title">Attendance</div>
                <div class="stat-value">96%</div>
                <div class="stat-desc">This term</div>
              </div>
              <div class="stat-icon icon-green">
                <i class="fas fa-check-circle"></i>
              </div>
            </div>
          </div>
          
          <div class="stat-card animate delay-3">
            <div class="stat-header">
              <div>
                <div class="stat-title">Exams</div>
                <div class="stat-value">3</div>
                <div class="stat-desc">Upcoming</div>
              </div>
              <div class="stat-icon icon-orange">
                <i class="fas fa-clipboard-list"></i>
              </div>
            </div>
          </div>
          
          <div class="stat-card animate delay-4">
            <div class="stat-header">
              <div>
                <div class="stat-title">Average Score</div>
                <div class="stat-value">84%</div>
                <div class="stat-desc">All subjects</div>
              </div>
              <div class="stat-icon icon-pink">
                <i class="fas fa-award"></i>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Recent Activity -->
        <div class="card animate delay-5">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-history"></i> Recent Activity
            </h2>
            <a href="#" class="view-all">View All</a>
          </div>
          
          <ul class="timeline">
            <li class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div>Submitted Math homework</div>
                <div class="timeline-time">2 hours ago</div>
              </div>
            </li>
            <li class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div>Scored 92% in Science quiz</div>
                <div class="timeline-time">Yesterday</div>
              </div>
            </li>
            <li class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div>Attended live class on English</div>
                <div class="timeline-time">2 days ago</div>
              </div>
            </li>
            <li class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div>Checked exam timetable</div>
                <div class="timeline-time">3 days ago</div>
              </div>
            </li>
          </ul>
        </div>
        
        <!-- Quick Access -->
        <div class="card animate delay-1">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-rocket"></i> Quick Access
            </h2>
          </div>
          
          <div class="subject-list">
            <span class="subject-tag">Mathematics</span>
            <span class="subject-tag">Science</span>
            <span class="subject-tag">English</span>
            <span class="subject-tag">Hindi</span>
            <span class="subject-tag">Social Studies</span>
            <span class="subject-tag">Computer</span>
            <span class="subject-tag">Art</span>
            <span class="subject-tag">Music</span>
          </div>
        </div>
        
        <!-- Progress Overview -->
        <div class="card animate delay-2">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-chart-bar"></i> Progress Overview
            </h2>
            <a href="#" class="view-all">View Details</a>
          </div>
          
          <div class="progress-container">
            <div class="progress-label">
              <span>Mathematics</span>
              <span>88%</span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill progress-blue" style="width: 88%"></div>
            </div>
          </div>
          
          <div class="progress-container">
            <div class="progress-label">
              <span>Science</span>
              <span>92%</span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill progress-green" style="width: 92%"></div>
            </div>
          </div>
          
          <div class="progress-container">
            <div class="progress-label">
              <span>English</span>
              <span>76%</span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill progress-orange" style="width: 76%"></div>
            </div>
          </div>
          
          <div class="progress-container">
            <div class="progress-label">
              <span>Hindi</span>
              <span>84%</span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill progress-pink" style="width: 84%"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Homework Page -->
      <div class="dashboard hidden" id="homework">
        <h1 class="page-title">
          <i class="fas fa-book"></i> Homework
        </h1>
        
        <div class="homework-card">
          <h3 class="homework-title">Mathematics Assignment</h3>
          <div class="homework-subject">Chapter 5: Algebraic Expressions</div>
          <div class="homework-due">Due: Tomorrow, 10:00 AM</div>
        </div>
        
        <div class="homework-card">
          <h3 class="homework-title">Science Project</h3>
          <div class="homework-subject">Topic: Human Digestive System</div>
          <div class="homework-due">Due: Friday, 5:00 PM</div>
        </div>
        
        <div class="homework-card">
          <h3 class="homework-title">English Essay</h3>
          <div class="homework-subject">Topic: My Favorite Book</div>
          <div class="homework-due">Due: Next Monday, 9:00 AM</div>
        </div>
      </div>

      <!-- Timetable Page -->
      <div class="dashboard hidden" id="timetable">
        <h1 class="page-title">
          <i class="fas fa-calendar-alt"></i> Timetable
        </h1>
        
        <div class="timetable-container">
          <table class="timetable">
            <thead>
              <tr>
                <th>Time</th>
                <th>Monday</th>
                <th>Tuesday</th>
                <th>Wednesday</th>
                <th>Thursday</th>
                <th>Friday</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>9:00-10:00</td>
                <td class="subject-math">Mathematics</td>
                <td class="subject-science">Science</td>
                <td class="subject-english">English</td>
                <td class="subject-math">Mathematics</td>
                <td class="subject-hindi">Hindi</td>
              </tr>
              <tr>
                <td>10:00-11:00</td>
                <td class="subject-science">Science</td>
                <td class="subject-english">English</td>
                <td class="subject-math">Mathematics</td>
                <td class="subject-science">Science</td>
                <td class="subject-english">English</td>
              </tr>
              <tr>
                <td>11:00-12:00</td>
                <td class="subject-social">Social Studies</td>
                <td class="subject-hindi">Hindi</td>
                <td class="subject-social">Social Studies</td>
                <td class="subject-hindi">Hindi</td>
                <td class="subject-social">Social Studies</td>
              </tr>
              <tr>
                <td>1:00-2:00</td>
                <td class="subject-computer">Computer</td>
                <td class="subject-art">Art</td>
                <td class="subject-music">Music</td>
                <td class="subject-computer">Computer</td>
                <td class="subject-art">Art</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Attendance Page -->
      <div class="dashboard hidden" id="attendance">
        <h1 class="page-title">
          <i class="fas fa-check-circle"></i> Attendance
        </h1>
        
        <div class="attendance-summary">
          <div class="attendance-item">
            <div class="attendance-count">96%</div>
            <div class="attendance-label">Present</div>
          </div>
          <div class="attendance-item">
            <div class="attendance-count">3</div>
            <div class="attendance-label">Absent</div>
          </div>
          <div class="attendance-item">
            <div class="attendance-count">1</div>
            <div class="attendance-label">Late</div>
          </div>
          <div class="attendance-item">
            <div class="attendance-count">8</div>
            <div class="attendance-label">Holidays</div>
          </div>
        </div>
        
        <div class="card">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-calendar"></i> This Week
            </h2>
          </div>
          
          <div class="attendance-grid">
            <div class="attendance-day present">M</div>
            <div class="attendance-day present">T</div>
            <div class="attendance-day present">W</div>
            <div class="attendance-day present">T</div>
            <div class="attendance-day present">F</div>
            <div class="attendance-day holiday">S</div>
            <div class="attendance-day holiday">S</div>
          </div>
        </div>
      </div>

      <!-- Exams Page -->
      <div class="dashboard hidden" id="exams">
        <h1 class="page-title">
          <i class="fas fa-clipboard-list"></i> Exams
        </h1>
        
        <div class="exam-card">
          <h3 class="exam-title">Unit Test 3</h3>
          <div class="exam-date">March 15, 2024</div>
          <div class="exam-subject">Mathematics, Science, English</div>
        </div>
        
        <div class="exam-card">
          <h3 class="exam-title">Half-Yearly Exam</h3>
          <div class="exam-date">April 10-15, 2024</div>
          <div class="exam-subject">All Subjects</div>
        </div>
        
        <div class="exam-card">
          <h3 class="exam-title">Final Exam</h3>
          <div class="exam-date">June 1-10, 2024</div>
          <div class="exam-subject">All Subjects</div>
        </div>
      </div>

      <!-- Results Page -->
      <div class="dashboard hidden" id="results">
        <h1 class="page-title">
          <i class="fas fa-award"></i> Results
        </h1>
        
        <div class="result-item">
          <div class="result-subject">Mathematics</div>
          <div class="result-marks">88/100</div>
        </div>
        <div class="result-item">
          <div class="result-subject">Science</div>
          <div class="result-marks">92/100</div>
        </div>
        <div class="result-item">
          <div class="result-subject">English</div>
          <div class="result-marks">76/100</div>
        </div>
        <div class="result-item">
          <div class="result-subject">Hindi</div>
          <div class="result-marks">84/100</div>
        </div>
        <div class="result-item">
          <div class="result-subject">Social Studies</div>
          <div class="result-marks">80/100</div>
        </div>
      </div>

      <!-- Announcements Page -->
      <div class="dashboard hidden" id="announcements">
        <h1 class="page-title">
          <i class="fas fa-bullhorn"></i> Announcements
        </h1>
        
        <div class="announcement">
          <div class="announcement-header">
            <div class="announcement-title">School Holiday</div>
            <div class="announcement-date">Mar 8, 2024</div>
          </div>
          <div class="announcement-content">
            School will remain closed on March 10th for Holi celebrations. Classes will resume on March 11th.
          </div>
        </div>
        
        <div class="announcement">
          <div class="announcement-header">
            <div class="announcement-title">Science Exhibition</div>
            <div class="announcement-date">Mar 5, 2024</div>
          </div>
          <div class="announcement-content">
            The annual science exhibition will be held on March 20th. All students must submit their projects by March 15th.
          </div>
        </div>
        
        <div class="announcement">
          <div class="announcement-header">
            <div class="announcement-title">PTM Scheduled</div>
            <div class="announcement-date">Mar 1, 2024</div>
          </div>
          <div class="announcement-content">
            The next Parent-Teacher Meeting is scheduled for March 25th at 3:00 PM. Parents are requested to attend.
          </div>
        </div>
      </div>

      <!-- Profile Page -->
      <div class="dashboard hidden" id="profile">
        <h1 class="page-title">
          <i class="fas fa-user"></i> Profile
        </h1>
        
        <div class="profile-grid">
          <div class="profile-sidebar">
            <div class="profile-avatar">AB</div>
            <h3 id="profilePageName">Aarav Bhatia</h3>
            <p id="profilePageClass">Class 8, Section A</p>
          </div>
          
          <div>
            <div class="card">
              <h2 class="card-title"><i class="fas fa-user"></i> Personal Information</h2>
              <div class="profile-info">
                <div class="info-label">Student ID</div>
                <div class="info-value" id="studentId">MKPS8A001</div>
              </div>
              <div class="profile-info">
                <div class="info-label">Date of Birth</div>
                <div class="info-value" id="dob">January 15, 2012</div>
              </div>
              <div class="profile-info">
                <div class="info-label">Gender</div>
                <div class="info-value" id="gender">Male</div>
              </div>
              <div class="profile-info">
                <div class="info-label">Address</div>
                <div class="info-value" id="address">123 Education Street, Balrampur</div>
              </div>
            </div>
            
            <div class="card">
              <h2 class="card-title"><i class="fas fa-user-friends"></i> Guardian Information</h2>
              <div class="profile-info">
                <div class="info-label">Father's Name</div>
                <div class="info-value" id="fatherName">Rajesh Bhatia</div>
              </div>
              <div class="profile-info">
                <div class="info-label">Mother's Name</div>
                <div class="info-value" id="motherName">Sunita Bhatia</div>
              </div>
              <div class="profile-info">
                <div class="info-label">Contact Number</div>
                <div class="info-value" id="contactNumber">+91 9876543210</div>
              </div>
              <div class="profile-info">
                <div class="info-label">Email</div>
                <div class="info-value" id="parentEmail">rajesh.bhatia@email.com</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Settings Page -->
      <div class="dashboard hidden" id="settings">
        <h1 class="page-title">
          <i class="fas fa-cog"></i> Settings
        </h1>
        
        <div class="settings-grid">
          <div class="setting-item">
            <div class="setting-label">Notification Preferences</div>
            <select class="setting-control">
              <option>Send all notifications</option>
              <option>Only important notifications</option>
              <option>No notifications</option>
            </select>
          </div>
          
          <div class="setting-item">
            <div class="setting-label">Theme</div>
            <select class="setting-control" id="themeSelect">
              <option value="light">Light Mode</option>
              <option value="dark">Dark Mode</option>
              <option value="auto">Auto (System)</option>
            </select>
          </div>
          
          <div class="setting-item">
            <div class="setting-label">Language</div>
            <select class="setting-control">
              <option>English</option>
              <option>Hindi</option>
              <option>Urdu</option>
            </select>
          </div>
          
          <div class="setting-item">
            <div class="setting-label">Privacy Settings</div>
            <select class="setting-control">
              <option>Public Profile</option>
              <option>Private Profile</option>
              <option>Friends Only</option>
            </select>
          </div>
        </div>
      </div>

      <!-- AI Homework Helper -->
      <div class="ai-container" id="aiContainer">
        <div class="ai-header" id="aiHeader">
          <div class="ai-title">
            <i class="fas fa-robot"></i> AI Homework Helper
          </div>
          <button class="ai-close" id="aiClose">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="ai-body" id="aiBody">
          <div class="ai-message ai-bot">
            Hello! I'm your AI Homework Helper. Ask me anything about your studies and I'll help you understand better. 📚✨
          </div>
          <div class="typing" id="typingIndicator">AI is typing...</div>
        </div>
        <div class="ai-input-container">
          <input type="text" class="ai-input" id="aiInput" placeholder="Ask a question...">
          <button class="ai-send" id="aiSend">
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>
      </div>

      <!-- Toast Notification -->
      <div class="toast" id="toast">Action completed successfully!</div>

      <!-- Modals -->
      <div class="modal" id="logoutModal">
        <div class="modal-content">
          <div class="modal-header">
            <div class="modal-title">Confirm Logout</div>
            <button class="modal-close">&times;</button>
          </div>
          <div class="modal-body">
            Are you sure you want to logout from your account?
          </div>
          <div class="modal-footer">
            <button class="modal-btn modal-btn-secondary" id="cancelLogout">Cancel</button>
            <button class="modal-btn modal-btn-primary" id="confirmLogout">Logout</button>
          </div>
        </div>
      </div>
    </main>
  </div>

  <footer class="footer">
    © 2025 Milli Karwaan Public School | All Rights Reserved
  </footer>

  <script>
    // Student data from localStorage
    let studentData = JSON.parse(localStorage.getItem('mkps_student')) || {
      name: 'Aarav Bhatia',
      class: '8',
      parent: 'Rajesh Bhatia'
    };

    // DOM Elements
    const profileInitial = document.getElementById('profileInitial');
    const studentName = document.getElementById('studentName');
    const studentClass = document.getElementById('studentClass');
    const dropdownName = document.getElementById('dropdownName');
    const dropdownClass = document.getElementById('dropdownClass');
    const profilePageName = document.getElementById('profilePageName');
    const profilePageClass = document.getElementById('profilePageClass');
    
    // Update profile information
    function updateProfileInfo() {
      if (studentData) {
        const nameParts = studentData.name.split(' ');
        const initials = nameParts[0][0] + (nameParts[1] ? nameParts[1][0] : '');
        profileInitial.textContent = initials.toUpperCase();
        
        studentName.textContent = studentData.name;
        studentClass.textContent = `Class ${studentData.class}`;
        dropdownName.textContent = studentData.name;
        dropdownClass.textContent = `Class ${studentData.class}`;
        profilePageName.textContent = studentData.name;
        profilePageClass.textContent = `Class ${studentData.class}, Section A`;
      }
    }

    // Navigation
    const navLinks = document.querySelectorAll('.nav-link');
    const submenus = document.querySelectorAll('.submenu');
    const navArrows = document.querySelectorAll('.nav-arrow');
    const pages = document.querySelectorAll('.dashboard');
    const menuToggle = document.querySelector('.menu-toggle');
    const sidebar = document.querySelector('.sidebar');
    const mainContent = document.querySelector('.main-content');

    // Toggle submenu
    navLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        if (!this.getAttribute('data-page') && !this.id) {
          e.preventDefault();
          const submenu = this.nextElementSibling;
          const arrow = this.querySelector('.nav-arrow');
          
          if (submenu && submenu.classList.contains('submenu')) {
            submenu.classList.toggle('active');
            arrow.classList.toggle('rotate');
          }
        }
        
        // Remove active class from all links
        navLinks.forEach(l => l.classList.remove('active'));
        
        // Add active class to clicked link
        this.classList.add('active');
        
        // Hide all pages
        pages.forEach(page => page.classList.add('hidden'));
        
        // Show selected page
        const pageId = this.getAttribute('data-page');
        if (pageId) {
          const page = document.getElementById(pageId);
          if (page) page.classList.remove('hidden');
        }
      });
    });

    // Menu toggle for mobile
    menuToggle.addEventListener('click', () => {
      sidebar.classList.toggle('hidden');
      mainContent.classList.toggle('full');
    });

    // AI Homework Helper
    const aiContainer = document.getElementById('aiContainer');
    const aiHeader = document.getElementById('aiHeader');
    const aiClose = document.getElementById('aiClose');
    const aiBody = document.getElementById('aiBody');
    const aiInput = document.getElementById('aiInput');
    const aiSend = document.getElementById('aiSend');
    const typingIndicator = document.getElementById('typingIndicator');

    // Toggle AI container
    aiHeader.addEventListener('click', () => {
      aiContainer.classList.toggle('active');
    });

    aiClose.addEventListener('click', () => {
      aiContainer.classList.remove('active');
    });

    // Mock AI responses with emojis
    const aiResponses = [
      "Great question! 🤔 Let me explain this concept clearly for you. 💡 Understanding this will help you in future topics too! 📚",
      "I see what you're asking! 👍 Here's a simple way to think about it: Imagine you have 5 apples... 🍎 This makes the concept much easier to grasp! 😊",
      "Excellent thinking! 🎯 You're on the right track. Just remember to always check your work by... ✅ This habit will help you avoid small mistakes! ✨",
      "That's a common point of confusion! 😅 Many students struggle with this. The key is to break it down into smaller steps... 🔍 Take your time and you'll get it! 💪",
      "Wonderful question! 🌟 This shows you're really thinking deeply about the material. The answer lies in understanding the fundamental principle of... 🧩 Keep up the great work! 🏆",
      "I love how you're approaching this! 🚀 Your curiosity will take you far. Let me show you a different perspective that might help... 🌈 Sometimes seeing it differently makes all the difference! ✨",
      "You're absolutely right to ask this! 🙌 It's an important concept that builds the foundation for more advanced topics. Let's break it down together... 🧱 Building strong foundations is key! 🏗️",
      "That's a smart observation! 👏 I can see you've been paying attention in class. To extend your thinking further... 🌱 Growth mindset in action! 🌟"
    ];

    // Send AI message
    function sendAiMessage(message, isUser = true) {
      const messageDiv = document.createElement('div');
      messageDiv.className = isUser ? 'ai-message ai-user' : 'ai-message ai-bot';
      messageDiv.textContent = message;
      aiBody.appendChild(messageDiv);
      aiBody.scrollTop = aiBody.scrollHeight;
    }

    // AI response function
    function getAiResponse(userMessage) {
      // Simulate thinking time
      typingIndicator.style.display = 'block';
      
      setTimeout(() => {
        typingIndicator.style.display = 'none';
        const randomResponse = aiResponses[Math.floor(Math.random() * aiResponses.length)];
        sendAiMessage(randomResponse, false);
      }, 1500);
    }

    // Send message on button click
    aiSend.addEventListener('click', () => {
      const message = aiInput.value.trim();
      if (message) {
        sendAiMessage(message);
        aiInput.value = '';
        getAiResponse(message);
      }
    });

    // Send message on Enter key
    aiInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        const message = aiInput.value.trim();
        if (message) {
          sendAiMessage(message);
          aiInput.value = '';
          getAiResponse(message);
        }
      }
    });

    // Theme toggle
    const themeToggle = document.getElementById('themeToggle');
    const themeSelect = document.getElementById('themeSelect');
    
    themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      const isDark = document.body.classList.contains('dark-mode');
      themeToggle.innerHTML = isDark ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });
    
    themeSelect.addEventListener('change', () => {
      if (themeSelect.value === 'dark') {
        document.body.classList.add('dark-mode');
        themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
      } else if (themeSelect.value === 'light') {
        document.body.classList.remove('dark-mode');
        themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
      }
      localStorage.setItem('theme', themeSelect.value);
    });

    // Check saved theme
    const savedTheme = localStorage.getItem('theme') || 'light';
    if (savedTheme === 'dark') {
      document.body.classList.add('dark-mode');
      themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
      themeSelect.value = 'dark';
    }

    // Logout functionality
    const logoutBtn = document.getElementById('logoutBtn');
    const dropdownLogout = document.getElementById('dropdownLogout');
    const logoutModal = document.getElementById('logoutModal');
    const cancelLogout = document.getElementById('cancelLogout');
    const confirmLogout = document.getElementById('confirmLogout');
    const toast = document.getElementById('toast');

    logoutBtn.addEventListener('click', (e) => {
      e.preventDefault();
      logoutModal.classList.add('active');
    });

    dropdownLogout.addEventListener('click', (e) => {
      e.preventDefault();
      logoutModal.classList.add('active');
    });

    cancelLogout.addEventListener('click', () => {
      logoutModal.classList.remove('active');
    });

    confirmLogout.addEventListener('click', () => {
      localStorage.removeItem('mkps_student');
      showToast('Logged out successfully!');
      setTimeout(() => {
        window.location.href = 'index.html';
      }, 1000);
    });

    // Close modal when clicking outside
    logoutModal.addEventListener('click', (e) => {
      if (e.target === logoutModal) {
        logoutModal.classList.remove('active');
      }
    });

    // Toast notification
    function showToast(message) {
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(() => {
        toast.classList.remove('show');
      }, 3000);
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      updateProfileInfo();
      
      // Set first page as active
      document.querySelector('[data-page="dashboard"]').classList.add('active');
      
      // Show dashboard by default
      document.getElementById('dashboard').classList.remove('hidden');
    });

    // Google Generative AI Integration
    async function initializeAI() {
      try {
        const genAI = new GoogleGenerativeAI("AIzaSyCdzFBQ1KVgBfmmjSgHJJwcuLbqne9VjUs");
        
        // Add event listener for AI input
        aiInput.addEventListener('keypress', async (e) => {
          if (e.key === 'Enter') {
            const message = aiInput.value.trim();
            if (message) {
              sendAiMessage(message);
              aiInput.value = '';
              
              // Show typing indicator
              typingIndicator.style.display = 'block';
              
              try {
                const model = genAI.getGenerativeModel({ model: "gemini-pro"});
                const result = await model.generateContent(message);
                const response = await result.response;
                const text = response.text();
                
                // Hide typing indicator and show response
                typingIndicator.style.display = 'none';
                sendAiMessage(text, false);
              } catch (error) {
                typingIndicator.style.display = 'none';
                sendAiMessage("I apologize, but I'm having trouble connecting to the AI service right now. Please try again later. 🙁", false);
                console.error("AI Error:", error);
              }
            }
          }
        });
      } catch (error) {
        console.warn("Google Generative AI not available:", error);
        // Fallback to mock responses
        aiInput.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') {
            const message = aiInput.value.trim();
            if (message) {
              sendAiMessage(message);
              aiInput.value = '';
              getAiResponse(message);
            }
          }
        });
      }
    }

    // Initialize AI when page loads
    window.addEventListener('load', initializeAI);
  </script>
</body>
</html>
