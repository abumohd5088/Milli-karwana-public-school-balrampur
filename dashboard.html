<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Dashboard - 20 Features Springfield</title>
    <link rel="stylesheet" href="css/ultra-pro.css">
</head>
<body>
    <!-- 8. Status Bar -->
    <div class="status-bar">
        <span id="liveTime">12:00</span>
        <span>📍 Springfield India</span>
        <span>🔋100%</span>
    </div>

    <!-- 9. Header with AI -->
    <header class="dashboard-header">
        <h1 id="welcomeText">Welcome</h1>
        <button onclick="logout()">🚪</button>
    </header>

    <!-- 10. AI Stats -->
    <div class="ai-stats">
        <div class="stat-card">
            <div class="stat-icon">📚</div>
            <div class="stat-number" id="hwCount">0</div>
            <div class="stat-label">AI Homework</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">📝</div>
            <div class="stat-number" id="notesCount">0</div>
            <div class="stat-label">Smart Notes</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">📊</div>
            <div class="stat-number" id="resultsCount">0</div>
            <div class="stat-label">AI Results</div>
        </div>
    </div>

    <!-- 11-20. Main Features -->
    <main class="dashboard-main">
        <!-- 11. AI Homework -->
        <section class="feature-section">
            <h2>📚 AI Homework</h2>
            <div id="homeworkCards"></div>
            <button onclick="addAIHomework()">+ Add AI Homework</button>
        </section>

        <!-- 12. Smart Notes -->
        <section class="feature-section">
            <h2>📝 Smart Notes</h2>
            <div id="notesCards"></div>
            <button onclick="addSmartNotes()">+ Add Smart Notes</button>
        </section>

        <!-- 13. AI Results -->
        <section class="feature-section">
            <h2>📊 AI Results</h2>
            <div id="resultsCards"></div>
            <button onclick="addAIResults()">+ Add AI Results</button>
        </section>

        <!-- 14. Smart Attendance -->
        <section class="feature-section">
            <h2>✅ Smart Attendance</h2>
            <div id="attendanceCalendar"></div>
            <button onclick="markAttendance()">+ Mark Attendance</button>
        </section>

        <!-- 15. AI Assistant -->
        <section class="feature-section">
            <h2>🤖 AI Assistant</h2>
            <input type="text" id="aiInput" placeholder="Ask AI anything...">
            <button onclick="askAI()">Send to AI</button>
        </section>

        <!-- 16. Voice Commands -->
        <section class="feature-section">
            <h2>🎤 Voice Commands</h2>
            <button onclick="startVoice()">Start Voice</button>
            <div id="voiceOutput"></div>
        </section>

        <!-- 17. QR Codes -->
        <section class="feature-section">
            <h2>📱 QR Codes</h2>
            <button onclick="generateQR()">Generate QR</button>
            <div id="qrDisplay"></div>
        </section>

        <!-- 18. Smart Search -->
        <section class="feature-section">
            <h2>🔍 Smart Search</h2>
            <input type="text" id="searchInput" placeholder="Search anything..." oninput="smartSearch()">
            <div id="searchResults"></div>
        </section>

        <!-- 19. Export/Import -->
        <section class="feature-section">
            <h2>📤📥 Export/Import</h2>
            <button onclick="exportData()">Export All</button>
            <button onclick="importData()">Import All</button>
        </section>

        <!-- 20. Real-time Sync -->
        <section class="feature-section">
            <h2>🔄 Real-time Sync</h2>
            <button onclick="syncData()">Sync Now</button>
            <div id="syncStatus">Synced</div>
        </section>
    </main>

    <!-- 21. AI Navigation -->
    <nav class="ai-nav">
        <button data-section="homework">📚</button>
        <button data-section="notes">📝</button>
        <button data-section="results">📊</button>
        <button data-section="attendance">✅</button>
        <button data-section="ai">🤖</button>
    </nav>

    <script>
        // 20 Features Dashboard
        class TwentyFeaturesDashboard {
            constructor() {
                this.user = JSON.parse(localStorage.getItem('currentUser'));
                this.init();
            }

            init() {
                this.setupUI();
                this.loadAllData();
                this.startRealTime();
            }

            setupUI() {
                document.getElementById('welcomeText').textContent = `Welcome, ${this.user.name}`;
                this.updateStats();
            }

            loadAllData() {
                this.loadHomework();
                this.loadNotes();
                this.loadResults();
                this.loadAttendance();
                this.loadAI();
            }

            loadHomework() {
                const homework = this.getData('homework');
                document.getElementById('homeworkCards').innerHTML = homework.map(hw => `
                    <div class="feature-card">
                        <h3>${hw.subject}</h3>
                        <p>${hw.description}</p>
                        <small>Due: ${hw.dueDate}</small>
                    </div>
                `).join('');
            }

            loadNotes() {
                const notes = this.getData('notes');
                document.getElementById('notesCards').innerHTML = notes.map(note => `
                    <div class="feature-card">
                        <h3>${note.title}</h3>
                        <p>${note.content}</p>
                    </div>
                `).join('');
            }

            loadResults() {
                const results = this.getData('results');
                document.getElementById('resultsCards').innerHTML = results.map(result => `
                    <div class="feature-card">
                        <h3>${result.subject}</h3>
                        <p>Score: ${result.score}/100</p>
                    </div>
                `).join('');
            }

            loadAttendance() {
                const attendance = this.getData('attendance');
                document.getElementById('attendanceCalendar').innerHTML = `
                    <div class="calendar">
                        ${Array.from({length: 30}, (_, i) => `
                            <div class="calendar-day ${Math.random() > 0.1 ? 'present' : 'absent'}">${i+1}</div>
                        `).join('')}
                    </div>
                `;
            }

            loadAI() {
                // AI integration
            }

            startRealTime() {
                setInterval(() => {
                    this.updateStats();
                }, 5000);
            }

            updateStats() {
                document.getElementById('hwCount').textContent = this.getData('homework').length;
                document.getElementById('notesCount').textContent = this.getData('notes').length;
                document.getElementById('resultsCount').textContent = this.getData('results').length;
            }

            getData(key) {
                return JSON.parse(localStorage.getItem(key)) || [];
            }

            addAIHomework() {
                const homework = {
                    id: Date.now(),
                    subject: 'Math',
                    description: 'Complete Chapter 5 - AI assigned',
                    dueDate: '2025-08-25'
                };
                let hw = this.getData('homework');
                hw.push(homework);
                localStorage.setItem('homework', JSON.stringify(hw));
                this.loadHomework();
            }

            logout() {
                if (confirm('Logout from 20 features?')) {
                    localStorage.removeItem('currentUser');
                    window.location.href = 'index.html';
                }
            }

            addSmartNotes() {
                const note = {
                    id: Date.now(),
                    title: 'AI Generated Note',
                    content: 'This is a smart AI note'
                };
                let notes = this.getData('notes');
                notes.push(note);
                localStorage.setItem('notes', JSON.stringify(notes));
                this.loadNotes();
            }

            addAIResults() {
                const result = {
                    id: Date.now(),
                    subject: 'Math',
                    score: 95
                };
                let results = this.getData('results');
                results.push(result);
                localStorage.setItem('results', JSON.stringify(results));
                this.loadResults();
            }

            markAttendance() {
                let attendance = this.getData('attendance');
                attendance.push({ date: new Date().toISOString().split('T')[0], status: 'present' });
                localStorage.setItem('attendance', JSON.stringify(attendance));
                this.loadAttendance();
            }

            askAI() {
                const input = document.getElementById('aiInput');
                alert(`AI Response: ${input.value}`);
                input.value = '';
            }

            startVoice() {
                alert('Voice commands started');
            }

            generateQR() {
                alert('QR generated');
            }

            smartSearch() {
                const input = document.getElementById('searchInput');
                alert(`Searching: ${input.value}`);
            }

            exportData() {
                const allData = {
                    homework: this.getData('homework'),
                    notes: this.getData('notes'),
                    results: this.getData('results'),
                    attendance: this.getData('attendance')
                };
                const blob = new Blob([JSON.stringify(allData)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'springfield-data.json';
                a.click();
            }

            syncData() {
                document.getElementById('syncStatus').textContent = 'Syncing...';
                setTimeout(() => {
                    document.getElementById('syncStatus').textContent = 'Synced';
                }, 1000);
            }
        }

        new TwentyFeaturesDashboard();
    </script>
</body>
</html>
