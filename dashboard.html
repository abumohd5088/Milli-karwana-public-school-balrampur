<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Milli Karwaan Public School | Student Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <script src="https://cdn.jsdelivr.net/npm/@google/generative-ai"></script>
  <style>
    :root {
      --primary: #4361ee;
      --secondary: #3f37c9;
      --success: #4cc9f0;
      --accent: #f72585;
      --light: #f8f9fa;
      --dark: #212529;
      --gray: #6c757d;
      --warning: #fca311;
      --info: #4895ef;
      --danger: #e63946;
      --white: #ffffff;
      --glass-bg: rgba(255, 255, 255, 0.15);
      --glass-border: rgba(255, 255, 255, 0.25);
      --shadow-sm: 0 4px 12px rgba(0,0,0,0.08);
      --shadow: 0 8px 30px rgba(0,0,0,0.12);
      --shadow-lg: 0 16px 40px rgba(0,0,0,0.15);
      --radius: 16px;
      --radius-md: 12px;
      --radius-sm: 8px;
      --transition: all 0.3s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #e0f7fa, #bbdefb);
      color: var(--dark);
      line-height: 1.6;
      min-height: 100vh;
      overflow-x: hidden;
      background-attachment: fixed;
    }

    .container {
      display: flex;
      min-height: 100vh;
    }

    /* Sidebar Styles */
    .sidebar {
      width: 280px;
      background: var(--primary);
      background: linear-gradient(180deg, var(--primary), var(--secondary));
      color: var(--white);
      padding: 20px 0;
      position: fixed;
      height: 100%;
      overflow-y: auto;
      z-index: 1000;
      transform: translateX(0);
      transition: var(--transition);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
    }

    .sidebar.hidden {
      transform: translateX(-100%);
    }

    .sidebar-header {
      padding: 20px;
      text-align: center;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .logo {
      font-size: 24px;
      font-weight: 700;
      color: var(--white);
      margin-bottom: 8px;
    }

    .school-name {
      font-size: 14px;
      opacity: 0.9;
    }

    .user-profile {
      padding: 20px;
      text-align: center;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .profile-img {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: var(--white);
      margin: 0 auto 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      color: var(--primary);
      font-weight: 600;
    }

    .student-name {
      font-weight: 600;
      font-size: 16px;
    }

    .student-class {
      font-size: 14px;
      opacity: 0.9;
    }

    .nav-menu {
      list-style: none;
      padding: 10px 0;
    }

    .nav-item {
      position: relative;
    }

    .nav-link {
      display: flex;
      align-items: center;
      padding: 12px 20px;
      color: var(--white);
      text-decoration: none;
      transition: var(--transition);
      border-left: 3px solid transparent;
      font-weight: 500;
    }

    .nav-link:hover, .nav-link.active {
      background: rgba(255,255,255,0.1);
      border-left-color: var(--white);
      transform: translateX(4px);
    }

    .nav-link i {
      margin-right: 10px;
      width: 20px;
      text-align: center;
    }

    .submenu {
      list-style: none;
      background: rgba(255,255,255,0.05);
      border-radius: var(--radius-sm);
      margin: 5px 15px;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease;
    }

    .submenu.active {
      max-height: 500px;
    }

    .submenu-item {
      padding: 8px 20px;
      font-size: 14px;
    }

    .submenu-link {
      color: rgba(255,255,255,0.85);
      text-decoration: none;
      display: block;
      transition: color 0.3s;
    }

    .submenu-link:hover {
      color: var(--white);
    }

    .nav-arrow {
      margin-left: auto;
      transition: transform 0.3s;
    }

    .nav-arrow.rotate {
      transform: rotate(90deg);
    }

    /* Main Content */
    .main-content {
      flex: 1;
      margin-left: 280px;
      transition: var(--transition);
      min-height: 100vh;
    }

    .main-content.full {
      margin-left: 0;
    }

    .header {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: var(--shadow-sm);
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 999;
      border-bottom: 1px solid var(--glass-border);
    }

    .menu-toggle {
      font-size: 24px;
      color: var(--dark);
      cursor: pointer;
      display: none;
    }

    .search-bar {
      flex: 1;
      max-width: 400px;
      margin: 0 20px;
    }

    .search-input {
      width: 100%;
      padding: 10px 15px;
      border: none;
      outline: none;
      border-radius: 50px;
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      color: var(--dark);
      font-size: 14px;
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .icon-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--dark);
      cursor: pointer;
      transition: var(--transition);
    }

    .icon-btn:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-sm);
    }

    .notifications {
      position: relative;
    }

    .badge {
      position: absolute;
      top: 8px;
      right: 8px;
      width: 18px;
      height: 18px;
      background: var(--danger);
      color: var(--white);
      border-radius: 50%;
      font-size: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .profile-dropdown {
      position: relative;
    }

    .profile-dropdown-menu {
      position: absolute;
      top: 60px;
      right: 0;
      width: 250px;
      background: var(--white);
      border-radius: var(--radius);
      box-shadow: var(--shadow-lg);
      overflow: hidden;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all 0.3s ease;
      z-index: 1000;
    }

    .profile-dropdown:hover .profile-dropdown-menu {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .dropdown-header {
      padding: 15px;
      background: var(--primary);
      color: var(--white);
      text-align: center;
    }

    .dropdown-body {
      padding: 10px 0;
    }

    .dropdown-item {
      padding: 12px 20px;
      display: flex;
      align-items: center;
      color: var(--dark);
      text-decoration: none;
      transition: background 0.3s;
    }

    .dropdown-item:hover {
      background: #f8f9fa;
    }

    .dropdown-item i {
      margin-right: 10px;
      color: var(--primary);
    }

    /* Dashboard Content */
    .dashboard {
      padding: 30px;
    }

    .page-title {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 20px;
      color: var(--dark);
      display: flex;
      align-items: center;
    }

    .page-title i {
      margin-right: 10px;
      color: var(--primary);
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .stat-card {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow-sm);
      transition: var(--transition);
    }

    .stat-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow);
    }

    .stat-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 15px;
    }

    .stat-icon {
      width: 50px;
      height: 50px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }

    .icon-blue { background: rgba(67, 97, 238, 0.2); color: var(--primary); }
    .icon-green { background: rgba(76, 201, 240, 0.2); color: var(--success); }
    .icon-orange { background: rgba(252, 163, 17, 0.2); color: var(--warning); }
    .icon-pink { background: rgba(247, 37, 133, 0.2); color: var(--accent); }

    .stat-title {
      font-size: 14px;
      color: var(--gray);
    }

    .stat-value {
      font-size: 28px;
      font-weight: 700;
      margin: 5px 0;
    }

    .stat-desc {
      font-size: 13px;
      color: var(--gray);
    }

    .card {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow-sm);
      margin-bottom: 20px;
      transition: var(--transition);
    }

    .card:hover {
      box-shadow: var(--shadow);
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .card-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--dark);
    }

    .card-title i {
      margin-right: 8px;
      color: var(--primary);
    }

    .view-all {
      color: var(--primary);
      font-size: 14px;
      text-decoration: none;
    }

    .view-all:hover {
      text-decoration: underline;
    }

    .timeline {
      list-style: none;
      padding: 10px 0;
    }

    .timeline-item {
      display: flex;
      margin-bottom: 15px;
      position: relative;
      padding-left: 30px;
    }

    .timeline-item:before {
      content: '';
      position: absolute;
      left: 8px;
      top: 0;
      width: 4px;
      height: 100%;
      background: var(--primary);
      z-index: 0;
    }

    .timeline-dot {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--white);
      border: 3px solid var(--primary);
      position: absolute;
      left: 0;
      z-index: 1;
    }

    .timeline-content {
      background: var(--white);
      padding: 12px;
      border-radius: var(--radius-sm);
      box-shadow: var(--shadow-sm);
      font-size: 14px;
    }

    .timeline-time {
      font-size: 12px;
      color: var(--gray);
      margin-top: 5px;
    }

    .subject-list {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .subject-tag {
      padding: 6px 12px;
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      border-radius: 50px;
      font-size: 13px;
      color: var(--dark);
    }

    .progress-container {
      margin: 10px 0;
    }

    .progress-label {
      display: flex;
      justify-content: space-between;
      font-size: 14px;
      margin-bottom: 5px;
    }

    .progress-bar {
      height: 8px;
      background: #e9ecef;
      border-radius: 4px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      border-radius: 4px;
      transition: width 0.4s ease;
    }

    .progress-blue { background: var(--primary); }
    .progress-green { background: var(--success); }
    .progress-orange { background: var(--warning); }
    .progress-pink { background: var(--accent); }

    .attendance-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 5px;
      margin-top: 10px;
    }

    .attendance-day {
      aspect-ratio: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 600;
      border-radius: 50%;
      color: var(--white);
    }

    .present { background: var(--success); }
    .absent { background: var(--danger); }
    .late { background: var(--warning); }
    .holiday { background: var(--gray); }

    .timetable {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }

    .timetable th, .timetable td {
      padding: 10px;
      text-align: center;
      border: 1px solid #dee2e6;
    }

    .timetable th {
      background: #f8f9fa;
      font-weight: 600;
    }

    .subject-math { background: rgba(67, 97, 238, 0.1); }
    .subject-science { background: rgba(76, 201, 240, 0.1); }
    .subject-english { background: rgba(252, 163, 17, 0.1); }
    .subject-hindi { background: rgba(247, 37, 133, 0.1); }
    .subject-social { background: rgba(39, 174, 96, 0.1); }

    .resource-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 15px;
    }

    .resource-card {
      background: var(--white);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
      transition: var(--transition);
    }

    .resource-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow);
    }

    .resource-img {
      height: 120px;
      background: #e9ecef;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 30px;
      color: var(--primary);
    }

    .resource-body {
      padding: 15px;
    }

    .resource-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 5px;
    }

    .resource-desc {
      font-size: 13px;
      color: var(--gray);
    }

    .btn {
      display: inline-block;
      padding: 8px 16px;
      border-radius: 50px;
      font-size: 14px;
      font-weight: 500;
      text-decoration: none;
      cursor: pointer;
      transition: var(--transition);
    }

    .btn-primary {
      background: var(--primary);
      color: var(--white);
    }

    .btn-outline {
      border: 1px solid var(--primary);
      color: var(--primary);
      background: transparent;
    }

    .btn-sm {
      padding: 6px 12px;
      font-size: 12px;
    }

    .btn-block {
      display: block;
      width: 100%;
    }

    .btn:hover {
      opacity: 0.9;
      transform: translateY(-2px);
    }

    .exam-schedule {
      width: 100%;
      border-collapse: collapse;
    }

    .exam-schedule th, .exam-schedule td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #dee2e6;
    }

    .exam-schedule th {
      background: #f8f9fa;
      font-weight: 600;
    }

    .result-item {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid #eee;
    }

    .result-subject {
      font-weight: 500;
    }

    .result-marks {
      color: var(--primary);
      font-weight: 600;
    }

    .announcement {
      margin-bottom: 15px;
      padding: 15px;
      background: var(--white);
      border-radius: var(--radius);
      box-shadow: var(--shadow-sm);
    }

    .announcement-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
    }

    .announcement-title {
      font-weight: 600;
      color: var(--dark);
    }

    .announcement-date {
      font-size: 12px;
      color: var(--gray);
    }

    .announcement-content {
      font-size: 14px;
      color: var(--dark);
    }

    /* AI Homework Helper */
    .ai-container {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      width: 380px;
      background: var(--white);
      border-radius: var(--radius);
      box-shadow: var(--shadow-lg);
      overflow: hidden;
      display: none;
    }

    .ai-container.active {
      display: block;
    }

    .ai-header {
      background: var(--primary);
      color: var(--white);
      padding: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
    }

    .ai-title {
      font-weight: 600;
      display: flex;
      align-items: center;
    }

    .ai-title i {
      margin-right: 8px;
    }

    .ai-close {
      background: rgba(255,255,255,0.2);
      border: none;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    .ai-body {
      height: 400px;
      overflow-y: auto;
      padding: 15px;
      background: #f8f9fa;
    }

    .ai-message {
      margin-bottom: 15px;
      max-width: 80%;
    }

    .ai-user {
      margin-left: auto;
      background: var(--primary);
      color: var(--white);
      padding: 10px 15px;
      border-radius: 18px 18px 0 18px;
    }

    .ai-bot {
      background: var(--white);
      padding: 10px 15px;
      border-radius: 18px 18px 18px 0;
      box-shadow: var(--shadow-sm);
    }

    .ai-input-container {
      display: flex;
      padding: 10px;
      background: var(--white);
      border-top: 1px solid #dee2e6;
    }

    .ai-input {
      flex: 1;
      padding: 10px 15px;
      border: 1px solid #dee2e6;
      border-radius: 50px;
      outline: none;
      font-size: 14px;
    }

    .ai-send {
      width: 40px;
      height: 40px;
      border: none;
      background: var(--primary);
      color: var(--white);
      border-radius: 50%;
      margin-left: 10px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .typing {
      font-style: italic;
      color: var(--gray);
      font-size: 13px;
      margin: 5px 0 10px;
      display: none;
    }

    /* Responsive */
    @media (max-width: 992px) {
      .sidebar {
        transform: translateX(-100%);
      }
      .sidebar.active {
        transform: translateX(0);
      }
      .main-content {
        margin-left: 0;
      }
      .menu-toggle {
        display: block;
      }
      .search-bar {
        display: none;
      }
    }

    @media (max-width: 768px) {
      .stats-grid {
        grid-template-columns: 1fr;
      }
      .ai-container {
        width: 90%;
        bottom: 15px;
        right: 15px;
        left: 15px;
      }
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .animate {
      animation: fadeIn 0.6s ease forwards;
    }

    .delay-1 { animation-delay: 0.1s; }
    .delay-2 { animation-delay: 0.2s; }
    .delay-3 { animation-delay: 0.3s; }
    .delay-4 { animation-delay: 0.4s; }
    .delay-5 { animation-delay: 0.5s; }

    /* Footer */
    .footer {
      text-align: center;
      padding: 20px;
      background: var(--dark);
      color: var(--white);
      margin-top: 40px;
      font-size: 14px;
    }

    .hidden {
      display: none;
    }

    /* Profile Section */
    .profile-grid {
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 30px;
    }

    .profile-sidebar {
      background: var(--white);
      padding: 20px;
      border-radius: var(--radius);
      box-shadow: var(--shadow-sm);
    }

    .profile-avatar {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      margin: 0 auto 15px;
      background: var(--primary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 36px;
      color: var(--white);
      font-weight: 600;
      margin-bottom: 20px;
    }

    .profile-info {
      margin-bottom: 15px;
    }

    .info-label {
      font-size: 14px;
      color: var(--gray);
    }

    .info-value {
      font-weight: 600;
      margin-top: 5px;
    }

    .profile-main {
      background: var(--white);
      padding: 20px;
      border-radius: var(--radius);
      box-shadow: var(--shadow-sm);
    }

    .tab-nav {
      display: flex;
      border-bottom: 1px solid #dee2e6;
      margin-bottom: 20px;
    }

    .tab-item {
      padding: 10px 20px;
      cursor: pointer;
      font-weight: 500;
      border-bottom: 3px solid transparent;
    }

    .tab-item.active {
      border-bottom-color: var(--primary);
      color: var(--primary);
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    /* Settings */
    .setting-item {
      padding: 15px 0;
      border-bottom: 1px solid #eee;
    }

    .setting-label {
      font-weight: 500;
      margin-bottom: 8px;
    }

    .setting-desc {
      font-size: 14px;
      color: var(--gray);
      margin-bottom: 10px;
    }

    .switch {
      position: relative;
      display: inline-block;
      width: 50px;
      height: 24px;
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 24px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: var(--primary);
    }

    input:checked + .slider:before {
      transform: translateX(26px);
    }

    /* Library */
    .book-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 15px;
    }

    .book-card {
      background: var(--white);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
      transition: var(--transition);
    }

    .book-cover {
      height: 200px;
      background: #e9ecef;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 40px;
      color: var(--primary);
    }

    .book-info {
      padding: 15px;
    }

    .book-title {
      font-size: 16px;
      font-weight: 600;
    }

    .book-author {
      font-size: 14px;
      color: var(--gray);
    }

    .book-status {
      font-size: 12px;
      padding: 3px 8px;
      border-radius: 50px;
      display: inline-block;
      margin-top: 8px;
    }

    .available { background: rgba(40, 167, 69, 0.1); color: #28a745; }
    .borrowed { background: rgba(220, 53, 69, 0.1); color: #dc3545; }

    /* E-Learning */
    .video-list {
      list-style: none;
    }

    .video-item {
      display: flex;
      padding: 15px;
      border-bottom: 1px solid #eee;
      cursor: pointer;
      transition: background 0.3s;
    }

    .video-item:hover {
      background: #f8f9fa;
    }

    .video-thumb {
      width: 120px;
      height: 70px;
      background: #e9ecef;
      margin-right: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .video-info {
      flex: 1;
    }

    .video-title {
      font-weight: 600;
      margin-bottom: 5px;
    }

    .video-subject {
      font-size: 14px;
      color: var(--gray);
    }

    .video-duration {
      font-size: 12px;
      color: var(--gray);
    }

    /* Notes */
    .notes-list {
      list-style: none;
    }

    .note-item {
      padding: 15px;
      border-bottom: 1px solid #eee;
      transition: background 0.3s;
    }

    .note-item:hover {
      background: #f8f9fa;
    }

    .note-title {
      font-weight: 600;
      margin-bottom: 5px;
    }

    .note-meta {
      font-size: 13px;
      color: var(--gray);
      display: flex;
      gap: 15px;
    }

    /* Online Tests */
    .test-list {
      list-style: none;
    }

    .test-item {
      padding: 15px;
      border-bottom: 1px solid #eee;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .test-info {
      flex: 1;
    }

    .test-title {
      font-weight: 600;
    }

    .test-subject {
      font-size: 14px;
      color: var(--gray);
    }

    .test-actions {
      display: flex;
      gap: 10px;
    }

    /* Progress Reports */
    .report-chart {
      height: 300px;
      background: #f8f9fa;
      border-radius: var(--radius);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      color: var(--gray);
    }

    /* Chatbot */
    .chatbot {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
    }

    .chatbot-btn {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: var(--primary);
      color: var(--white);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      box-shadow: var(--shadow-lg);
      cursor: pointer;
      transition: var(--transition);
    }

    .chatbot-btn:hover {
      transform: scale(1.1);
    }

    /* Print Button */
    .print-btn {
      background: var(--success);
      color: var(--white);
      border: none;
      padding: 8px 16px;
      border-radius: 50px;
      cursor: pointer;
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    /* Admin Hook */
    #adminHook {
      display: none;
    }
  </style>
</head>
<body>
  <!-- Admin Hook -->
  <div id="adminHook" data-route="dashboard.html"></div>

  <!-- Chatbot Button -->
  <div class="chatbot" id="aiToggle">
    <div class="chatbot-btn">
      <i class="fas fa-robot"></i>
    </div>
  </div>

  <!-- AI Homework Helper -->
  <div class="ai-container" id="aiContainer">
    <div class="ai-header">
      <div class="ai-title"><i class="fas fa-robot"></i> AI Homework Helper</div>
      <button class="ai-close" id="aiClose"><i class="fas fa-times"></i></button>
    </div>
    <div class="ai-body" id="aiBody">
      <div class="ai-message ai-bot">
        Hello! I'm your AI Homework Helper. Ask me any study-related question and I'll help you with a detailed answer. 😊
      </div>
    </div>
    <div class="typing" id="typing">AI is typing...</div>
    <div class="ai-input-container">
      <input type="text" class="ai-input" id="aiInput" placeholder="Ask your study question...">
      <button class="ai-send" id="aiSend"><i class="fas fa-paper-plane"></i></button>
    </div>
  </div>

  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="logo">Milli Karwaan Public School</div>
        <div class="school-name">Balrampur, Uttar Pradesh</div>
      </div>

      <div class="user-profile">
        <div class="profile-img" id="profileInitial">MK</div>
        <div class="student-name" id="studentName">Loading...</div>
        <div class="student-class" id="studentClass">Class</div>
      </div>

      <ul class="nav-menu">
        <!-- Dashboard -->
        <li class="nav-item">
          <a href="#" class="nav-link active" data-page="dashboard">
            <i class="fas fa-home"></i> Dashboard
          </a>
        </li>

        <!-- Homework -->
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="homework">
            <i class="fas fa-book"></i> Homework
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="current-homework">Current Homework</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="homework-calendar">Homework Calendar</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="submit-homework">Submit Homework</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="homework-status">Homework Status</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="homework-help">Homework Help</a></li>
          </ul>
        </li>

        <!-- Timetable -->
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="timetable">
            <i class="fas fa-calendar-alt"></i> Timetable
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="weekly-timetable">Weekly Timetable</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="daily-schedule">Daily Schedule</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="class-reminders">Class Reminders</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="teacher-schedule">Teacher Schedule</a></li>
          </ul>
        </li>

        <!-- Attendance -->
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="attendance">
            <i class="fas fa-check-circle"></i> Attendance
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="daily-attendance">Daily Attendance</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="monthly-report">Monthly Report</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="attendance-history">Attendance History</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="absence-reason">Absence Reason</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="late-entries">Late Entries</a></li>
          </ul>
        </li>

        <!-- Exams -->
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="exams">
            <i class="fas fa-clipboard-list"></i> Exams
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="exam-schedule">Exam Schedule</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="exam-pattern">Exam Pattern</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="admit-card">Admit Card</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="exam-rules">Exam Rules</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="exam-venue">Exam Venue</a></li>
          </ul>
        </li>

        <!-- Results -->
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="results">
            <i class="fas fa-award"></i> Results
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="term-results">Term Results</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="unit-tests">Unit Tests</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="practical-marks">Practical Marks</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="grade-sheet">Grade Sheet</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="result-analysis">Result Analysis</a></li>
          </ul>
        </li>

        <!-- Announcements -->
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="announcements">
            <i class="fas fa-bullhorn"></i> Announcements
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="school-news">School News</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="event-notices">Event Notices</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="holiday-list">Holiday List</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="circulars">Circulars</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="emergency-alerts">Emergency Alerts</a></li>
          </ul>
        </li>

        <!-- Library -->
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="library">
            <i class="fas fa-book-open"></i> Library
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="book-catalog">Book Catalog</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="e-books">E-Books</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="borrow-history">Borrow History</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="return-due">Return Due</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="reading-challenge">Reading Challenge</a></li>
          </ul>
        </li>

        <!-- E-Learning -->
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="elearning">
            <i class="fas fa-laptop"></i> E-Learning
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="video-lessons">Video Lessons</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="interactive-quizzes">Interactive Quizzes</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="digital-textbooks">Digital Textbooks</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="live-classes">Live Classes</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="recorded-sessions">Recorded Sessions</a></li>
          </ul>
        </li>

        <!-- Online Tests -->
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="tests">
            <i class="fas fa-pen"></i> Online Tests
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="practice-tests">Practice Tests</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="mock-exams">Mock Exams</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="test-results">Test Results</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="test-analysis">Test Analysis</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="test-schedule">Test Schedule</a></li>
          </ul>
        </li>

        <!-- Notes -->
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="notes">
            <i class="fas fa-sticky-note"></i> Notes
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="subject-notes">Subject Notes</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="revision-notes">Revision Notes</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="teacher-notes">Teacher Notes</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="personal-notes">Personal Notes</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="download-notes">Download Notes</a></li>
          </ul>
        </li>

        <!-- Progress Reports -->
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="progress">
            <i class="fas fa-chart-line"></i> Progress Reports
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="academic-progress">Academic Progress</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="behavior-report">Behavior Report</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="skill-development">Skill Development</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="teacher-comments">Teacher Comments</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="growth-metrics">Growth Metrics</a></li>
          </ul>
        </li>

        <!-- Chatbot Help -->
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="chatbot">
            <i class="fas fa-comments"></i> Chatbot Help
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="faq">FAQ</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="support-tickets">Support Tickets</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="quick-help">Quick Help</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="troubleshooting">Troubleshooting</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="contact-support">Contact Support</a></li>
          </ul>
        </li>

        <!-- Profile -->
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="profile">
            <i class="fas fa-user"></i> Profile
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="personal-info">Personal Information</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="academic-info">Academic Information</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="guardian-info">Guardian Information</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="documents">Documents</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="profile-settings">Profile Settings</a></li>
          </ul>
        </li>

        <!-- Settings -->
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="settings">
            <i class="fas fa-cog"></i> Settings
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="account-settings">Account Settings</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="notification-settings">Notification Settings</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="privacy-settings">Privacy Settings</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="theme-settings">Theme Settings</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="language-settings">Language Settings</a></li>
          </ul>
        </li>

        <!-- Logout -->
        <li class="nav-item">
          <a href="#" class="nav-link" id="logoutBtn">
            <i class="fas fa-sign-out-alt"></i> Logout
          </a>
        </li>
      </ul>
    </aside>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
      <header class="header">
        <div class="menu-toggle" id="menuToggle">
          <i class="fas fa-bars"></i>
        </div>
        <div class="search-bar">
          <input type="text" class="search-input" placeholder="Search anything in dashboard...">
        </div>
        <div class="header-actions">
          <div class="icon-btn notifications">
            <i class="fas fa-bell"></i>
            <span class="badge">3</span>
          </div>
          <div class="icon-btn messages">
            <i class="fas fa-envelope"></i>
            <span class="badge">2</span>
          </div>
          <div class="profile-dropdown">
            <div class="icon-btn profile">
              <i class="fas fa-user"></i>
            </div>
            <div class="profile-dropdown-menu">
              <div class="dropdown-header">
                <div id="dropdownName">Student Name</div>
                <div id="dropdownClass">Class</div>
              </div>
              <div class="dropdown-body">
                <a href="#" class="dropdown-item" data-page="profile">
                  <i class="fas fa-user"></i> My Profile
                </a>
                <a href="#" class="dropdown-item" data-page="settings">
                  <i class="fas fa-cog"></i> Settings
                </a>
                <a href="#" class="dropdown-item" data-page="help">
                  <i class="fas fa-question-circle"></i> Help Center
                </a>
                <a href="#" class="dropdown-item" id="dropdownLogout">
                  <i class="fas fa-sign-out-alt"></i> Logout
                </a>
              </div>
            </div>
          </div>
        </div>
      </header>

      <!-- Dashboard Content -->
      <div class="dashboard" id="dashboard">
        <h1 class="page-title"><i class="fas fa-home"></i> Dashboard</h1>

        <!-- Stats Grid -->
        <div class="stats-grid">
          <div class="stat-card animate delay-1">
            <div class="stat-header">
              <div>
                <div class="stat-title">Total Homework</div>
                <div class="stat-value">8</div>
                <div class="stat-desc">3 pending, 5 completed</div>
              </div>
              <div class="stat-icon icon-blue">
                <i class="fas fa-book"></i>
              </div>
            </div>
          </div>

          <div class="stat-card animate delay-2">
            <div class="stat-header">
              <div>
                <div class="stat-title">Attendance</div>
                <div class="stat-value">96%</div>
                <div class="stat-desc">Excellent record</div>
              </div>
              <div class="stat-icon icon-green">
                <i class="fas fa-check-circle"></i>
              </div>
            </div>
          </div>

          <div class="stat-card animate delay-3">
            <div class="stat-header">
              <div>
                <div class="stat-title">Next Exam</div>
                <div class="stat-value">3 Days</div>
                <div class="stat-desc">Mathematics Test</div>
              </div>
              <div class="stat-icon icon-orange">
                <i class="fas fa-clipboard-list"></i>
              </div>
            </div>
          </div>

          <div class="stat-card animate delay-4">
            <div class="stat-header">
              <div>
                <div class="stat-title">Library Books</div>
                <div class="stat-value">2</div>
                <div class="stat-desc">1 due in 3 days</div>
              </div>
              <div class="stat-icon icon-pink">
                <i class="fas fa-book-open"></i>
              </div>
            </div>
          </div>
        </div>

        <!-- Main Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
          <!-- Recent Homework -->
          <div class="card animate delay-1">
            <div class="card-header">
              <h3 class="card-title"><i class="fas fa-book"></i> Recent Homework</h3>
              <a href="#" class="view-all" data-page="homework">View All</a>
            </div>
            <ul class="timeline">
              <li class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                  <div>Complete Mathematics Exercise 5.3</div>
                  <div class="timeline-time">Due: Tomorrow</div>
                </div>
              </li>
              <li class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                  <div>Write Essay on "Importance of Trees"</div>
                  <div class="timeline-time">Due: 2 days left</div>
                </div>
              </li>
              <li class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                  <div>Science Project on Solar System</div>
                  <div class="timeline-time">Due: 5 days left</div>
                </div>
              </li>
            </ul>
            <button class="btn btn-primary btn-block">Submit Homework</button>
          </div>

          <!-- Today's Schedule -->
          <div class="card animate delay-2">
            <div class="card-header">
              <h3 class="card-title"><i class="fas fa-calendar-alt"></i> Today's Schedule</h3>
              <a href="#" class="view-all" data-page="timetable">Full Timetable</a>
            </div>
            <table class="timetable">
              <tr>
                <th>Time</th>
                <th>Subject</th>
                <th>Teacher</th>
              </tr>
              <tr>
                <td>9:00-10:00</td>
                <td class="subject-english">English</td>
                <td>Mrs. Sharma</td>
              </tr>
              <tr>
                <td>10:15-11:15</td>
                <td class="subject-math">Mathematics</td>
                <td>Mr. Patel</td>
              </tr>
              <tr>
                <td>11:30-12:30</td>
                <td class="subject-science">Science</td>
                <td>Mr. Singh</td>
              </tr>
              <tr>
                <td>1:30-2:30</td>
                <td class="subject-hindi">Hindi</td>
                <td>Mrs. Gupta</td>
              </tr>
            </table>
          </div>

          <!-- Recent Announcements -->
          <div class="card animate delay-3">
            <div class="card-header">
              <h3 class="card-title"><i class="fas fa-bullhorn"></i> Announcements</h3>
              <a href="#" class="view-all" data-page="announcements">All Notices</a>
            </div>
            <div class="announcement">
              <div class="announcement-header">
                <div class="announcement-title">Annual Day Celebration</div>
                <div class="announcement-date">Today</div>
              </div>
              <div class="announcement-content">
                Don't forget to attend the Annual Day celebration at 3 PM in the school auditorium.
              </div>
            </div>
            <div class="announcement">
              <div class="announcement-header">
                <div class="announcement-title">Mathematics Test Postponed</div>
                <div class="announcement-date">Yesterday</div>
              </div>
              <div class="announcement-content">
                The Mathematics test scheduled for today has been postponed to Friday.
              </div>
            </div>
          </div>

          <!-- Subject Performance -->
          <div class="card animate delay-4">
            <div class="card-header">
              <h3 class="card-title"><i class="fas fa-chart-bar"></i> Subject Performance</h3>
              <a href="#" class="view-all" data-page="progress">Detailed Report</a>
            </div>
            <div class="progress-container">
              <div class="progress-label">
                <span>Mathematics</span>
                <span>85%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill progress-blue" style="width: 85%;"></div>
              </div>
            </div>
            <div class="progress-container">
              <div class="progress-label">
                <span>Science</span>
                <span>92%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill progress-green" style="width: 92%;"></div>
              </div>
            </div>
            <div class="progress-container">
              <div class="progress-label">
                <span>English</span>
                <span>78%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill progress-orange" style="width: 78%;"></div>
              </div>
            </div>
            <div class="progress-container">
              <div class="progress-label">
                <span>Hindi</span>
                <span>88%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill progress-pink" style="width: 88%;"></div>
              </div>
            </div>
          </div>

          <!-- Attendance This Week -->
          <div class="card animate delay-5">
            <div class="card-header">
              <h3 class="card-title"><i class="fas fa-check-circle"></i> Attendance This Week</h3>
              <a href="#" class="view-all" data-page="attendance">Full Report</a>
            </div>
            <div class="attendance-grid">
              <div class="attendance-day present">M</div>
              <div class="attendance-day present">T</div>
              <div class="attendance-day present">W</div>
              <div class="attendance-day present">T</div>
              <div class="attendance-day present">F</div>
              <div class="attendance-day holiday">S</div>
              <div class="attendance-day holiday">S</div>
            </div>
            <div style="text-align: center; margin-top: 15px;">
              <div style="display: inline-flex; align-items: center; gap: 10px;">
                <div style="display: flex; align-items: center; gap: 5px;">
                  <div style="width: 12px; height: 12px; background: var(--success); border-radius: 50%;"></div>
                  <span style="font-size: 14px;">Present</span>
                </div>
                <div style="display: flex; align-items: center; gap: 5px;">
                  <div style="width: 12px; height: 12px; background: var(--danger); border-radius: 50%;"></div>
                  <span style="font-size: 14px;">Absent</span>
                </div>
                <div style="display: flex; align-items: center; gap: 5px;">
                  <div style="width: 12px; height: 12px; background: var(--warning); border-radius: 50%;"></div>
                  <span style="font-size: 14px;">Late</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Quick Links -->
          <div class="card animate delay-1">
            <div class="card-header">
              <h3 class="card-title"><i class="fas fa-link"></i> Quick Links</h3>
            </div>
            <div class="resource-grid">
              <a href="#" class="resource-card" data-page="elearning">
                <div class="resource-img"><i class="fas fa-laptop"></i></div>
                <div class="resource-body">
                  <div class="resource-title">E-Learning</div>
                  <div class="resource-desc">Watch video lessons</div>
                </div>
              </a>
              <a href="#" class="resource-card" data-page="library">
                <div class="resource-img"><i class="fas fa-book-open"></i></div>
                <div class="resource-body">
                  <div class="resource-title">Library</div>
                  <div class="resource-desc">Borrow e-books</div>
                </div>
              </a>
              <a href="#" class="resource-card" data-page="tests">
                <div class="resource-img"><i class="fas fa-pen"></i></div>
                <div class="resource-body">
                  <div class="resource-title">Online Tests</div>
                  <div class="resource-desc">Practice quizzes</div>
                </div>
              </a>
              <a href="#" class="resource-card" data-page="notes">
                <div class="resource-img"><i class="fas fa-sticky-note"></i></div>
                <div class="resource-body">
                  <div class="resource-title">Notes</div>
                  <div class="resource-desc">Download study notes</div>
                </div>
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- Hidden Pages - Will be shown via JS -->
      <div class="dashboard hidden" id="homework">
        <h1 class="page-title"><i class="fas fa-book"></i> Homework</h1>
        <p>Homework management system. Submit assignments, view due dates, and get help.</p>
      </div>

      <div class="dashboard hidden" id="timetable">
        <h1 class="page-title"><i class="fas fa-calendar-alt"></i> Timetable</h1>
        <p>View your complete class schedule and teacher availability.</p>
      </div>

      <div class="dashboard hidden" id="attendance">
        <h1 class="page-title"><i class="fas fa-check-circle"></i> Attendance</h1>
        <p>Track your attendance record and view monthly reports.</p>
      </div>

      <div class="dashboard hidden" id="exams">
        <h1 class="page-title"><i class="fas fa-clipboard-list"></i> Exams</h1>
        <p>Exam schedules, patterns, and important guidelines.</p>
      </div>

      <div class="dashboard hidden" id="results">
        <h1 class="page-title"><i class="fas fa-award"></i> Results</h1>
        <p>View your academic performance and detailed result analysis.</p>
      </div>

      <div class="dashboard hidden" id="announcements">
        <h1 class="page-title"><i class="fas fa-bullhorn"></i> Announcements</h1>
        <p>Latest school news, event notices, and circulars.</p>
      </div>

      <div class="dashboard hidden" id="library">
        <h1 class="page-title"><i class="fas fa-book-open"></i> Library</h1>
        <p>Access digital books, check borrowing history, and find resources.</p>
      </div>

      <div class="dashboard hidden" id="elearning">
        <h1 class="page-title"><i class="fas fa-laptop"></i> E-Learning</h1>
        <p>Interactive lessons, video tutorials, and digital textbooks.</p>
      </div>

      <div class="dashboard hidden" id="tests">
        <h1 class="page-title"><i class="fas fa-pen"></i> Online Tests</h1>
        <p>Practice tests, mock exams, and performance analysis.</p>
      </div>

      <div class="dashboard hidden" id="notes">
        <h1 class="page-title"><i class="fas fa-sticky-note"></i> Notes</h1>
        <p>Download subject notes, revision materials, and teacher resources.</p>
      </div>

      <div class="dashboard hidden" id="progress">
        <h1 class="page-title"><i class="fas fa-chart-line"></i> Progress Reports</h1>
        <p>Detailed academic progress, skill development, and teacher feedback.</p>
      </div>

      <div class="dashboard hidden" id="chatbot">
        <h1 class="page-title"><i class="fas fa-comments"></i> Chatbot Help</h1>
        <p>Get instant answers to common questions and technical support.</p>
      </div>

      <div class="dashboard hidden" id="profile">
        <h1 class="page-title"><i class="fas fa-user"></i> Profile</h1>
        <div class="profile-grid">
          <div class="profile-sidebar">
            <div class="profile-avatar">MK</div>
            <div class="profile-info">
              <div class="info-label">Student Name</div>
              <div class="info-value" id="profileName">Loading...</div>
            </div>
            <div class="profile-info">
              <div class="info-label">Class</div>
              <div class="info-value" id="profileClass">Loading...</div>
            </div>
            <div class="profile-info">
              <div class="info-label">Parent/Guardian</div>
              <div class="info-value" id="profileParent">Loading...</div>
            </div>
            <div class="profile-info">
              <div class="info-label">Admission No.</div>
              <div class="info-value">MKPS/2025/001</div>
            </div>
            <div class="profile-info">
              <div class="info-label">Roll Number</div>
              <div class="info-value">15</div>
            </div>
          </div>
          <div class="profile-main">
            <div class="tab-nav">
              <div class="tab-item active" data-tab="personal">Personal Info</div>
              <div class="tab-item" data-tab="academic">Academic</div>
              <div class="tab-item" data-tab="documents">Documents</div>
              <div class="tab-item" data-tab="settings">Settings</div>
            </div>
            <div class="tab-content active" id="personal">
              <h3>Personal Information</h3>
              <p>Full name, date of birth, contact details, and address.</p>
            </div>
            <div class="tab-content" id="academic">
              <h3>Academic Information</h3>
              <p>Class details, subjects, teachers, and academic history.</p>
            </div>
            <div class="tab-content" id="documents">
              <h3>Documents</h3>
              <p>Admission form, ID card, certificates, and other documents.</p>
            </div>
            <div class="tab-content" id="settings">
              <h3>Profile Settings</h3>
              <p>Update your profile picture, contact information, and preferences.</p>
            </div>
          </div>
        </div>
      </div>

      <div class="dashboard hidden" id="settings">
        <h1 class="page-title"><i class="fas fa-cog"></i> Settings</h1>
        <div class="card">
          <div class="setting-item">
            <div class="setting-label">Dark Mode</div>
            <div class="setting-desc">Enable dark theme for better visibility</div>
            <label class="switch">
              <input type="checkbox">
              <span class="slider"></span>
            </label>
          </div>
          <div class="setting-item">
            <div class="setting-label">Push Notifications</div>
            <div class="setting-desc">Receive notifications for new assignments and announcements</div>
            <label class="switch">
              <input type="checkbox" checked>
              <span class="slider"></span>
            </label>
          </div>
          <div class="setting-item">
            <div class="setting-label">Email Alerts</div>
            <div class="setting-desc">Get email updates for important school events</div>
            <label class="switch">
              <input type="checkbox" checked>
              <span class="slider"></span>
            </label>
          </div>
          <div class="setting-item">
            <div class="setting-label">Homework Reminders</div>
            <div class="setting-desc">Receive reminders 24 hours before homework due date</div>
            <label class="switch">
              <input type="checkbox" checked>
              <span class="slider"></span>
            </label>
          </div>
          <button class="btn btn-primary">Save Settings</button>
        </div>
      </div>

      <!-- Subpages -->
      <div class="dashboard hidden" id="current-homework">Current Homework Content</div>
      <div class="dashboard hidden" id="homework-calendar">Homework Calendar Content</div>
      <div class="dashboard hidden" id="submit-homework">Submit Homework Content</div>
      <div class="dashboard hidden" id="homework-status">Homework Status Content</div>
      <div class="dashboard hidden" id="homework-help">Homework Help Content</div>
      <div class="dashboard hidden" id="weekly-timetable">Weekly Timetable Content</div>
      <div class="dashboard hidden" id="daily-schedule">Daily Schedule Content</div>
      <div class="dashboard hidden" id="class-reminders">Class Reminders Content</div>
      <div class="dashboard hidden" id="teacher-schedule">Teacher Schedule Content</div>
      <div class="dashboard hidden" id="daily-attendance">Daily Attendance Content</div>
      <div class="dashboard hidden" id="monthly-report">Monthly Report Content</div>
      <div class="dashboard hidden" id="attendance-history">Attendance History Content</div>
      <div class="dashboard hidden" id="absence-reason">Absence Reason Content</div>
      <div class="dashboard hidden" id="late-entries">Late Entries Content</div>
      <div class="dashboard hidden" id="exam-schedule">Exam Schedule Content</div>
      <div class="dashboard hidden" id="exam-pattern">Exam Pattern Content</div>
      <div class="dashboard hidden" id="admit-card">Admit Card Content</div>
      <div class="dashboard hidden" id="exam-rules">Exam Rules Content</div>
      <div class="dashboard hidden" id="exam-venue">Exam Venue Content</div>
      <div class="dashboard hidden" id="term-results">Term Results Content</div>
      <div class="dashboard hidden" id="unit-tests">Unit Tests Content</div>
      <div class="dashboard hidden" id="practical-marks">Practical Marks Content</div>
      <div class="dashboard hidden" id="grade-sheet">Grade Sheet Content</div>
      <div class="dashboard hidden" id="result-analysis">Result Analysis Content</div>
      <div class="dashboard hidden" id="school-news">School News Content</div>
      <div class="dashboard hidden" id="event-notices">Event Notices Content</div>
      <div class="dashboard hidden" id="holiday-list">Holiday List Content</div>
      <div class="dashboard hidden" id="circulars">Circulars Content</div>
      <div class="dashboard hidden" id="emergency-alerts">Emergency Alerts Content</div>
      <div class="dashboard hidden" id="book-catalog">Book Catalog Content</div>
      <div class="dashboard hidden" id="e-books">E-Books Content</div>
      <div class="dashboard hidden" id="borrow-history">Borrow History Content</div>
      <div class="dashboard hidden" id="return-due">Return Due Content</div>
      <div class="dashboard hidden" id="reading-challenge">Reading Challenge Content</div>
      <div class="dashboard hidden" id="video-lessons">Video Lessons Content</div>
      <div class="dashboard hidden" id="interactive-quizzes">Interactive Quizzes Content</div>
      <div class="dashboard hidden" id="digital-textbooks">Digital Textbooks Content</div>
      <div class="dashboard hidden" id="live-classes">Live Classes Content</div>
      <div class="dashboard hidden" id="recorded-sessions">Recorded Sessions Content</div>
      <div class="dashboard hidden" id="practice-tests">Practice Tests Content</div>
      <div class="dashboard hidden" id="mock-exams">Mock Exams Content</div>
      <div class="dashboard hidden" id="test-results">Test Results Content</div>
      <div class="dashboard hidden" id="test-analysis">Test Analysis Content</div>
      <div class="dashboard hidden" id="test-schedule">Test Schedule Content</div>
      <div class="dashboard hidden" id="subject-notes">Subject Notes Content</div>
      <div class="dashboard hidden" id="revision-notes">Revision Notes Content</div>
      <div class="dashboard hidden" id="teacher-notes">Teacher Notes Content</div>
      <div class="dashboard hidden" id="personal-notes">Personal Notes Content</div>
      <div class="dashboard hidden" id="download-notes">Download Notes Content</div>
      <div class="dashboard hidden" id="academic-progress">Academic Progress Content</div>
      <div class="dashboard hidden" id="behavior-report">Behavior Report Content</div>
      <div class="dashboard hidden" id="skill-development">Skill Development Content</div>
      <div class="dashboard hidden" id="teacher-comments">Teacher Comments Content</div>
      <div class="dashboard hidden" id="growth-metrics">Growth Metrics Content</div>
      <div class="dashboard hidden" id="faq">FAQ Content</div>
      <div class="dashboard hidden" id="support-tickets">Support Tickets Content</div>
      <div class="dashboard hidden" id="quick-help">Quick Help Content</div>
      <div class="dashboard hidden" id="troubleshooting">Troubleshooting Content</div>
      <div class="dashboard hidden" id="contact-support">Contact Support Content</div>
      <div class="dashboard hidden" id="personal-info">Personal Information Content</div>
      <div class="dashboard hidden" id="academic-info">Academic Information Content</div>
      <div class="dashboard hidden" id="guardian-info">Guardian Information Content</div>
      <div class="dashboard hidden" id="documents">Documents Content</div>
      <div class="dashboard hidden" id="profile-settings">Profile Settings Content</div>
      <div class="dashboard hidden" id="account-settings">Account Settings Content</div>
      <div class="dashboard hidden" id="notification-settings">Notification Settings Content</div>
      <div class="dashboard hidden" id="privacy-settings">Privacy Settings Content</div>
      <div class="dashboard hidden" id="theme-settings">Theme Settings Content</div>
      <div class="dashboard hidden" id="language-settings">Language Settings Content</div>
      <div class="dashboard hidden" id="help">Help Center Content</div>

    </main>
  </div>

  <footer class="footer">
    &copy; 2025 Milli Karwaan Public School | All Rights Reserved
  </footer>

  <script>
    // Load student data from localStorage
    function loadStudentData() {
      const studentData = localStorage.getItem('mkps_student');
      if (!studentData) {
        window.location.href = 'index.html';
        return;
      }

      const student = JSON.parse(studentData);
      
      // Set student info
      const name = student.name || 'Student';
      const className = student.class ? `Class ${student.class}` : 'Not Assigned';
      const parent = student.parent || 'Parent';
      
      document.getElementById('studentName').textContent = name;
      document.getElementById('studentClass').textContent = className;
      document.getElementById('dropdownName').textContent = name;
      document.getElementById('dropdownClass').textContent = className;
      document.getElementById('profileName').textContent = name;
      document.getElementById('profileClass').textContent = className;
      document.getElementById('profileParent').textContent = parent;
      
      // Set profile initials
      const initials = name.split(' ').map(n => n[0]).join('').toUpperCase().substring(0, 2);
      document.getElementById('profileInitial').textContent = initials;
      document.querySelector('.profile-avatar').textContent = initials;
    }

    // Navigation
    document.addEventListener('DOMContentLoaded', function() {
      loadStudentData();
      
      // Menu toggle for mobile
      const menuToggle = document.getElementById('menuToggle');
      const sidebar = document.getElementById('sidebar');
      const mainContent = document.getElementById('mainContent');
      
      menuToggle.addEventListener('click', function() {
        sidebar.classList.toggle('active');
        mainContent.classList.toggle('full');
      });
      
      // Submenu toggle
      const navLinks = document.querySelectorAll('.nav-link');
      navLinks.forEach(link => {
        const arrow = link.querySelector('.nav-arrow');
        if (arrow) {
          link.addEventListener('click', function(e) {
            e.preventDefault();
            const submenu = this.nextElementSibling;
            if (submenu && submenu.classList.contains('submenu')) {
              submenu.classList.toggle('active');
              arrow.classList.toggle('rotate');
            }
          });
        }
      });
      
      // Page navigation
      const pageLinks = document.querySelectorAll('[data-page]');
      pageLinks.forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          const page = this.getAttribute('data-page');
          showPage(page);
          
          // Update active state
          document.querySelectorAll('.nav-link').forEach(el => {
            el.classList.remove('active');
          });
          this.classList.add('active');
          
          // Close sidebar on mobile
          if (window.innerWidth <= 992) {
            sidebar.classList.remove('active');
            mainContent.classList.remove('full');
          }
        });
      });
      
      // Tab navigation
      const tabItems = document.querySelectorAll('.tab-item');
      tabItems.forEach(item => {
        item.addEventListener('click', function() {
          const tab = this.getAttribute('data-tab');
          
          tabItems.forEach(t => t.classList.remove('active'));
          this.classList.add('active');
          
          document.querySelectorAll('.tab-content').forEach(content => {
            content.classList.remove('active');
          });
          document.getElementById(tab).classList.add('active');
        });
      });
      
      // Logout
      const logoutBtns = document.querySelectorAll('#logoutBtn, #dropdownLogout');
      logoutBtns.forEach(btn => {
        btn.addEventListener('click', function(e) {
          e.preventDefault();
          if (confirm('Are you sure you want to logout?')) {
            localStorage.removeItem('mkps_student');
            window.location.href = 'index.html';
          }
        });
      });
      
      // AI Chatbot
      const aiToggle = document.getElementById('aiToggle');
      const aiContainer = document.getElementById('aiContainer');
      const aiClose = document.getElementById('aiClose');
      const aiInput = document.getElementById('aiInput');
      const aiSend = document.getElementById('aiSend');
      const aiBody = document.getElementById('aiBody');
      const typing = document.getElementById('typing');
      
      aiToggle.addEventListener('click', function() {
        aiContainer.classList.toggle('active');
      });
      
      aiClose.addEventListener('click', function() {
        aiContainer.classList.remove('active');
      });
      
      // Initialize Gemini AI
      async function sendToGemini(question) {
        try {
          const genAI = new GoogleGenerativeAI("AIzaSyCdzFBQ1KVgBfmmjSgHJJwcuLbqne9VjUs");
          const model = genAI.getGenerativeModel({ model: "gemini-pro" });
          
          const prompt = `As an AI homework helper for Milli Karwaan Public School, answer this study-related question in a professional, helpful manner with emojis to make it engaging. Question: ${question}`;
          
          const result = await model.generateContent(prompt);
          const response = await result.response;
          return response.text();
        } catch (error) {
          console.error('AI Error:', error);
          return "I'm sorry, I couldn't process your request right now. Please try again later. 🤔";
        }
      }
      
      async function handleAiSend() {
        const question = aiInput.value.trim();
        if (!question) return;
        
        // Add user message
        const userMsg = document.createElement('div');
        userMsg.className = 'ai-message ai-user';
        userMsg.textContent = question;
        aiBody.appendChild(userMsg);
        
        // Clear input
        aiInput.value = '';
        
        // Show typing indicator
        typing.style.display = 'block';
        
        // Scroll to bottom
        aiBody.scrollTop = aiBody.scrollHeight;
        
        // Get AI response
        const response = await sendToGemini(question);
        
        // Hide typing
        typing.style.display = 'none';
        
        // Add AI message
        const aiMsg = document.createElement('div');
        aiMsg.className = 'ai-message ai-bot';
        aiMsg.textContent = response;
        aiBody.appendChild(aiMsg);
        
        // Scroll to bottom
        aiBody.scrollTop = aiBody.scrollHeight;
      }
      
      aiSend.addEventListener('click', handleAiSend);
      aiInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          handleAiSend();
        }
      });
      
      // Show dashboard by default
      function showPage(page) {
        document.querySelectorAll('.dashboard').forEach(el => {
          el.classList.add('hidden');
        });
        document.getElementById(page).classList.remove('hidden');
      }
      
      showPage('dashboard');
    });

    // Export for admin access
    window.MKPS_Dashboard = {
      version: '1.0.0',
      school: 'Milli Karwaan Public School',
      getStudentData: function() {
        const data = localStorage.getItem('mkps_student');
        return data ? JSON.parse(data) : null;
      }
    };
  </script>
</body>
</html>
