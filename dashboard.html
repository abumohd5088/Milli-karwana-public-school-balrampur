<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Student Dashboard | Milli Karwaan Public School</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    :root {
      --primary: #4361ee;
      --primary-light: #5ee7df;
      --secondary: #3a0ca3;
      --success: #4cc9f0;
      --warning: #f72585;
      --dark: #1d3557;
      --light: #f8f9fa;
      --gray: #adb5bd;
      --danger: #e63946;
      --info: #457b9d;
      --gradient: linear-gradient(135deg, var(--primary), var(--primary-light));
      --shadow-sm: 0 2px 10px rgba(0,0,0,0.05);
      --shadow: 0 10px 30px rgba(0,0,0,0.1);
      --shadow-lg: 0 20px 40px rgba(0,0,0,0.15);
      --border-radius: 12px;
      --transition: all 0.3s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: #f0f2f5;
      color: var(--dark);
      line-height: 1.6;
      overflow-x: hidden;
      transition: var(--transition);
    }

    .container {
      display: flex;
      min-height: 100vh;
    }

    /* SIDEBAR */
    .sidebar {
      width: 280px;
      background: white;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: var(--shadow);
      z-index: 1000;
      transition: var(--transition);
      border-right: 1px solid rgba(0,0,0,0.05);
      position: fixed;
      height: 100%;
      overflow-y: auto;
    }

    .sidebar-header {
      padding: 24px;
      background: var(--gradient);
      color: white;
      text-align: center;
      position: relative;
    }

    .logo {
      font-size: 28px;
      font-weight: 700;
      letter-spacing: -0.5px;
    }

    .logo span {
      color: #fff8;
    }

    .sidebar-nav {
      padding: 20px 0;
    }

    .nav-item {
      padding: 14px 24px;
      display: flex;
      align-items: center;
      cursor: pointer;
      transition: var(--transition);
      border-left: 4px solid transparent;
    }

    .nav-item:hover {
      background: rgba(67, 97, 238, 0.08);
      border-left-color: var(--primary);
      color: var(--primary);
    }

    .nav-item.active {
      background: rgba(67, 97, 238, 0.1);
      border-left-color: var(--primary);
      color: var(--primary);
      font-weight: 500;
    }

    .nav-icon {
      margin-right: 12px;
      font-size: 20px;
      width: 24px;
      text-align: center;
    }

    .nav-text {
      font-size: 15px;
      font-weight: 500;
    }

    /* MAIN CONTENT */
    .main-content {
      flex: 1;
      margin-left: 280px;
      transition: var(--transition);
    }

    .header {
      background: white;
      box-shadow: var(--shadow-sm);
      padding: 16px 32px;
      position: sticky;
      top: 0;
      z-index: 900;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .welcome {
      font-size: 18px;
      font-weight: 600;
      color: var(--dark);
    }

    .welcome span {
      color: var(--primary);
    }

    .user-info {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--gradient);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 600;
      font-size: 18px;
    }

    .dropdown {
      position: relative;
      display: inline-block;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      right: 0;
      top: 50px;
      background: white;
      min-width: 200px;
      box-shadow: var(--shadow-lg);
      border-radius: var(--border-radius);
      overflow: hidden;
      z-index: 1000;
      animation: slideDown 0.3s ease;
    }

    .dropdown:hover .dropdown-content {
      display: block;
    }

    .dropdown-item {
      padding: 14px 20px;
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
      transition: var(--transition);
    }

    .dropdown-item:hover {
      background: rgba(67, 97, 238, 0.08);
      color: var(--primary);
    }

    .dropdown-icon {
      font-size: 18px;
      width: 24px;
      text-align: center;
    }

    /* DASHBOARD */
    .dashboard {
      padding: 32px;
    }

    .page-title {
      font-size: 28px;
      font-weight: 600;
      margin-bottom: 24px;
      color: var(--dark);
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .page-title i {
      color: var(--primary);
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 24px;
      margin-bottom: 32px;
    }

    .stat-card {
      background: white;
      border-radius: var(--border-radius);
      padding: 24px;
      box-shadow: var(--shadow);
      transition: var(--transition);
      border-top: 4px solid var(--primary);
    }

    .stat-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }

    .stat-icon {
      width: 60px;
      height: 60px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 16px;
      font-size: 28px;
      color: white;
    }

    .stat-icon.blue {
      background: var(--primary);
    }

    .stat-icon.green {
      background: #2a9d8f;
    }

    .stat-icon.orange {
      background: #e9c46a;
    }

    .stat-icon.purple {
      background: #8338ec;
    }

    .stat-title {
      font-size: 16px;
      color: var(--gray);
      margin-bottom: 8px;
    }

    .stat-value {
      font-size: 28px;
      font-weight: 700;
      color: var(--dark);
    }

    .homework-section {
      background: white;
      border-radius: var(--border-radius);
      padding: 24px;
      box-shadow: var(--shadow);
      margin-bottom: 32px;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .section-title {
      font-size: 20px;
      font-weight: 600;
      color: var(--dark);
    }

    .view-all {
      color: var(--primary);
      font-weight: 500;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: var(--transition);
    }

    .view-all:hover {
      color: var(--primary-light);
    }

    .homework-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 16px;
    }

    .homework-card {
      border: 1px solid #e9ecef;
      border-radius: var(--border-radius);
      padding: 18px;
      transition: var(--transition);
      cursor: pointer;
    }

    .homework-card:hover {
      border-color: var(--primary);
      transform: translateY(-3px);
      box-shadow: var(--shadow);
    }

    .hw-subject {
      font-weight: 600;
      color: var(--dark);
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .hw-subject i {
      color: var(--primary);
    }

    .hw-desc {
      color: var(--gray);
      font-size: 14px;
      margin-bottom: 12px;
      line-height: 1.5;
    }

    .hw-meta {
      display: flex;
      justify-content: space-between;
      font-size: 13px;
      color: var(--info);
    }

    .due-soon {
      color: var(--warning) !important;
      font-weight: 500;
    }

    /* AI CHATBOX */
    .ai-chatbox {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 380px;
      height: 500px;
      background: white;
      border-radius: 20px;
      box-shadow: var(--shadow-lg);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      z-index: 2000;
      transform: translateY(100px);
      opacity: 0;
      transition: all 0.4s ease;
    }

    .ai-chatbox.open {
      transform: translateY(0);
      opacity: 1;
    }

    .chat-header {
      background: var(--gradient);
      color: white;
      padding: 16px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: move;
    }

    .chat-title {
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .chat-title i {
      font-size: 20px;
    }

    .chat-controls {
      display: flex;
      gap: 12px;
    }

    .chat-btn {
      background: rgba(255,255,255,0.2);
      border: none;
      width: 32px;
      height: 32px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition);
    }

    .chat-btn:hover {
      background: rgba(255,255,255,0.3);
    }

    .chat-body {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      background: #f8f9fa;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .chat-message {
      max-width: 80%;
      padding: 12px 16px;
      border-radius: 18px;
      font-size: 14px;
      line-height: 1.5;
    }

    .message-user {
      align-self: flex-end;
      background: var(--primary);
      color: white;
      border-bottom-right-radius: 4px;
    }

    .message-ai {
      align-self: flex-start;
      background: white;
      color: var(--dark);
      border-bottom-left-radius: 4px;
      box-shadow: var(--shadow-sm);
    }

    .chat-input {
      padding: 16px 20px;
      display: flex;
      gap: 12px;
      background: white;
      border-top: 1px solid #e9ecef;
    }

    .chat-input input {
      flex: 1;
      padding: 12px 16px;
      border: 1px solid #e9ecef;
      border-radius: 12px;
      outline: none;
      font-family: inherit;
      font-size: 14px;
    }

    .chat-input input:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
    }

    .send-btn {
      background: var(--primary);
      color: white;
      border: none;
      width: 44px;
      height: 44px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition);
    }

    .send-btn:hover {
      background: var(--primary-light);
    }

    .ai-toggle {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      background: var(--gradient);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: var(--shadow-lg);
      z-index: 1999;
      transition: var(--transition);
      animation: pulse 2s infinite;
    }

    .ai-toggle:hover {
      transform: scale(1.1);
    }

    /* FOOTER */
    footer {
      text-align: center;
      padding: 24px;
      background: white;
      box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
      color: var(--gray);
      font-size: 14px;
      margin-top: 40px;
    }

    /* ANIMATIONS */
    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes pulse {
      0% {
        box-shadow: 0 0 0 0 rgba(67, 97, 238, 0.7);
      }
      70% {
        box-shadow: 0 0 0 10px rgba(67, 97, 238, 0);
      }
      100% {
        box-shadow: 0 0 0 0 rgba(67, 97, 238, 0);
      }
    }

    .fade-in {
      animation: fadeIn 0.6s ease forwards;
    }

    .delay-1 {
      animation-delay: 0.1s;
    }

    .delay-2 {
      animation-delay: 0.2s;
    }

    .delay-3 {
      animation-delay: 0.3s;
    }

    .delay-4 {
      animation-delay: 0.4s;
    }

    /* RESPONSIVE */
    @media (max-width: 1200px) {
      .sidebar {
        width: 240px;
      }
      .main-content {
        margin-left: 240px;
      }
      .ai-chatbox, .ai-toggle {
        width: 320px;
        bottom: 20px;
        right: 20px;
      }
    }

    @media (max-width: 992px) {
      .sidebar {
        transform: translateX(-100%);
        position: fixed;
      }
      .sidebar.open {
        transform: translateX(0);
      }
      .main-content {
        margin-left: 0;
      }
      .header {
        padding: 16px;
      }
      .dashboard {
        padding: 20px;
      }
    }

    @media (max-width: 768px) {
      .stats-grid {
        grid-template-columns: 1fr;
      }
      .homework-list {
        grid-template-columns: 1fr;
      }
      .welcome {
        font-size: 16px;
      }
      .page-title {
        font-size: 24px;
      }
    }

    @media (max-width: 576px) {
      .ai-chatbox, .ai-toggle {
        width: calc(100% - 40px);
        left: 20px;
        right: 20px;
      }
      .chat-input input {
        font-size: 13px;
      }
    }

    /* HAMBURGER */
    .hamburger {
      display: none;
      font-size: 24px;
      cursor: pointer;
      color: var(--dark);
    }

    @media (max-width: 992px) {
      .hamburger {
        display: block;
      }
    }

    /* LOADER */
    .loader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: white;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 3000;
      transition: var(--transition);
    }

    .spinner {
      width: 60px;
      height: 60px;
      border: 5px solid #f3f3f3;
      border-top: 5px solid var(--primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* MODAL */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
      z-index: 2000;
    }

    .modal-content {
      background: white;
      border-radius: var(--border-radius);
      width: 90%;
      max-width: 500px;
      padding: 30px;
      box-shadow: var(--shadow-lg);
      position: relative;
    }

    .close-modal {
      position: absolute;
      top: 15px;
      right: 15px;
      font-size: 24px;
      cursor: pointer;
      color: var(--gray);
      transition: var(--transition);
    }

    .close-modal:hover {
      color: var(--danger);
    }

    .modal-title {
      font-size: 22px;
      font-weight: 600;
      margin-bottom: 20px;
      color: var(--dark);
    }

    .modal-body {
      margin-bottom: 24px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: var(--dark);
    }

    .form-control {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid #e9ecef;
      border-radius: var(--border-radius);
      font-family: inherit;
      font-size: 15px;
      outline: none;
      transition: var(--transition);
    }

    .form-control:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
    }

    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: var(--border-radius);
      font-family: inherit;
      font-size: 15px;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
    }

    .btn-primary {
      background: var(--primary);
      color: white;
    }

    .btn-primary:hover {
      background: var(--primary-light);
    }

    .btn-block {
      width: 100%;
    }

    /* PROFILE MODAL */
    .profile-header {
      text-align: center;
      padding: 20px 0;
      border-bottom: 1px solid #e9ecef;
      margin-bottom: 24px;
    }

    .profile-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: var(--gradient);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 32px;
      font-weight: 600;
      margin-bottom: 12px;
    }

    .profile-name {
      font-size: 20px;
      font-weight: 600;
      color: var(--dark);
    }

    .profile-class {
      color: var(--info);
      font-size: 16px;
    }

    /* SETTINGS */
    .settings-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 16px;
    }

    .setting-item {
      padding: 16px;
      border: 1px solid #e9ecef;
      border-radius: var(--border-radius);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .setting-label {
      font-weight: 500;
    }

    .toggle {
      position: relative;
      display: inline-block;
      width: 50px;
      height: 24px;
    }

    .toggle input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 24px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: var(--primary);
    }

    input:checked + .slider:before {
      transform: translateX(26px);
    }

    /* ADMIN HOOK */
    .admin-hook {
      display: none;
    }
  </style>
</head>
<body>
  <div class="loader">
    <div class="spinner"></div>
  </div>

  <div class="container">
    <!-- SIDEBAR -->
    <div class="sidebar">
      <div class="sidebar-header">
        <div class="logo">MK<span>PS</span></div>
        <div style="font-size: 12px; margin-top: 4px; opacity: 0.8;">Milli Karwaan Public School</div>
      </div>
      <div class="sidebar-nav">
        <div class="nav-item active" data-page="dashboard">
          <span class="nav-icon"><i class="material-icons-round">dashboard</i></span>
          <span class="nav-text">Dashboard</span>
        </div>
        <div class="nav-item" data-page="homework">
          <span class="nav-icon"><i class="material-icons-round">assignment</i></span>
          <span class="nav-text">Homework</span>
        </div>
        <div class="nav-item" data-page="ai-help">
          <span class="nav-icon"><i class="material-icons-round">smart_toy</i></span>
          <span class="nav-text">AI Help</span>
        </div>
        <div class="nav-item" data-page="profile">
          <span class="nav-icon"><i class="material-icons-round">person</i></span>
          <span class="nav-text">Profile</span>
        </div>
        <div class="nav-item" data-page="settings">
          <span class="nav-icon"><i class="material-icons-round">settings</i></span>
          <span class="nav-text">Settings</span>
        </div>
        <div class="nav-item logout-btn">
          <span class="nav-icon"><i class="material-icons-round">logout</i></span>
          <span class="nav-text">Logout</span>
        </div>
      </div>
    </div>

    <!-- MAIN CONTENT -->
    <div class="main-content">
      <div class="header">
        <div class="hamburger">
          <i class="material-icons-round">menu</i>
        </div>
        <div class="welcome fade-in">Welcome, <span id="student-name">Student</span></div>
        <div class="user-info">
          <div class="avatar" id="user-avatar">S</div>
          <div class="dropdown">
            <div id="user-greeting">Hi, Student</div>
            <div class="dropdown-content">
              <div class="dropdown-item profile-btn">
                <span class="dropdown-icon"><i class="material-icons-round">person</i></span>
                <span>My Profile</span>
              </div>
              <div class="dropdown-item settings-btn">
                <span class="dropdown-icon"><i class="material-icons-round">settings</i></span>
                <span>Settings</span>
              </div>
              <div class="dropdown-item logout-btn">
                <span class="dropdown-icon"><i class="material-icons-round">logout</i></span>
                <span>Logout</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- DASHBOARD PAGE -->
      <div class="dashboard" id="dashboard-page">
        <h1 class="page-title fade-in"><i class="fas fa-home"></i> Dashboard</h1>
        
        <div class="stats-grid">
          <div class="stat-card fade-in delay-1">
            <div class="stat-icon blue">
              <i class="fas fa-book"></i>
            </div>
            <div class="stat-title">Total Subjects</div>
            <div class="stat-value" id="total-subjects">8</div>
          </div>
          <div class="stat-card fade-in delay-2">
            <div class="stat-icon green">
              <i class="fas fa-tasks"></i>
            </div>
            <div class="stat-title">Homework Due</div>
            <div class="stat-value" id="homework-due">3</div>
          </div>
          <div class="stat-card fade-in delay-3">
            <div class="stat-icon orange">
              <i class="fas fa-calendar-check"></i>
            </div>
            <div class="stat-title">Attendance</div>
            <div class="stat-value">96%</div>
          </div>
          <div class="stat-card fade-in delay-4">
            <div class="stat-icon purple">
              <i class="fas fa-graduation-cap"></i>
            </div>
            <div class="stat-title">Grade</div>
            <div class="stat-value">A+</div>
          </div>
        </div>

        <div class="homework-section fade-in delay-1">
          <div class="section-header">
            <h2 class="section-title">Recent Homework</h2>
            <div class="view-all homework-view-all">View All <i class="fas fa-arrow-right"></i></div>
          </div>
          <div class="homework-list" id="homework-list">
            <!-- Homework items will be inserted here -->
          </div>
        </div>

        <div class="homework-section fade-in delay-2">
          <div class="section-header">
            <h2 class="section-title">Upcoming Events</h2>
            <div class="view-all">View Calendar <i class="fas fa-arrow-right"></i></div>
          </div>
          <div class="homework-list">
            <div class="homework-card">
              <div class="hw-subject"><i class="fas fa-microphone"></i> Annual Day Practice</div>
              <div class="hw-desc">Final rehearsal for the annual day performance. All students must attend.</div>
              <div class="hw-meta">
                <span><i class="far fa-calendar"></i> Tomorrow</span>
                <span><i class="far fa-clock"></i> 3:00 PM</span>
              </div>
            </div>
            <div class="homework-card">
              <div class="hw-subject"><i class="fas fa-flask"></i> Science Fair</div>
              <div class="hw-desc">Science exhibition for classes 6-8. Project submissions due by Friday.</div>
              <div class="hw-meta">
                <span><i class="far fa-calendar"></i> This Friday</span>
                <span><i class="far fa-clock"></i> 10:00 AM</span>
              </div>
            </div>
            <div class="homework-card">
              <div class="hw-subject"><i class="fas fa-pencil-alt"></i> Unit Test</div>
              <div class="hw-desc">Mathematics unit test covering chapters 5-7. Prepare well.</div>
              <div class="hw-meta">
                <span><i class="far fa-calendar"></i> Next Monday</span>
                <span><i class="far fa-clock"></i> 9:00 AM</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- HOMEWORK PAGE -->
      <div class="dashboard" id="homework-page" style="display: none;">
        <h1 class="page-title"><i class="fas fa-clipboard-list"></i> Homework</h1>
        <div class="homework-section">
          <div class="section-header">
            <h2 class="section-title">All Homework Assignments</h2>
            <div class="view-all filter-btn">Filter <i class="fas fa-filter"></i></div>
          </div>
          <div class="homework-list" id="all-homework-list">
            <!-- All homework will be inserted here -->
          </div>
        </div>
      </div>

      <!-- AI HELP PAGE -->
      <div class="dashboard" id="ai-help-page" style="display: none;">
        <h1 class="page-title"><i class="fas fa-robot"></i> AI Study Helper</h1>
        <div class="homework-section">
          <p style="margin-bottom: 20px; color: var(--gray);">Ask any study-related question and get instant help from our AI tutor.</p>
          <div style="background: #f8f9fa; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
              <div style="width: 50px; height: 50px; background: var(--gradient); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">
                <i class="fas fa-robot"></i>
              </div>
              <div>
                <div style="font-weight: 600; color: var(--dark);">AI Study Assistant</div>
                <div style="font-size: 14px; color: var(--info);">Online ‚Ä¢ Ready to help</div>
              </div>
            </div>
            <div style="background: white; border: 1px solid #e9ecef; border-radius: 12px; padding: 16px; margin-bottom: 16px;">
              <div style="color: var(--gray); font-size: 14px; margin-bottom: 8px;">Try asking:</div>
              <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                <span style="background: #e3f2fd; color: var(--primary); padding: 6px 12px; border-radius: 20px; font-size: 13px; cursor: pointer;" class="suggestion" data-query="Explain photosynthesis in simple terms">Explain photosynthesis</span>
                <span style="background: #e3f2fd; color: var(--primary); padding: 6px 12px; border-radius: 20px; font-size: 13px; cursor: pointer;" class="suggestion" data-query="How to solve quadratic equations?">Solve quadratic equations</span>
                <span style="background: #e3f2fd; color: var(--primary); padding: 6px 12px; border-radius: 20px; font-size: 13px; cursor: pointer;" class="suggestion" data-query="What is the water cycle?">Water cycle explanation</span>
                <span style="background: #e3f2fd; color: var(--primary); padding: 6px 12px; border-radius: 20px; font-size: 13px; cursor: pointer;" class="suggestion" data-query="Help me with my math homework">Help with math homework</span>
              </div>
            </div>
            <div style="display: flex; gap: 12px;">
              <input type="text" id="ai-query" placeholder="Type your question here..." style="flex: 1; padding: 12px 16px; border: 1px solid #e9ecef; border-radius: 12px; font-size: 15px; outline: none;">
              <button id="ai-submit" style="background: var(--primary); color: white; border: none; padding: 0 24px; border-radius: 12px; font-weight: 500; cursor: pointer;">Ask</button>
            </div>
          </div>
          <div id="ai-response" style="background: white; border-radius: 12px; padding: 20px; min-height: 200px; box-shadow: var(--shadow-sm);">
            <div style="text-align: center; color: var(--gray); padding: 40px 0;">
              <i class="fas fa-comments" style="font-size: 48px; margin-bottom: 16px; opacity: 0.3;"></i>
              <div>No questions asked yet. Type your query above to get started!</div>
            </div>
          </div>
        </div>
      </div>

      <!-- PROFILE PAGE -->
      <div class="dashboard" id="profile-page" style="display: none;">
        <h1 class="page-title"><i class="fas fa-user-circle"></i> My Profile</h1>
        <div class="homework-section">
          <div class="profile-header">
            <div class="profile-avatar" id="profile-avatar">S</div>
            <div class="profile-name" id="profile-name">Student Name</div>
            <div class="profile-class" id="profile-class">Class: X</div>
          </div>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
            <div style="padding: 16px; background: #f8f9fa; border-radius: 12px;">
              <div style="font-weight: 600; margin-bottom: 8px; color: var(--dark);">Personal Information</div>
              <div style="color: var(--gray); font-size: 14px;">
                <div style="margin-bottom: 8px;"><strong>Student ID:</strong> <span id="profile-id">STU001</span></div>
                <div style="margin-bottom: 8px;"><strong>Date of Birth:</strong> <span id="profile-dob">Jan 1, 2010</span></div>
                <div style="margin-bottom: 8px;"><strong>Gender:</strong> <span id="profile-gender">Male</span></div>
                <div><strong>Address:</strong> <span id="profile-address">Balrampur, Uttar Pradesh</span></div>
              </div>
            </div>
            <div style="padding: 16px; background: #f8f9fa; border-radius: 12px;">
              <div style="font-weight: 600; margin-bottom: 8px; color: var(--dark);">Parent/Guardian</div>
              <div style="color: var(--gray); font-size: 14px;">
                <div style="margin-bottom: 8px;"><strong>Name:</strong> <span id="parent-name">Parent Name</span></div>
                <div style="margin-bottom: 8px;"><strong>Phone:</strong> <span id="parent-phone">+91 XXXXXXXXXX</span></div>
                <div><strong>Email:</strong> <span id="parent-email">parent@example.com</span></div>
              </div>
            </div>
            <div style="padding: 16px; background: #f8f9fa; border-radius: 12px;">
              <div style="font-weight: 600; margin-bottom: 8px; color: var(--dark);">Academic Details</div>
              <div style="color: var(--gray); font-size: 14px;">
                <div style="margin-bottom: 8px;"><strong>Class:</strong> <span id="profile-academic-class">Class 8</span></div>
                <div style="margin-bottom: 8px;"><strong>Section:</strong> <span id="profile-section">A</span></div>
                <div style="margin-bottom: 8px;"><strong>Roll No:</strong> <span id="profile-roll">15</span></div>
                <div><strong>Admission Date:</strong> <span id="profile-admission">Apr 1, 2020</span></div>
              </div>
            </div>
            <div style="padding: 16px; background: #f8f9fa; border-radius: 12px;">
              <div style="font-weight: 600; margin-bottom: 8px; color: var(--dark);">Contact Information</div>
              <div style="color: var(--gray); font-size: 14px;">
                <div style="margin-bottom: 8px;"><strong>Phone:</strong> <span id="student-phone">+91 XXXXXXXXXX</span></div>
                <div><strong>Email:</strong> <span id="student-email">student@example.com</span></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- SETTINGS PAGE -->
      <div class="dashboard" id="settings-page" style="display: none;">
        <h1 class="page-title"><i class="fas fa-cog"></i> Settings</h1>
        <div class="homework-section">
          <div class="settings-grid">
            <div class="setting-item">
              <div class="setting-label">Dark Mode</div>
              <label class="toggle">
                <input type="checkbox" id="dark-mode-toggle">
                <span class="slider"></span>
              </label>
            </div>
            <div class="setting-item">
              <div class="setting-label">Notification Sounds</div>
              <label class="toggle">
                <input type="checkbox" checked>
                <span class="slider"></span>
              </label>
            </div>
            <div class="setting-item">
              <div class="setting-label">Homework Reminders</div>
              <label class="toggle">
                <input type="checkbox" checked>
                <span class="slider"></span>
              </label>
            </div>
            <div class="setting-item">
              <div class="setting-label">Email Notifications</div>
              <label class="toggle">
                <input type="checkbox" checked>
                <span class="slider"></span>
              </label>
            </div>
            <div class="setting-item">
              <div class="setting-label">Auto-Save Work</div>
              <label class="toggle">
                <input type="checkbox" checked>
                <span class="slider"></span>
              </label>
            </div>
          </div>
        </div>

        <div class="homework-section" style="margin-top: 24px;">
          <h2 class="section-title">Account Security</h2>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 16px;">
            <div style="padding: 16px; background: #f8f9fa; border-radius: 12px;">
              <div style="font-weight: 600; margin-bottom: 8px; color: var(--dark);">Change Password</div>
              <div style="color: var(--gray); font-size: 14px; margin-bottom: 16px;">Update your account password regularly for security.</div>
              <button id="change-password-btn" style="background: var(--primary); color: white; border: none; padding: 8px 16px; border-radius: 8px; font-size: 14px; cursor: pointer;">Change Password</button>
            </div>
            <div style="padding: 16px; background: #f8f9fa; border-radius: 12px;">
              <div style="font-weight: 600; margin-bottom: 8px; color: var(--dark);">Two-Factor Authentication</div>
              <div style="color: var(--gray); font-size: 14px; margin-bottom: 16px;">Add an extra layer of security to your account.</div>
              <label class="toggle" style="margin-left: auto;">
                <input type="checkbox">
                <span class="slider"></span>
              </label>
            </div>
          </div>
        </div>
      </div>

      <!-- AI CHATBOX -->
      <div class="ai-chatbox" id="ai-chatbox">
        <div class="chat-header" id="chat-header">
          <div class="chat-title">
            <i class="fas fa-robot"></i>
            AI Study Assistant
          </div>
          <div class="chat-controls">
            <div class="chat-btn minimize-btn">
              <i class="fas fa-minus"></i>
            </div>
            <div class="chat-btn close-btn">
              <i class="fas fa-times"></i>
            </div>
          </div>
        </div>
        <div class="chat-body" id="chat-body">
          <div class="chat-message message-ai">
            Hello! I'm your AI study assistant. How can I help you with your studies today? üòä
          </div>
        </div>
        <div class="chat-input">
          <input type="text" id="chat-input" placeholder="Ask me anything about your studies..." />
          <button class="send-btn" id="chat-send">
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>
      </div>

      <!-- AI TOGGLE BUTTON -->
      <div class="ai-toggle" id="ai-toggle">
        <i class="fas fa-robot"></i>
      </div>

      <!-- CHANGE PASSWORD MODAL -->
      <div class="modal" id="change-password-modal">
        <div class="modal-content">
          <span class="close-modal" id="close-password-modal">&times;</span>
          <div class="modal-title">Change Password</div>
          <div class="modal-body">
            <div class="form-group">
              <label class="form-label">Current Password</label>
              <input type="password" class="form-control" id="current-password" />
            </div>
            <div class="form-group">
              <label class="form-label">New Password</label>
              <input type="password" class="form-control" id="new-password" />
            </div>
            <div class="form-group">
              <label class="form-label">Confirm New Password</label>
              <input type="password" class="form-control" id="confirm-password" />
            </div>
          </div>
          <button class="btn btn-primary btn-block" id="save-password-btn">Save Changes</button>
        </div>
      </div>

      <!-- ADMIN HOOK -->
      <div class="admin-hook" id="admin-hook">
        <!-- This is a hidden admin access point. Do not remove. -->
      </div>
    </div>

    <footer>
      ¬© 2025 Milli Karwaan Public School, Balrampur. All Rights Reserved.
    </footer>

    <script>
      // Mock data for homework by class
      const homeworkData = {
        'Class 1': [
          { subject: 'Mathematics', description: 'Count numbers from 1 to 100 and write them in notebook.', due: 'Tomorrow', emoji: 'üî¢' },
          { subject: 'English', description: 'Learn to write alphabets A to Z in capital and small letters.', due: 'Tomorrow', emoji: 'üî§' },
          { subject: 'EVS', description: 'Draw pictures of animals you see around your home.', due: 'This Friday', emoji: 'üêò' },
          { subject: 'Hindi', description: 'Practice writing vowels (‡§∏‡•ç‡§µ‡§∞) - ‡§Ö, ‡§Ü, ‡§á, ‡§à, ‡§â, ‡§ä', due: 'Next Monday', emoji: 'üáÆüá≥' }
        ],
        'Class 2': [
          { subject: 'Mathematics', description: 'Solve addition and subtraction problems up to 100.', due: 'Tomorrow', emoji: '‚ûï' },
          { subject: 'English', description: 'Write 5 sentences about your family using simple present tense.', due: 'Tomorrow', emoji: 'üë®‚Äçüë©‚Äçüëß' },
          { subject: 'EVS', description: 'List 10 plants and trees you see in your neighborhood.', due: 'This Friday', emoji: 'üå≥' },
          { subject: 'Hindi', description: 'Write a short story (5 sentences) using words: ‡§ò‡§∞, ‡§™‡•á‡§°‡§º, ‡§®‡§¶‡•Ä, ‡§™‡§ï‡•ç‡§∑‡•Ä, ‡§´‡•Ç‡§≤', due: 'Next Monday', emoji: 'üìñ' },
          { subject: 'Art', description: 'Create a collage using colored paper cuttings of different shapes.', due: 'Next Wednesday', emoji: 'üé®' }
        ],
        'Class 3': [
          { subject: 'Mathematics', description: 'Learn multiplication tables from 2 to 10. Practice 10 problems for each.', due: 'Tomorrow', emoji: '‚úñÔ∏è' },
          { subject: 'English', description: 'Write a paragraph about your favorite festival (8-10 sentences).', due: 'Tomorrow', emoji: 'üéâ' },
          { subject: 'Science', description: 'Observe the life cycle of a butterfly or frog and draw it in your notebook.', due: 'This Friday', emoji: 'ü¶ã' },
          { subject: 'Social Studies', description: 'Draw a map of India and label all states and union territories.', due: 'Next Monday', emoji: 'üó∫Ô∏è' },
          { subject: 'Hindi', description: 'Translate the English paragraph about your favorite festival into Hindi.', due: 'Next Wednesday', emoji: '<translation>' }
        ],
        'Class 4': [
          { subject: 'Mathematics', description: 'Solve word problems involving addition, subtraction, multiplication, and division.', due: 'Tomorrow', emoji: 'üßÆ' },
          { subject: 'English', description: 'Read a story from your textbook and write a summary in 10 sentences.', due: 'Tomorrow', emoji: 'üìö' },
          { subject: 'Science', description: 'Collect 5 different types of leaves and paste them in your scrapbook with names.', due: 'This Friday', emoji: 'üçÉ' },
          { subject: 'Social Studies', description: 'Research and write about the major rivers of India (5 rivers, 5 points each).', due: 'Next Monday', emoji: 'üåä' },
          { subject: 'Computer', description: 'Practice typing 100 words on the computer without looking at the keyboard.', due: 'Next Wednesday', emoji: '‚å®Ô∏è' }
        ],
        'Class 5': [
          { subject: 'Mathematics', description: 'Learn to calculate area and perimeter of rectangles and squares. Solve 10 problems.', due: 'Tomorrow', emoji: 'üìê' },
          { subject: 'English', description: 'Write a letter to your friend describing your summer vacation.', due: 'Tomorrow', emoji: '‚úâÔ∏è' },
          { subject: 'Science', description: 'Create a model of the solar system using clay or paper mache.', due: 'This Friday', emoji: 'ü™ê' },
          { subject: 'Social Studies', description: 'Prepare a presentation on "Famous Monuments of India" (10 slides minimum).', due: 'Next Monday', emoji: 'üèõÔ∏è' },
          { subject: 'Hindi', description: 'Write a poem in Hindi about nature (12 lines minimum) with rhyming words.', due: 'Next Wednesday', emoji: 'üåø' }
        ],
        'Class 6': [
          { subject: 'Mathematics', description: 'Solve problems on fractions and decimals. Convert fractions to decimals and vice versa.', due: 'Tomorrow', emoji: '‚ûó' },
          { subject: 'English', description: 'Analyze the character of the protagonist in the novel you are reading.', due: 'Tomorrow', emoji: 'üë§' },
          { subject: 'Science', description: 'Conduct an experiment to show how plants absorb water. Document your observations.', due: 'This Friday', emoji: 'üî¨' },
          { subject: 'Social Studies', description: 'Create a timeline of major events in Indian history from 1857 to 1947.', due: 'Next Monday', emoji: 'üï∞Ô∏è' },
          { subject: 'Computer', description: 'Create a PowerPoint presentation on "Importance of Computers in Education".', due: 'Next Wednesday', emoji: 'üíª' }
        ],
        'Class 7': [
          { subject: 'Mathematics', description: 'Learn and practice algebraic expressions and simple equations.', due: 'Tomorrow', emoji: 'üß©' },
          { subject: 'English', description: 'Write a debate speech on "Social media: Boon or Bane" (300 words).', due: 'Tomorrow', emoji: 'üó£Ô∏è' },
          { subject: 'Science', description: 'Study the human digestive system and create a labeled diagram.', due: 'This Friday', emoji: 'üî¨' },
          { subject: 'Social Studies', description: 'Research and write about the different types of government systems around the world.', due: 'Next Monday', emoji: 'üåç' },
          { subject: 'Hindi', description: 'Write a formal letter to the principal requesting a school trip to a historical site.', due: 'Next Wednesday', emoji: 'üìù' }
        ],
        'Class 8': [
          { subject: 'Mathematics', description: 'Solve problems on linear equations in one variable. Create 5 word problems.', due: 'Tomorrow', emoji: 'üìä' },
          { subject: 'English', description: 'Write a review of a movie or book you recently watched/read (400 words).', due: 'Tomorrow', emoji: 'üé¨' },
          { subject: 'Science', description: 'Prepare a detailed project on "Renewable and Non-renewable Resources".', due: 'This Friday', emoji: '‚ö°' },
          { subject: 'Social Studies', description: 'Analyze the causes and effects of the Industrial Revolution in Europe.', due: 'Next Monday', emoji: 'üè≠' },
          { subject: 'Computer', description: 'Learn basic HTML and create a simple webpage about your school.', due: 'Next Wednesday', emoji: 'üåê' }
        ]
      };

      // Student data (normally from localStorage after login)
      let studentData = {
        name: 'Aarav Sharma',
        class: 'Class 8',
        parent: 'Rajesh Sharma',
        phone: '+91 9876543210',
        email: 'aarav.sharma@student.mkps.edu.in',
        dob: '15 Mar 2010',
        gender: 'Male',
        address: '123 Education Lane, Balrampur, Uttar Pradesh 271201',
        studentId: 'MKPS8001',
        admissionDate: '01 Apr 2020',
        section: 'A',
        rollNo: '15'
      };

      // Load student data from localStorage if available
      function loadStudentData() {
        try {
          const savedData = localStorage.getItem('studentData');
          if (savedData) {
            studentData = JSON.parse(savedData);
          }
        } catch (e) {
          console.warn('Could not load student data from localStorage', e);
        }
        
        // Update UI with student data
        updateStudentUI();
      }

      function updateStudentUI() {
        // Update welcome message
        document.getElementById('student-name').textContent = studentData.name;
        document.getElementById('user-greeting').textContent = `Hi, ${studentData.name.split(' ')[0]}`;
        
        // Update avatar
        const initials = studentData.name.split(' ').map(n => n[0]).join('');
        document.getElementById('user-avatar').textContent = initials;
        document.getElementById('profile-avatar').textContent = initials;
        
        // Update profile page
        document.getElementById('profile-name').textContent = studentData.name;
        document.getElementById('profile-class').textContent = `Class: ${studentData.class}`;
        document.getElementById('profile-academic-class').textContent = studentData.class;
        document.getElementById('parent-name').textContent = studentData.parent;
        document.getElementById('parent-phone').textContent = studentData.phone;
        document.getElementById('parent-email').textContent = studentData.email || 'parent@example.com';
        document.getElementById('student-phone').textContent = studentData.phone;
        document.getElementById('student-email').textContent = studentData.email;
        document.getElementById('profile-id').textContent = studentData.studentId;
        document.getElementById('profile-dob').textContent = studentData.dob;
        document.getElementById('profile-gender').textContent = studentData.gender;
        document.getElementById('profile-address').textContent = studentData.address;
        document.getElementById('profile-section').textContent = studentData.section;
        document.getElementById('profile-roll').textContent = studentData.rollNo;
        document.getElementById('profile-admission').textContent = studentData.admissionDate;
        
        // Set homework based on class
        const classHomework = homeworkData[studentData.class] || homeworkData['Class 8'];
        displayHomework(classHomework);
      }

      function displayHomework(homeworkList) {
        const homeworkListEl = document.getElementById('homework-list');
        const allHomeworkListEl = document.getElementById('all-homework-list');
        
        homeworkListEl.innerHTML = '';
        allHomeworkListEl.innerHTML = '';
        
        // Show first 3 for dashboard
        const dashboardHomework = homeworkList.slice(0, 3);
        const dueCount = dashboardHomework.filter(h => h.due === 'Tomorrow').length;
        document.getElementById('homework-due').textContent = dueCount;
        
        dashboardHomework.forEach(hw => {
          const hwEl = createHomeworkElement(hw);
          homeworkListEl.appendChild(hwEl);
        });
        
        // Show all for homework page
        homeworkList.forEach(hw => {
          const hwEl = createHomeworkElement(hw);
          allHomeworkListEl.appendChild(hwEl);
        });
      }

      function createHomeworkElement(hw) {
        const hwCard = document.createElement('div');
        hwCard.className = 'homework-card';
        
        const dueClass = hw.due === 'Tomorrow' ? 'due-soon' : '';
        
        hwCard.innerHTML = `
          <div class="hw-subject"><i class="fas fa-book-open"></i> ${hw.subject} ${hw.emoji}</div>
          <div class="hw-desc">${hw.description}</div>
          <div class="hw-meta">
            <span><i class="far fa-calendar"></i> ${hw.due}</span>
            <span class="${dueClass}"><i class="far fa-clock"></i> Due</span>
          </div>
        `;
        
        return hwCard;
      }

      // Navigation
      function setupNavigation() {
        const navItems = document.querySelectorAll('.nav-item');
        const pages = ['dashboard', 'homework', 'ai-help', 'profile', 'settings'];
        
        navItems.forEach(item => {
          item.addEventListener('click', () => {
            const page = item.getAttribute('data-page');
            if (page) {
              showPage(page);
            } else if (item.classList.contains('logout-btn')) {
              logout();
            }
          });
        });
        
        // Profile and settings buttons in dropdown
        document.querySelectorAll('.profile-btn').forEach(btn => {
          btn.addEventListener('click', () => showPage('profile'));
        });
        
        document.querySelectorAll('.settings-btn').forEach(btn => {
          btn.addEventListener('click', () => showPage('settings'));
        });
        
        // View all homework
        document.querySelector('.homework-view-all').addEventListener('click', () => {
          showPage('homework');
        });
      }

      function showPage(page) {
        const pages = ['dashboard', 'homework', 'ai-help', 'profile', 'settings'];
        pages.forEach(p => {
          document.getElementById(`${p}-page`).style.display = p === page ? 'block' : 'none';
        });
        
        // Update active nav item
        document.querySelectorAll('.nav-item').forEach(item => {
          item.classList.remove('active');
          if (item.getAttribute('data-page') === page) {
            item.classList.add('active');
          }
        });
      }

      function logout() {
        if (confirm('Are you sure you want to logout?')) {
          // Clear any session data
          localStorage.removeItem('studentData');
          
          // Redirect to login page
          window.location.href = 'index.html';
        }
      }

      // AI Chatbox functionality
      function setupAIChatbox() {
        const chatbox = document.getElementById('ai-chatbox');
        const toggleBtn = document.getElementById('ai-toggle');
        const closeBtn = document.getElementById('chat-close');
        const minimizeBtn = document.getElementById('chat-minimize');
        const chatSend = document.getElementById('chat-send');
        const chatInput = document.getElementById('chat-input');
        const chatBody = document.getElementById('chat-body');
        
        // Toggle chatbox
        toggleBtn.addEventListener('click', () => {
          chatbox.classList.toggle('open');
          if (chatbox.classList.contains('open')) {
            toggleBtn.style.display = 'none';
          }
        });
        
        // Close chatbox
        document.querySelector('.close-btn').addEventListener('click', () => {
          chatbox.classList.remove('open');
          setTimeout(() => {
            document.getElementById('ai-toggle').style.display = 'flex';
          }, 300);
        });
        
        // Minimize chatbox
        document.querySelector('.minimize-btn').addEventListener('click', () => {
          chatbox.style.height = chatbox.style.height === '300px' ? '500px' : '300px';
        });
        
        // Send message
        chatSend.addEventListener('click', sendMessage);
        chatInput.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') {
            sendMessage();
          }
        });
        
        function sendMessage() {
          const message = chatInput.value.trim();
          if (!message) return;
          
          // Add user message
          addMessage(message, 'user');
          chatInput.value = '';
          
          // Simulate AI response (in real app, this would call the Google AI API)
          setTimeout(() => {
            const response = getAIResponse(message);
            addMessage(response, 'ai');
          }, 1000);
        }
        
        function addMessage(text, sender) {
          const messageEl = document.createElement('div');
          messageEl.className = `chat-message message-${sender}`;
          messageEl.textContent = text;
          chatBody.appendChild(messageEl);
          chatBody.scrollTop = chatBody.scrollHeight;
        }
        
        function getAIResponse(query) {
          const lowerQuery = query.toLowerCase();
          
          if (lowerQuery.includes('hello') || lowerQuery.includes('hi') || lowerQuery.includes('hey')) {
            return "Hello! üëã I'm your AI study assistant. How can I help you with your studies today?";
          } else if (lowerQuery.includes('name')) {
            return `My name is MKPS AI Assistant. I'm here to help you with your studies. What would you like to learn about?`;
          } else if (lowerQuery.includes('help')) {
            return "I can help you with any subject - Math, Science, English, Social Studies, and more! Just ask me a specific question about your homework or studies, and I'll do my best to explain it clearly. üìö";
          } else if (lowerQuery.includes('math') || lowerQuery.includes('calculate') || lowerQuery.includes('solve')) {
            return "I love math! üßÆ I can help you with arithmetic, algebra, geometry, and more. Please ask me a specific math problem or concept you'd like me to explain.";
          } else if (lowerQuery.includes('science') || lowerQuery.includes('experiment') || lowerQuery.includes('biology') || lowerQuery.includes('chemistry') || lowerQuery.includes('physics')) {
            return "Science is fascinating! üî¨ I can explain scientific concepts, help with experiments, or clarify any science topic. What specific science question do you have?";
          } else if (lowerQuery.includes('english') || lowerQuery.includes('grammar') || lowerQuery.includes('writing') || lowerQuery.includes('essay')) {
            return "I can help with English grammar, writing, vocabulary, and literature analysis. üìñ What specific English topic would you like help with?";
          } else if (lowerQuery.includes('social') || lowerQuery.includes('history') || lowerQuery.includes('geography') || lowerQuery.includes('civics')) {
            return "I can help with history, geography, and civics! üåç I can explain historical events, geographical concepts, or government systems. What would you like to know?";
          } else if (lowerQuery.includes('homework') || lowerQuery.includes('assignment')) {
            return "I'm here to help with your homework! üìù Please tell me which subject and what specific problem you're working on, and I'll guide you through it step by step.";
          } else if (lowerQuery.includes('thank')) {
            return "You're very welcome! üòä If you have any more questions, don't hesitate to ask. I'm always here to help with your studies!";
          } else {
            return "I'm here to help with your studies! üéì While I can't access the Google AI API in this demo, in a real implementation, I would connect to Google's AI services to provide detailed, accurate answers to your academic questions. For now, I can guide you on how to approach your studies and which resources to use. What subject are you working on?";
          }
        }
      }

      // AI Help Page functionality
      function setupAIHelp() {
        const aiSubmit = document.getElementById('ai-submit');
        const aiQuery = document.getElementById('ai-query');
        const aiResponse = document.getElementById('ai-response');
        const suggestions = document.querySelectorAll('.suggestion');
        
        aiSubmit.addEventListener('click', processAIQuery);
        aiQuery.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') {
            processAIQuery();
          }
        });
        
        suggestions.forEach(suggestion => {
          suggestion.addEventListener('click', () => {
            aiQuery.value = suggestion.getAttribute('data-query');
            processAIQuery();
          });
        });
        
        function processAIQuery() {
          const query = aiQuery.value.trim();
          if (!query) return;
          
          // Show loading state
          aiResponse.innerHTML = '<div style="text-align: center; color: var(--info);"><i class="fas fa-spinner fa-spin"></i> Thinking...</div>';
          
          // Simulate API call delay
          setTimeout(() => {
            const response = getAIResponse(query);
            aiResponse.innerHTML = `
              <div style="background: #f8f9fa; padding: 16px; border-radius: 12px; margin-bottom: 16px;">
                <div style="font-weight: 600; margin-bottom: 8px; color: var(--dark);">Your Question:</div>
                <div style="color: var(--gray);">${query}</div>
              </div>
              <div style="background: white; padding: 16px; border-radius: 12px;">
                <div style="font-weight: 600; margin-bottom: 8px; color: var(--dark);">AI Response:</div>
                <div style="color: var(--gray); line-height: 1.6;">${response}</div>
              </div>
            `;
          }, 1500);
        }
        
        function getAIResponse(query) {
          const lowerQuery = query.toLowerCase();
          
          if (lowerQuery.includes('photosynthesis')) {
            return "Photosynthesis is the process by which green plants make their own food using sunlight, carbon dioxide, and water. üåø The plant's leaves absorb sunlight and take in carbon dioxide from the air, while roots absorb water from the soil. Using the energy from sunlight, the plant converts these into glucose (a type of sugar) and releases oxygen as a byproduct. This process happens in the chloroplasts of plant cells, which contain a green pigment called chlorophyll. Photosynthesis is essential for life on Earth as it provides oxygen and forms the base of the food chain.";
          } else if (lowerQuery.includes('quadratic') || lowerQuery.includes('equation')) {
            return "To solve a quadratic equation in the form ax¬≤ + bx + c = 0, you can use several methods: üßÆ\n\n1. **Factoring**: Find two numbers that multiply to 'a√óc' and add to 'b'.\n2. **Completing the square**: Rewrite the equation in the form (x + p)¬≤ = q.\n3. **Quadratic formula**: Use x = (-b ¬± ‚àö(b¬≤ - 4ac)) / (2a)\n\nThe discriminant (b¬≤ - 4ac) tells you about the nature of roots:\n- If > 0: Two real and different roots\n- If = 0: One real root (repeated)\n- If < 0: Two complex roots\n\nWould you like me to solve a specific quadratic equation for you?";
          } else if (lowerQuery.includes('water cycle')) {
            return "The water cycle, also known as the hydrological cycle, describes how water moves around our planet. üíß It has four main stages:\n\n1. **Evaporation**: Sun heats water from oceans, lakes, and rivers, turning it into water vapor that rises into the air.\n2. **Condensation**: As water vapor rises and cools, it forms clouds (tiny water droplets).\n3. **Precipitation**: When cloud droplets combine and grow heavy, they fall as rain, snow, sleet, or hail.\n4. **Collection**: Water collects in oceans, lakes, rivers, or soaks into the ground (groundwater).\n\nThis cycle repeats continuously, distributing fresh water around the Earth and supporting all life. Plants also contribute through transpiration (releasing water vapor from leaves).";
          } else if (lowerQuery.includes('math') || lowerQuery.includes('homework')) {
            return "I'd be happy to help with your math homework! üìê To provide the best assistance, please tell me:\n\n1. What grade/class are you in?\n2. What specific topic are you studying?\n3. Can you share the exact problem you're working on?\n\nI can help explain concepts, work through problems step-by-step, or provide practice questions. Just let me know what you need!";
          } else {
            return "I'm here to help with your studies! üéì While I can't access the Google AI API in this demo, in a real implementation, I would connect to Google's AI services to provide detailed, accurate answers to your academic questions. For now, I can guide you on how to approach your studies and which resources to use. What subject are you working on?";
          }
        }
      }

      // Settings functionality
      function setupSettings() {
        const darkModeToggle = document.getElementById('dark-mode-toggle');
        const changePasswordBtn = document.getElementById('change-password-btn');
        const closePasswordModal = document.getElementById('close-password-modal');
        const changePasswordModal = document.getElementById('change-password-modal');
        const savePasswordBtn = document.getElementById('save-password-btn');
        
        // Dark mode toggle
        darkModeToggle.addEventListener('change', () => {
          if (darkModeToggle.checked) {
            document.body.style.setProperty('--dark', '#f8f9fa');
            document.body.style.setProperty('--light', '#1a1a1a');
            document.body.style.setProperty('--gray', '#6c757d');
            document.body.style.backgroundColor = '#1a1a1a';
          } else {
            document.body.style.setProperty('--dark', '#1d3557');
            document.body.style.setProperty('--light', '#f8f9fa');
            document.body.style.setProperty('--gray', '#adb5bd');
            document.body.style.backgroundColor = '#f0f2f5';
          }
        });
        
        // Change password button
        changePasswordBtn.addEventListener('click', () => {
          changePasswordModal.style.display = 'flex';
        });
        
        // Close password modal
        closePasswordModal.addEventListener('click', () => {
          changePasswordModal.style.display = 'none';
        });
        
        // Close modal when clicking outside
        changePasswordModal.addEventListener('click', (e) => {
          if (e.target === changePasswordModal) {
            changePasswordModal.style.display = 'none';
          }
        });
        
        // Save password
        savePasswordBtn.addEventListener('click', () => {
          const current = document.getElementById('current-password').value;
          const newPass = document.getElementById('new-password').value;
          const confirm = document.getElementById('confirm-password').value;
          
          if (!current || !newPass || !confirm) {
            alert('Please fill in all fields');
            return;
          }
          
          if (newPass !== confirm) {
            alert('New passwords do not match');
            return;
          }
          
          if (newPass.length < 6) {
            alert('Password must be at least 6 characters long');
            return;
          }
          
          // In a real app, this would send to a server
          alert('Password changed successfully!');
          changePasswordModal.style.display = 'none';
          
          // Clear fields
          document.getElementById('current-password').value = '';
          document.getElementById('new-password').value = '';
          document.getElementById('confirm-password').value = '';
        });
      }

      // Mobile menu
      function setupMobileMenu() {
        const hamburger = document.querySelector('.hamburger');
        const sidebar = document.querySelector('.sidebar');
        
        hamburger.addEventListener('click', () => {
          sidebar.classList.toggle('open');
        });
        
        // Close sidebar when clicking on nav items (mobile)
        document.querySelectorAll('.nav-item').forEach(item => {
          item.addEventListener('click', () => {
            if (window.innerWidth <= 992) {
              sidebar.classList.remove('open');
            }
          });
        });
      }

      // Initialize the dashboard
      function initDashboard() {
        // Simulate loading
        setTimeout(() => {
          document.querySelector('.loader').style.opacity = '0';
          setTimeout(() => {
            document.querySelector('.loader').style.display = 'none';
          }, 300);
          
          // Load student data and initialize
          loadStudentData();
          setupNavigation();
          setupAIChatbox();
          setupAIHelp();
          setupSettings();
          setupMobileMenu();
          
          // Show dashboard by default
          showPage('dashboard');
          
        }, 1000);
      }

      // Initialize when page loads
      document.addEventListener('DOMContentLoaded', initDashboard);

      // Note: In a real implementation, you would use the Google AI API with the provided keys
      // The current implementation simulates AI responses for demonstration purposes
      // The actual API integration would require backend code due to security concerns with API keys
    </script>
  </body>
</html>
