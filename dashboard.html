<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Milli Karwaan Public School | Student Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <script src="https://cdn.jsdelivr.net/npm/@google/generative-ai"></script>
  <style>
    :root {
      --primary: #4361ee;
      --secondary: #3f37c9;
      --success: #4cc9f0;
      --accent: #f72585;
      --light: #f8f9fa;
      --dark: #212529;
      --gray: #6c757d;
      --warning: #fca311;
      --info: #4895ef;
      --danger: #e63946;
      --white: #ffffff;
      --glass-bg: rgba(255, 255, 255, 0.15);
      --glass-border: rgba(255, 255, 255, 0.25);
      --shadow-sm: 0 4px 12px rgba(0,0,0,0.08);
      --shadow: 0 8px 30px rgba(0,0,0,0.12);
      --shadow-lg: 0 16px 40px rgba(0,0,0,0.15);
      --radius: 16px;
      --radius-md: 12px;
      --radius-sm: 8px;
      --transition: all 0.3s ease;
      --sidebar-width: 280px;
      --header-height: 70px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #e0f7fa, #bbdefb);
      color: var(--dark);
      line-height: 1.6;
      min-height: 100vh;
      overflow-x: hidden;
      background-attachment: fixed;
      transition: background 0.3s ease;
    }

    .container {
      display: flex;
      min-height: 100vh;
    }

    /* Sidebar Styles */
    .sidebar {
      width: var(--sidebar-width);
      background: var(--primary);
      background: linear-gradient(180deg, var(--primary), var(--secondary));
      color: var(--white);
      padding: 20px 0;
      position: fixed;
      height: 100%;
      overflow-y: auto;
      z-index: 1000;
      transform: translateX(0);
      transition: var(--transition);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      border-right: 1px solid var(--glass-border);
    }

    .sidebar.hidden {
      transform: translateX(-100%);
    }

    .sidebar-header {
      padding: 20px;
      text-align: center;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .logo {
      font-size: 24px;
      font-weight: 700;
      color: var(--white);
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .logo i {
      font-size: 28px;
    }

    .school-name {
      font-size: 14px;
      opacity: 0.9;
    }

    .user-profile {
      padding: 20px;
      text-align: center;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .profile-img {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: var(--white);
      margin: 0 auto 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      color: var(--primary);
      font-weight: 600;
      text-transform: uppercase;
      border: 3px solid rgba(255,255,255,0.3);
      transition: transform 0.3s ease;
      cursor: pointer;
    }

    .profile-img:hover {
      transform: scale(1.1);
    }

    .student-name {
      font-weight: 600;
      font-size: 16px;
      margin-bottom: 5px;
    }

    .student-class {
      font-size: 14px;
      opacity: 0.9;
    }

    .nav-menu {
      list-style: none;
      padding: 10px 0;
    }

    .nav-item {
      position: relative;
    }

    .nav-link {
      display: flex;
      align-items: center;
      padding: 12px 20px;
      color: var(--white);
      text-decoration: none;
      transition: var(--transition);
      border-left: 3px solid transparent;
      font-weight: 500;
      position: relative;
      cursor: pointer;
    }

    .nav-link:hover, .nav-link.active {
      background: rgba(255,255,255,0.1);
      border-left-color: var(--white);
      transform: translateX(4px);
    }

    .nav-link i {
      margin-right: 10px;
      width: 20px;
      text-align: center;
      font-size: 16px;
    }

    .nav-link .link-text {
      flex: 1;
    }

    .nav-link .badge {
      background: rgba(255,255,255,0.2);
      color: var(--white);
      font-size: 11px;
      padding: 2px 6px;
      border-radius: 50px;
      margin-left: 8px;
    }

    .submenu {
      list-style: none;
      background: rgba(255,255,255,0.05);
      border-radius: var(--radius-sm);
      margin: 5px 15px;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease, padding 0.4s ease;
      padding: 0 10px;
    }

    .submenu.active {
      max-height: 1000px;
      padding: 10px 0;
    }

    .submenu-item {
      padding: 8px 20px;
      font-size: 14px;
      border-radius: var(--radius-sm);
      transition: background 0.3s ease;
    }

    .submenu-item:hover {
      background: rgba(255,255,255,0.1);
    }

    .submenu-link {
      color: rgba(255,255,255,0.85);
      text-decoration: none;
      display: block;
      transition: color 0.3s;
    }

    .submenu-link:hover {
      color: var(--white);
    }

    .nav-arrow {
      margin-left: auto;
      transition: transform 0.3s;
      font-size: 14px;
    }

    .nav-arrow.rotate {
      transform: rotate(90deg);
    }

    /* Main Content */
    .main-content {
      flex: 1;
      margin-left: var(--sidebar-width);
      transition: var(--transition);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .main-content.full {
      margin-left: 0;
    }

    .header {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: var(--shadow-sm);
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 999;
      border-bottom: 1px solid var(--glass-border);
      height: var(--header-height);
    }

    .menu-toggle {
      font-size: 24px;
      color: var(--dark);
      cursor: pointer;
      display: none;
      transition: transform 0.3s ease;
    }

    .menu-toggle:hover {
      transform: rotate(180deg);
    }

    .search-bar {
      flex: 1;
      max-width: 500px;
      margin: 0 20px;
      position: relative;
    }

    .search-input {
      width: 100%;
      padding: 12px 15px 12px 45px;
      border: none;
      outline: none;
      border-radius: 50px;
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      color: var(--dark);
      font-size: 14px;
      transition: var(--transition);
    }

    .search-input:focus {
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
    }

    .search-input::placeholder {
      color: var(--gray);
    }

    .search-icon {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--gray);
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .icon-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--dark);
      cursor: pointer;
      transition: var(--transition);
      position: relative;
    }

    .icon-btn:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-sm);
    }

    .icon-btn i {
      font-size: 16px;
    }

    .notifications {
      position: relative;
    }

    .badge {
      position: absolute;
      top: 8px;
      right: 8px;
      width: 18px;
      height: 18px;
      background: var(--danger);
      color: var(--white);
      border-radius: 50%;
      font-size: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.1); opacity: 0.8; }
      100% { transform: scale(1); opacity: 1; }
    }

    .profile-dropdown {
      position: relative;
    }

    .profile-dropdown-menu {
      position: absolute;
      top: 60px;
      right: 0;
      width: 280px;
      background: var(--white);
      border-radius: var(--radius);
      box-shadow: var(--shadow-lg);
      overflow: hidden;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all 0.3s ease;
      z-index: 1000;
      border: 1px solid rgba(0,0,0,0.1);
    }

    .profile-dropdown:hover .profile-dropdown-menu {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .dropdown-header {
      padding: 20px;
      background: var(--primary);
      color: var(--white);
      text-align: center;
      position: relative;
    }

    .dropdown-avatar {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: var(--white);
      margin: 0 auto 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      color: var(--primary);
      font-weight: 600;
      text-transform: uppercase;
      border: 3px solid rgba(255,255,255,0.3);
    }

    .dropdown-name {
      font-weight: 600;
      font-size: 16px;
    }

    .dropdown-class {
      font-size: 13px;
      opacity: 0.9;
    }

    .dropdown-body {
      padding: 10px 0;
    }

    .dropdown-item {
      padding: 12px 20px;
      display: flex;
      align-items: center;
      color: var(--dark);
      text-decoration: none;
      transition: background 0.3s;
      border-left: 3px solid transparent;
    }

    .dropdown-item:hover {
      background: #f8f9fa;
      border-left-color: var(--primary);
    }

    .dropdown-item i {
      margin-right: 10px;
      color: var(--primary);
      width: 20px;
      text-align: center;
    }

    .dropdown-divider {
      height: 1px;
      background: #eee;
      margin: 10px 0;
    }

    /* Dashboard Content */
    .dashboard {
      flex: 1;
      padding: 30px;
      background: linear-gradient(135deg, rgba(224, 247, 250, 0.8), rgba(187, 222, 251, 0.8));
      min-height: calc(100vh - var(--header-height));
    }

    .page-title {
      font-size: 28px;
      font-weight: 600;
      margin-bottom: 30px;
      color: var(--dark);
      display: flex;
      align-items: center;
      position: relative;
    }

    .page-title i {
      margin-right: 12px;
      color: var(--primary);
    }

    .page-title .title-actions {
      margin-left: auto;
      display: flex;
      gap: 10px;
    }

    .page-title .btn {
      padding: 6px 12px;
      font-size: 13px;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 25px;
      margin-bottom: 35px;
    }

    .stat-card {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      border-radius: var(--radius);
      padding: 25px;
      box-shadow: var(--shadow-sm);
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }

    .stat-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(90deg, var(--primary), var(--success));
    }

    .stat-card:hover {
      transform: translateY(-6px);
      box-shadow: var(--shadow);
    }

    .stat-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 20px;
    }

    .stat-icon {
      width: 60px;
      height: 60px;
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .icon-blue { background: rgba(67, 97, 238, 0.15); color: var(--primary); }
    .icon-green { background: rgba(76, 201, 240, 0.15); color: var(--success); }
    .icon-orange { background: rgba(252, 163, 17, 0.15); color: var(--warning); }
    .icon-pink { background: rgba(247, 37, 133, 0.15); color: var(--accent); }
    .icon-purple { background: rgba(63, 55, 201, 0.15); color: var(--secondary); }
    .icon-teal { background: rgba(60, 201, 240, 0.15); color: #00b894; }

    .stat-title {
      font-size: 15px;
      color: var(--gray);
      font-weight: 500;
    }

    .stat-value {
      font-size: 32px;
      font-weight: 700;
      margin: 8px 0;
      color: var(--dark);
    }

    .stat-desc {
      font-size: 14px;
      color: var(--gray);
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .stat-desc i {
      font-size: 12px;
    }

    .trend-up {
      color: var(--success);
    }

    .trend-down {
      color: var(--danger);
    }

    .card {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      border-radius: var(--radius);
      padding: 25px;
      box-shadow: var(--shadow-sm);
      margin-bottom: 25px;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, var(--primary), var(--accent));
    }

    .card:hover {
      box-shadow: var(--shadow);
      transform: translateY(-3px);
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
      flex-wrap: wrap;
      gap: 10px;
    }

    .card-title {
      font-size: 20px;
      font-weight: 600;
      color: var(--dark);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .card-title i {
      color: var(--primary);
      font-size: 18px;
    }

    .card-actions {
      display: flex;
      gap: 10px;
    }

    .view-all {
      color: var(--primary);
      font-size: 14px;
      text-decoration: none;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .view-all:hover {
      text-decoration: underline;
    }

    .view-all i {
      font-size: 12px;
    }

    .timeline {
      list-style: none;
      padding: 10px 0;
    }

    .timeline-item {
      display: flex;
      margin-bottom: 20px;
      position: relative;
      padding-left: 35px;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.6s ease forwards;
    }

    .timeline-item:nth-child(1) { animation-delay: 0.1s; }
    .timeline-item:nth-child(2) { animation-delay: 0.2s; }
    .timeline-item:nth-child(3) { animation-delay: 0.3s; }
    .timeline-item:nth-child(4) { animation-delay: 0.4s; }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .timeline-item:before {
      content: '';
      position: absolute;
      left: 10px;
      top: 0;
      width: 4px;
      height: 100%;
      background: var(--primary);
      z-index: 0;
    }

    .timeline-dot {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: var(--white);
      border: 3px solid var(--primary);
      position: absolute;
      left: 2px;
      z-index: 1;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .timeline-content {
      background: var(--white);
      padding: 15px;
      border-radius: var(--radius-sm);
      box-shadow: var(--shadow-sm);
      font-size: 14px;
      position: relative;
      border: 1px solid #eee;
    }

    .timeline-content::after {
      content: '';
      position: absolute;
      top: 12px;
      left: -8px;
      width: 0;
      height: 0;
      border-top: 8px solid transparent;
      border-bottom: 8px solid transparent;
      border-right: 8px solid var(--white);
    }

    .timeline-time {
      font-size: 13px;
      color: var(--gray);
      margin-top: 8px;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .timeline-time i {
      font-size: 12px;
    }

    .subject-list {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin: 15px 0;
    }

    .subject-tag {
      padding: 8px 16px;
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      border-radius: 50px;
      font-size: 14px;
      color: var(--dark);
      font-weight: 500;
      transition: var(--transition);
      cursor: pointer;
    }

    .subject-tag:hover {
      background: rgba(255,255,255,0.3);
      transform: translateY(-2px);
    }

    .progress-container {
      margin: 15px 0;
    }

    .progress-label {
      display: flex;
      justify-content: space-between;
      font-size: 15px;
      margin-bottom: 8px;
      font-weight: 500;
    }

    .progress-bar {
      height: 10px;
      background: rgba(0,0,0,0.1);
      border-radius: 5px;
      overflow: hidden;
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
    }

    .progress-fill {
      height: 100%;
      border-radius: 5px;
      transition: width 0.6s ease;
      position: relative;
    }

    .progress-fill::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .progress-blue { background: linear-gradient(90deg, #4361ee, #3a56d4); }
    .progress-green { background: linear-gradient(90deg, #4cc9f0, #3abde0); }
    .progress-orange { background: linear-gradient(90deg, #fca311, #e69500); }
    .progress-pink { background: linear-gradient(90deg, #f72585, #d91a72); }
    .progress-purple { background: linear-gradient(90deg, #3f37c9, #352fa3); }
    .progress-teal { background: linear-gradient(90deg, #00b894, #00a082); }

    .attendance-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
      margin-top: 15px;
    }

    .attendance-day {
      aspect-ratio: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
      font-weight: 600;
      border-radius: 50%;
      color: var(--white);
      cursor: pointer;
      transition: transform 0.3s ease;
      position: relative;
    }

    .attendance-day:hover {
      transform: scale(1.1);
    }

    .attendance-day::after {
      content: attr(data-status);
      position: absolute;
      bottom: -18px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 11px;
      white-space: nowrap;
    }

    .present { background: var(--success); }
    .absent { background: var(--danger); }
    .late { background: var(--warning); }
    .holiday { background: var(--gray); }
    .exam { background: var(--primary); }

    .timetable {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .timetable th, .timetable td {
      padding: 12px;
      text-align: center;
      border: 1px solid #dee2e6;
      transition: background 0.3s ease;
    }

    .timetable th {
      background: #f8f9fa;
      font-weight: 600;
      color: var(--dark);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .timetable tr:hover td {
      background: rgba(67, 97, 238, 0.05);
    }

    .subject-math { background: rgba(67, 97, 238, 0.1); border-left: 4px solid var(--primary); }
    .subject-science { background: rgba(76, 201, 240, 0.1); border-left: 4px solid var(--success); }
    .subject-english { background: rgba(252, 163, 17, 0.1); border-left: 4px solid var(--warning); }
    .subject-hindi { background: rgba(247, 37, 133, 0.1); border-left: 4px solid var(--accent); }
    .subject-social { background: rgba(39, 174, 96, 0.1); border-left: 4px solid #27ae60; }
    .subject-computer { background: rgba(155, 89, 182, 0.1); border-left: 4px solid #9b59b6; }
    .subject-art { background: rgba(231, 76, 60, 0.1); border-left: 4px solid #e74c3c; }
    .subject-music { background: rgba(46, 204, 113, 0.1); border-left: 4px solid #2ecc71; }

    .resource-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 20px;
    }

    .resource-card {
      background: var(--white);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
      transition: var(--transition);
      border: 1px solid #eee;
      position: relative;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.6s ease forwards;
    }

    .resource-card:nth-child(1) { animation-delay: 0.1s; }
    .resource-card:nth-child(2) { animation-delay: 0.2s; }
    .resource-card:nth-child(3) { animation-delay: 0.3s; }
    .resource-card:nth-child(4) { animation-delay: 0.4s; }

    .resource-card:hover {
      transform: translateY(-6px);
      box-shadow: var(--shadow);
    }

    .resource-img {
      height: 140px;
      background: #e9ecef;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 36px;
      color: var(--primary);
      position: relative;
    }

    .resource-img::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, rgba(67, 97, 238, 0.1), rgba(76, 201, 240, 0.1));
    }

    .resource-img i {
      position: relative;
      z-index: 1;
    }

    .resource-body {
      padding: 18px;
    }

    .resource-title {
      font-size: 17px;
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--dark);
    }

    .resource-desc {
      font-size: 14px;
      color: var(--gray);
      margin-bottom: 15px;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .resource-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 13px;
      color: var(--gray);
    }

    .btn {
      display: inline-block;
      padding: 10px 20px;
      border-radius: 50px;
      font-size: 14px;
      font-weight: 500;
      text-decoration: none;
      cursor: pointer;
      transition: var(--transition);
      border: none;
      outline: none;
    }

    .btn-primary {
      background: var(--primary);
      color: var(--white);
    }

    .btn-outline {
      border: 1px solid var(--primary);
      color: var(--primary);
      background: transparent;
    }

    .btn-sm {
      padding: 6px 12px;
      font-size: 12px;
    }

    .btn-block {
      display: block;
      width: 100%;
    }

    .btn:hover {
      opacity: 0.9;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .btn:active {
      transform: translateY(0);
    }

    .exam-schedule {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }

    .exam-schedule th, .exam-schedule td {
      padding: 14px 12px;
      text-align: left;
      border-bottom: 1px solid #dee2e6;
      transition: background 0.3s ease;
    }

    .exam-schedule th {
      background: #f8f9fa;
      font-weight: 600;
      color: var(--dark);
    }

    .exam-schedule tr:hover td {
      background: rgba(67, 97, 238, 0.03);
    }

    .result-item {
      display: flex;
      justify-content: space-between;
      padding: 12px 0;
      border-bottom: 1px solid #eee;
      transition: background 0.3s ease;
    }

    .result-item:hover {
      background: rgba(67, 97, 238, 0.03);
    }

    .result-subject {
      font-weight: 500;
      font-size: 15px;
    }

    .result-marks {
      color: var(--primary);
      font-weight: 600;
      font-size: 15px;
    }

    .announcement {
      margin-bottom: 20px;
      padding: 20px;
      background: var(--white);
      border-radius: var(--radius);
      box-shadow: var(--shadow-sm);
      border-left: 4px solid var(--primary);
      transition: transform 0.3s ease;
      position: relative;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.6s ease forwards;
    }

    .announcement:nth-child(1) { animation-delay: 0.1s; }
    .announcement:nth-child(2) { animation-delay: 0.2s; }
    .announcement:nth-child(3) { animation-delay: 0.3s; }

    .announcement:hover {
      transform: translateY(-3px);
    }

    .announcement-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 12px;
    }

    .announcement-title {
      font-weight: 600;
      color: var(--dark);
      font-size: 16px;
    }

    .announcement-date {
      font-size: 13px;
      color: var(--gray);
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .announcement-content {
      font-size: 14px;
      color: var(--dark);
      line-height: 1.6;
    }

    .announcement-priority {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: var(--danger);
    }

    /* AI Homework Helper */
    .ai-container {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      width: 420px;
      background: var(--white);
      border-radius: var(--radius);
      box-shadow: var(--shadow-lg);
      overflow: hidden;
      display: none;
      border: 1px solid rgba(0,0,0,0.1);
      opacity: 0;
      transform: scale(0.9);
      transition: all 0.3s ease;
    }

    .ai-container.active {
      display: block;
      opacity: 1;
      transform: scale(1);
    }

    .ai-header {
      background: var(--primary);
      color: var(--white);
      padding: 18px 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      user-select: none;
    }

    .ai-title {
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 16px;
    }

    .ai-title i {
      margin-right: 0;
    }

    .ai-status {
      font-size: 12px;
      opacity: 0.8;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      background: #4cc9f0;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    .ai-close {
      background: rgba(255,255,255,0.2);
      border: none;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition);
    }

    .ai-close:hover {
      background: rgba(255,255,255,0.3);
      transform: rotate(90deg);
    }

    .ai-body {
      height: 420px;
      overflow-y: auto;
      padding: 15px;
      background: #f8f9fa;
      display: flex;
      flex-direction: column;
    }

    .ai-message {
      margin-bottom: 15px;
      max-width: 80%;
      animation: fadeIn 0.4s ease;
      line-height: 1.5;
    }

    .ai-user {
      margin-left: auto;
      background: var(--primary);
      color: var(--white);
      padding: 12px 18px;
      border-radius: 18px 18px 0 18px;
      font-size: 14px;
      position: relative;
    }

    .ai-user::after {
      content: 'You';
      position: absolute;
      bottom: -18px;
      right: 0;
      font-size: 11px;
      color: var(--gray);
    }

    .ai-bot {
      background: var(--white);
      padding: 12px 18px;
      border-radius: 18px 18px 18px 0;
      box-shadow: var(--shadow-sm);
      font-size: 14px;
      position: relative;
      border: 1px solid #eee;
    }

    .ai-bot::after {
      content: 'AI Helper';
      position: absolute;
      bottom: -18px;
      left: 0;
      font-size: 11px;
      color: var(--gray);
    }

    .ai-input-container {
      display: flex;
      padding: 12px 10px;
      background: var(--white);
      border-top: 1px solid #dee2e6;
    }

    .ai-input {
      flex: 1;
      padding: 12px 15px;
      border: 1px solid #dee2e6;
      border-radius: 50px;
      outline: none;
      font-size: 14px;
      transition: var(--transition);
    }

    .ai-input:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
    }

    .ai-send {
      width: 44px;
      height: 44px;
      border: none;
      background: var(--primary);
      color: var(--white);
      border-radius: 50%;
      margin-left: 10px;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .ai-send:hover {
      background: var(--secondary);
      transform: translateY(-2px);
    }

    .ai-send:active {
      transform: translateY(0);
    }

    .typing {
      font-style: italic;
      color: var(--gray);
      font-size: 13px;
      margin: 5px 0 10px;
      display: none;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .typing-dots {
      display: flex;
      gap: 4px;
    }

    .typing-dot {
      width: 6px;
      height: 6px;
      background: var(--gray);
      border-radius: 50%;
      animation: typing 1.4s infinite both;
    }

    .typing-dot:nth-child(1) { animation-delay: 0s; }
    .typing-dot:nth-child(2) { animation-delay: 0.2s; }
    .typing-dot:nth-child(3) { animation-delay: 0.4s; }

    @keyframes typing {
      0%, 60%, 100% { transform: translateY(0); }
      30% { transform: translateY(-5px); }
    }

    /* Responsive */
    @media (max-width: 1200px) {
      .stats-grid {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      }
      .resource-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      }
      .ai-container {
        width: 400px;
      }
    }

    @media (max-width: 992px) {
      :root {
        --sidebar-width: 240px;
      }
      .sidebar {
        width: var(--sidebar-width);
      }
      .main-content {
        margin-left: var(--sidebar-width);
      }
      .menu-toggle {
        display: block;
      }
      .search-bar {
        max-width: 280px;
      }
      .stats-grid {
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      }
      .ai-container {
        width: 90%;
        bottom: 15px;
        right: 15px;
        left: 15px;
      }
    }

    @media (max-width: 768px) {
      :root {
        --sidebar-width: 280px;
        --header-height: 60px;
      }
      .header {
        padding: 12px 15px;
      }
      .search-bar {
        display: none;
      }
      .header-actions {
        gap: 10px;
      }
      .icon-btn {
        width: 36px;
        height: 36px;
      }
      .icon-btn i {
        font-size: 15px;
      }
      .dashboard {
        padding: 20px 15px;
      }
      .page-title {
        font-size: 24px;
      }
      .stats-grid {
        grid-template-columns: 1fr;
      }
      .card-header {
        flex-direction: column;
        align-items: stretch;
        gap: 15px;
      }
      .card-actions {
        justify-content: space-between;
      }
      .resource-grid {
        grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      }
      .resource-card {
        margin-bottom: 15px;
      }
      .timetable th, .timetable td {
        padding: 8px 6px;
        font-size: 13px;
      }
      .exam-schedule th, .exam-schedule td {
        padding: 10px 8px;
        font-size: 14px;
      }
      .announcement {
        padding: 15px;
      }
      .attendance-grid {
        gap: 5px;
      }
      .attendance-day {
        font-size: 12px;
      }
      .profile-dropdown-menu {
        width: 240px;
      }
    }

    @media (max-width: 576px) {
      .sidebar {
        width: 100%;
        transform: translateX(-100%);
        z-index: 1001;
      }
      .sidebar.active {
        transform: translateX(0);
      }
      .main-content {
        margin-left: 0;
      }
      .menu-toggle {
        display: block;
      }
      .stats-grid {
        grid-template-columns: 1fr;
      }
      .card-header {
        flex-direction: column;
        align-items: stretch;
        gap: 10px;
      }
      .view-all {
        font-size: 13px;
      }
      .page-title .title-actions {
        margin-left: 0;
        margin-top: 15px;
        justify-content: center;
      }
      .ai-container {
        width: 95%;
        bottom: 10px;
        right: 10px;
        left: 10px;
      }
      .ai-body {
        height: 320px;
      }
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .animate {
      animation: fadeIn 0.6s ease forwards;
    }

    .delay-1 { animation-delay: 0.1s; }
    .delay-2 { animation-delay: 0.2s; }
    .delay-3 { animation-delay: 0.3s; }
    .delay-4 { animation-delay: 0.4s; }
    .delay-5 { animation-delay: 0.5s; }

    /* Footer */
    .footer {
      text-align: center;
      padding: 20px;
      background: var(--dark);
      color: var(--white);
      margin-top: 40px;
      font-size: 14px;
      border-top: 1px solid rgba(255,255,255,0.1);
    }

    .footer a {
      color: var(--white);
      text-decoration: none;
      font-weight: 500;
    }

    .footer a:hover {
      text-decoration: underline;
    }

    /* Hidden classes */
    .hidden {
      display: none;
    }

    /* Profile Section */
    .profile-grid {
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 30px;
    }

    .profile-sidebar {
      background: var(--white);
      padding: 25px;
      border-radius: var(--radius);
      box-shadow: var(--shadow-sm);
      border: 1px solid #eee;
    }

    .profile-avatar {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      margin: 0 auto 15px;
      background: var(--primary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 48px;
      color: var(--white);
      font-weight: 600;
      margin-bottom: 20px;
      border: 5px solid var(--white);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .profile-info {
      margin-bottom: 20px;
    }

    .info-label {
      font-size: 14px;
      color: var(--gray);
      font-weight: 500;
    }

    .info-value {
      font-weight: 600;
      margin-top: 5px;
      font-size: 15px;
      color: var(--dark);
    }

    .profile-main {
      background: var(--white);
      padding: 25px;
      border-radius: var(--radius);
      box-shadow: var(--shadow-sm);
      border: 1px solid #eee;
    }

    .profile-tabs {
      display: flex;
      border-bottom: 1px solid #eee;
      margin-bottom: 25px;
      overflow-x: auto;
      padding-bottom: 5px;
      gap: 5px;
    }

    .profile-tab {
      padding: 10px 20px;
      border-radius: var(--radius-sm);
      cursor: pointer;
      font-weight: 500;
      font-size: 14px;
      white-space: nowrap;
      transition: var(--transition);
      border: 1px solid transparent;
    }

    .profile-tab.active {
      background: var(--primary);
      color: var(--white);
      border-color: var(--primary);
    }

    .profile-tab:hover:not(.active) {
      background: #f8f9fa;
    }

    /* Settings */
    .settings-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 25px;
    }

    .setting-item {
      background: var(--white);
      padding: 20px;
      border-radius: var(--radius);
      box-shadow: var(--shadow-sm);
      border: 1px solid #eee;
      transition: var(--transition);
    }

    .setting-item:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow);
    }

    .setting-label {
      font-weight: 500;
      margin-bottom: 12px;
      font-size: 15px;
      color: var(--dark);
    }

    .setting-control {
      width: 100%;
      padding: 10px 15px;
      border: 1px solid #dee2e6;
      border-radius: var(--radius-sm);
      font-size: 14px;
      transition: var(--transition);
    }

    .setting-control:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
      outline: none;
    }

    .switch {
      position: relative;
      display: inline-block;
      width: 50px;
      height: 24px;
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 24px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: var(--primary);
    }

    input:checked + .slider:before {
      transform: translateX(26px);
    }

    .switch-label {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 15px;
      color: var(--dark);
    }

    /* Library */
    .book-card {
      background: var(--white);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
      transition: var(--transition);
      border: 1px solid #eee;
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .book-cover {
      height: 180px;
      background: linear-gradient(45deg, #4361ee, #4cc9f0);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 48px;
      color: var(--white);
      position: relative;
      overflow: hidden;
    }

    .book-cover::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="2"/></svg>');
      opacity: 0.3;
    }

    .book-info {
      padding: 18px;
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .book-title {
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 16px;
      color: var(--dark);
    }

    .book-author {
      font-size: 14px;
      color: var(--gray);
      margin-bottom: 12px;
    }

    .book-meta {
      display: flex;
      justify-content: space-between;
      font-size: 13px;
      color: var(--gray);
      margin-top: auto;
    }

    .book-status {
      padding: 4px 10px;
      border-radius: 50px;
      font-size: 12px;
      font-weight: 500;
    }

    .status-available {
      background: rgba(76, 201, 240, 0.1);
      color: var(--success);
    }

    .status-borrowed {
      background: rgba(231, 76, 60, 0.1);
      color: var(--danger);
    }

    .status-reserved {
      background: rgba(241, 196, 15, 0.1);
      color: var(--warning);
    }

    /* E-Learning */
    .video-card {
      background: var(--white);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
      transition: var(--transition);
      border: 1px solid #eee;
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .video-thumbnail {
      height: 160px;
      background: linear-gradient(45deg, #f72585, #b5179e);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 36px;
      color: var(--white);
      position: relative;
      cursor: pointer;
    }

    .video-thumbnail:hover::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.2);
    }

    .video-thumbnail i {
      position: relative;
      z-index: 1;
    }

    .play-icon {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 60px;
      height: 60px;
      background: rgba(255,255,255,0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      opacity: 0.8;
      transition: var(--transition);
    }

    .video-thumbnail:hover .play-icon {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1.1);
    }

    .video-info {
      padding: 18px;
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .video-title {
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 16px;
      color: var(--dark);
    }

    .video-subject {
      font-size: 14px;
      color: var(--primary);
      margin-bottom: 12px;
    }

    .video-meta {
      display: flex;
      justify-content: space-between;
      font-size: 13px;
      color: var(--gray);
      margin-top: auto;
    }

    .video-duration {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    /* Online Tests */
    .test-card {
      background: var(--white);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow-sm);
      border-left: 5px solid var(--primary);
      transition: var(--transition);
      border: 1px solid #eee;
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .test-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 15px;
    }

    .test-title {
      font-weight: 600;
      font-size: 16px;
      color: var(--dark);
    }

    .test-badge {
      padding: 4px 10px;
      border-radius: 50px;
      font-size: 12px;
      font-weight: 500;
    }

    .badge-new {
      background: rgba(46, 204, 113, 0.1);
      color: #27ae60;
    }

    .badge-upcoming {
      background: rgba(241, 196, 15, 0.1);
      color: #f39c12;
    }

    .test-subject {
      font-size: 14px;
      color: var(--gray);
      margin-bottom: 10px;
    }

    .test-info {
      display: flex;
      justify-content: space-between;
      font-size: 13px;
      color: var(--gray);
      margin-bottom: 15px;
    }

    .test-timer {
      font-size: 14px;
      color: var(--warning);
      font-weight: 500;
    }

    .test-footer {
      margin-top: auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .test-progress {
      flex: 1;
      margin-right: 15px;
    }

    .test-progress-label {
      font-size: 13px;
      color: var(--gray);
      margin-bottom: 5px;
    }

    /* Notes */
    .note-card {
      background: var(--white);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow-sm);
      border: 1px solid #eee;
      transition: var(--transition);
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .note-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 15px;
    }

    .note-title {
      font-weight: 600;
      font-size: 16px;
      color: var(--dark);
    }

    .note-actions {
      display: flex;
      gap: 8px;
    }

    .note-action {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition);
      color: var(--gray);
    }

    .note-action:hover {
      background: #f8f9fa;
      color: var(--primary);
    }

    .note-content {
      font-size: 14px;
      color: var(--dark);
      margin-bottom: 15px;
      line-height: 1.6;
      flex: 1;
    }

    .note-date {
      font-size: 13px;
      color: var(--gray);
      display: flex;
      align-items: center;
      gap: 5px;
    }

    /* Progress Reports */
    .report-card {
      background: var(--white);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow-sm);
      border: 1px solid #eee;
      transition: var(--transition);
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .report-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 15px;
    }

    .report-title {
      font-weight: 600;
      font-size: 16px;
      color: var(--dark);
    }

    .report-grade {
      font-weight: 700;
      color: var(--primary);
      font-size: 16px;
    }

    .report-subjects {
      margin-bottom: 15px;
    }

    .report-subject {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid #eee;
      font-size: 14px;
    }

    .report-subject:last-child {
      border-bottom: none;
    }

    .report-footer {
      margin-top: auto;
      display: flex;
      justify-content: space-between;
      font-size: 13px;
      color: var(--gray);
    }

    /* Chatbot Help */
    .chat-container {
      height: 420px;
      overflow-y: auto;
      padding: 15px;
      background: #f8f9fa;
      display: flex;
      flex-direction: column;
    }

    .chat-message {
      margin-bottom: 15px;
      max-width: 80%;
      animation: fadeIn 0.4s ease;
    }

    .chat-user {
      margin-left: auto;
      background: var(--primary);
      color: var(--white);
      padding: 12px 18px;
      border-radius: 18px 18px 0 18px;
      font-size: 14px;
    }

    .chat-bot {
      background: var(--white);
      padding: 12px 18px;
      border-radius: 18px 18px 18px 0;
      box-shadow: var(--shadow-sm);
      font-size: 14px;
      border: 1px solid #eee;
    }

    .chat-input {
      display: flex;
      padding: 12px 10px;
      background: var(--white);
      border-top: 1px solid #dee2e6;
    }

    .chat-input input {
      flex: 1;
      padding: 12px 15px;
      border: 1px solid #dee2e6;
      border-radius: 50px;
      outline: none;
    }

    .chat-send {
      width: 44px;
      height: 44px;
      border: none;
      background: var(--primary);
      color: var(--white);
      border-radius: 50%;
      margin-left: 10px;
      cursor: pointer;
    }

    /* Homework */
    .homework-card {
      background: var(--white);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow-sm);
      border-left: 5px solid var(--success);
      transition: var(--transition);
      border: 1px solid #eee;
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .homework-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 15px;
    }

    .homework-title {
      font-weight: 600;
      font-size: 16px;
      color: var(--dark);
    }

    .homework-badge {
      padding: 4px 10px;
      border-radius: 50px;
      font-size: 12px;
      font-weight: 500;
    }

    .badge-due-soon {
      background: rgba(231, 76, 60, 0.1);
      color: #e74c3c;
    }

    .badge-new {
      background: rgba(46, 204, 113, 0.1);
      color: #27ae60;
    }

    .homework-subject {
      font-size: 14px;
      color: var(--gray);
      margin-bottom: 10px;
    }

    .homework-desc {
      font-size: 14px;
      color: var(--dark);
      margin-bottom: 15px;
      line-height: 1.5;
      flex: 1;
    }

    .homework-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 13px;
      color: var(--gray);
    }

    .homework-due {
      display: flex;
      align-items: center;
      gap: 5px;
      font-weight: 500;
    }

    .homework-due.urgent {
      color: var(--danger);
    }

    /* Attendance */
    .attendance-summary {
      display: flex;
      justify-content: space-around;
      margin: 25px 0;
      flex-wrap: wrap;
      gap: 15px;
    }

    .attendance-item {
      text-align: center;
      flex: 1;
      min-width: 120px;
    }

    .attendance-count {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 8px;
      color: var(--primary);
    }

    .attendance-label {
      font-size: 15px;
      color: var(--gray);
      font-weight: 500;
    }

    .attendance-chart {
      height: 300px;
      margin: 25px 0;
      background: var(--white);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow-sm);
      border: 1px solid #eee;
    }

    /* Exams */
    .exam-card {
      background: var(--white);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow-sm);
      border-left: 5px solid var(--warning);
      transition: var(--transition);
      border: 1px solid #eee;
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .exam-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 15px;
    }

    .exam-title {
      font-weight: 600;
      font-size: 16px;
      color: var(--dark);
    }

    .exam-badge {
      padding: 4px 10px;
      border-radius: 50px;
      font-size: 12px;
      font-weight: 500;
    }

    .badge-upcoming {
      background: rgba(241, 196, 15, 0.1);
      color: #f39c12;
    }

    .badge-final {
      background: rgba(231, 76, 60, 0.1);
      color: #e74c3c;
    }

    .exam-date {
      font-size: 14px;
      color: var(--gray);
      margin-bottom: 10px;
    }

    .exam-subjects {
      margin-bottom: 15px;
    }

    .exam-subject {
      display: flex;
      justify-content: space-between;
      padding: 6px 0;
      font-size: 14px;
      border-bottom: 1px solid #eee;
    }

    .exam-subject:last-child {
      border-bottom: none;
    }

    .exam-timer {
      font-size: 14px;
      color: var(--warning);
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    /* Results */
    .result-card {
      background: var(--white);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow-sm);
      border: 1px solid #eee;
      transition: var(--transition);
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .result-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 15px;
    }

    .result-exam {
      font-weight: 600;
      font-size: 16px;
      color: var(--dark);
    }

    .result-percentage {
      font-weight: 700;
      color: var(--primary);
      font-size: 16px;
    }

    .result-details {
      margin-bottom: 15px;
    }

    .result-item {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid #eee;
      font-size: 14px;
    }

    .result-item:last-child {
      border-bottom: none;
    }

    .result-subject {
      font-weight: 500;
    }

    .result-marks {
      color: var(--primary);
      font-weight: 600;
    }

    .result-footer {
      margin-top: auto;
      display: flex;
      justify-content: space-between;
      font-size: 13px;
      color: var(--gray);
    }

    /* Announcements */
    .announcement-card {
      background: var(--white);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow-sm);
      border: 1px solid #eee;
      transition: var(--transition);
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .announcement-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 12px;
    }

    .announcement-title {
      font-weight: 600;
      font-size: 16px;
      color: var(--dark);
    }

    .announcement-date {
      font-size: 13px;
      color: var(--gray);
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .announcement-content {
      font-size: 14px;
      color: var(--dark);
      line-height: 1.6;
      margin-bottom: 15px;
      flex: 1;
    }

    .announcement-actions {
      display: flex;
      gap: 10px;
    }

    .announcement-action {
      padding: 6px 12px;
      border-radius: var(--radius-sm);
      font-size: 13px;
      cursor: pointer;
      transition: var(--transition);
    }

    .announcement-action.primary {
      background: var(--primary);
      color: var(--white);
    }

    .announcement-action.outline {
      border: 1px solid var(--primary);
      color: var(--primary);
    }

    /* Timetable */
    .timetable-container {
      overflow-x: auto;
      margin: 20px 0;
    }

    /* Loading */
    .loading {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 200px;
    }

    .spinner {
      width: 40px;
      height: 40px;
      border: 4px solid var(--gray);
      border-top: 4px solid var(--primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Empty State */
    .empty-state {
      text-align: center;
      padding: 60px 20px;
      color: var(--gray);
    }

    .empty-icon {
      font-size: 64px;
      margin-bottom: 20px;
      opacity: 0.3;
    }

    .empty-title {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 15px;
      color: var(--dark);
    }

    .empty-text {
      font-size: 15px;
      margin-bottom: 20px;
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
    }

    .empty-action {
      margin-top: 20px;
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 2000;
      justify-content: center;
      align-items: center;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .modal.active {
      display: flex;
      opacity: 1;
    }

    .modal-content {
      background: var(--white);
      border-radius: var(--radius);
      width: 90%;
      max-width: 500px;
      box-shadow: var(--shadow-lg);
      border: 1px solid rgba(0,0,0,0.1);
      animation: modalIn 0.3s ease;
    }

    @keyframes modalIn {
      from { transform: scale(0.9); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    .modal-header {
      padding: 20px 25px;
      background: var(--primary);
      color: var(--white);
      border-radius: var(--radius) var(--radius) 0 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-title {
      font-weight: 600;
      font-size: 18px;
    }

    .modal-close {
      background: none;
      border: none;
      color: var(--white);
      font-size: 24px;
      cursor: pointer;
      transition: var(--transition);
    }

    .modal-close:hover {
      transform: rotate(90deg);
    }

    .modal-body {
      padding: 25px;
      font-size: 15px;
      color: var(--dark);
      line-height: 1.6;
    }

    .modal-footer {
      padding: 20px 25px;
      border-top: 1px solid #dee2e6;
      display: flex;
      justify-content: flex-end;
      gap: 15px;
    }

    .modal-btn {
      padding: 10px 20px;
      border: none;
      border-radius: var(--radius-sm);
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      transition: var(--transition);
    }

    .modal-btn-secondary {
      background: #f8f9fa;
      color: var(--dark);
    }

    .modal-btn-secondary:hover {
      background: #e9ecef;
    }

    .modal-btn-primary {
      background: var(--primary);
      color: var(--white);
    }

    .modal-btn-primary:hover {
      background: var(--secondary);
    }

    /* Toast */
    .toast {
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--primary);
      color: var(--white);
      padding: 18px 25px;
      border-radius: var(--radius);
      box-shadow: var(--shadow-lg);
      z-index: 3000;
      transform: translateX(100%);
      transition: transform 0.3s ease;
      font-size: 15px;
      font-weight: 500;
    }

    .toast.show {
      transform: translateX(0);
    }

    .toast.success {
      background: var(--success);
    }

    .toast.error {
      background: var(--danger);
    }

    .toast.warning {
      background: var(--warning);
    }

    /* Dark Mode */
    body.dark-mode {
      background: #121212;
      color: #e0e0e0;
    }

    body.dark-mode .card,
    body.dark-mode .stat-card,
    body.dark-mode .resource-card,
    body.dark-mode .book-card,
    body.dark-mode .video-card,
    body.dark-mode .test-card,
    body.dark-mode .note-card,
    body.dark-mode .report-card,
    body.dark-mode .homework-card,
    body.dark-mode .exam-card,
    body.dark-mode .result-card,
    body.dark-mode .announcement-card,
    body.dark-mode .modal-content,
    body.dark-mode .ai-container,
    body.dark-mode .profile-sidebar,
    body.dark-mode .setting-item,
    body.dark-mode .profile-main,
    body.dark-mode .profile-tab {
      background: #1e1e1e;
      color: #e0e0e0;
      border-color: #333;
    }

    body.dark-mode .ai-body,
    body.dark-mode .chat-container {
      background: #1a1a1a;
    }

    body.dark-mode .ai-user,
    body.dark-mode .chat-user {
      background: var(--primary);
    }

    body.dark-mode .ai-bot,
    body.dark-mode .chat-bot {
      background: #2a2a2a;
      color: #e0e0e0;
      border-color: #333;
    }

    body.dark-mode .ai-input,
    body.dark-mode .chat-input input {
      background: #1a1a1a;
      color: #e0e0e0;
      border-color: #444;
    }

    body.dark-mode .search-input {
      background: #1a1a1a;
      color: #e0e0e0;
      border-color: #444;
    }

    body.dark-mode .header {
      background: rgba(30, 30, 30, 0.9);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-color: #333;
    }

    body.dark-mode .sidebar {
      background: linear-gradient(180deg, #1e3a8a, #1e2952);
      border-color: #333;
    }

    body.dark-mode .user-profile,
    body.dark-mode .sidebar-header {
      border-color: #333;
    }

    body.dark-mode .profile-dropdown-menu {
      background: #1e1e1e;
      border-color: #333;
    }

    body.dark-mode .dropdown-item:hover {
      background: #2a2a2a;
      border-left-color: var(--primary);
    }

    body.dark-mode .dropdown-header {
      background: var(--primary);
    }

    body.dark-mode .footer {
      background: #1a1a1a;
      border-color: #333;
    }

    body.dark-mode .timetable th {
      background: #2a2a2a;
      color: #e0e0e0;
    }

    body.dark-mode .timetable tr:hover td {
      background: rgba(67, 97, 238, 0.1);
    }

    body.dark-mode .exam-schedule th {
      background: #2a2a2a;
      color: #e0e0e0;
    }

    body.dark-mode .exam-schedule tr:hover td {
      background: rgba(67, 97, 238, 0.1);
    }

    body.dark-mode .result-item:hover {
      background: rgba(67, 97, 238, 0.1);
    }

    body.dark-mode .announcement {
      background: #1e1e1e;
      border-left-color: var(--primary);
    }

    body.dark-mode .subject-tag {
      background: rgba(255,255,255,0.1);
      border-color: rgba(255,255,255,0.2);
      color: #e0e0e0;
    }

    body.dark-mode .subject-tag:hover {
      background: rgba(255,255,255,0.2);
    }

    body.dark-mode .progress-bar {
      background: rgba(255,255,255,0.1);
    }

    /* Print Styles */
    @media print {
      .sidebar, .header, .ai-container, .modal, .footer, .btn, .menu-toggle, .icon-btn, .card-actions, .title-actions {
        display: none !important;
      }
      .main-content {
        margin-left: 0 !important;
      }
      body {
        background: var(--white) !important;
        color: var(--dark) !important;
      }
      .card, .stat-card, .dashboard {
        background: var(--white) !important;
        border: 1px solid #ddd !important;
      }
      .ai-bot, .ai-user, .announcement, .homework-card, .exam-card {
        background: var(--white) !important;
        color: var(--dark) !important;
      }
    }

    /* Accessibility */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* High Contrast Mode */
    @media (prefers-contrast: high) {
      body {
        background: #000;
        color: #fff;
      }
      .card, .stat-card, .resource-card, .book-card, .video-card, .test-card, .note-card, .report-card, .homework-card, .exam-card, .result-card, .announcement-card, .modal-content, .ai-container, .profile-sidebar, .setting-item {
        border: 2px solid #fff;
      }
      .btn-primary {
        border: 2px solid #fff;
      }
    }

    /* Reduced Transparency */
    @media (prefers-reduced-transparency: reduce) {
      body, .card, .stat-card, .header, .sidebar, .ai-container, .modal-content {
        background: #fff !important;
        backdrop-filter: none !important;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="logo">
          <i class="fas fa-school"></i>
          MKPS
        </div>
        <div class="school-name">Milli Karwaan Public School</div>
      </div>
      
      <div class="user-profile">
        <div class="profile-img" id="profileInitial">AB</div>
        <div class="student-name" id="studentName">Loading...</div>
        <div class="student-class" id="studentClass">Class X</div>
      </div>

      <ul class="nav-menu">
        <li class="nav-item">
          <a href="#" class="nav-link active" data-page="dashboard">
            <i class="fas fa-home"></i>
            <span class="link-text">Dashboard</span>
          </a>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="homework">
            <i class="fas fa-book"></i>
            <span class="link-text">Homework</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="current-homework">Current Homework</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="homework-submission">Submit Homework</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="homework-history">History</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="homework-calendar">Calendar</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="homework-reminders">Reminders</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="homework-tracker">Progress Tracker</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="timetable">
            <i class="fas fa-calendar-alt"></i>
            <span class="link-text">Timetable</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="weekly-schedule">Weekly Schedule</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="class-timings">Class Timings</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="teacher-schedule">Teacher Schedule</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="break-times">Break Times</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="exam-timetable">Exam Timetable</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="timetable-print">Print View</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="attendance">
            <i class="fas fa-check-circle"></i>
            <span class="link-text">Attendance</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="daily-attendance">Daily Attendance</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="monthly-report">Monthly Report</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="attendance-history">History</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="leave-application">Leave Application</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="attendance-chart">Analytics</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="attendance-records">Records</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="exams">
            <i class="fas fa-clipboard-list"></i>
            <span class="link-text">Exams</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="exam-schedule">Exam Schedule</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="exam-timetable">Exam Timetable</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="exam-rules">Exam Rules</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="exam-hall">Hall Ticket</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="exam-guidelines">Guidelines</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="exam-portal">Exam Portal</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="results">
            <i class="fas fa-award"></i>
            <span class="link-text">Results</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="term-results">Term Results</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="unit-tests">Unit Tests</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="performance-analysis">Performance Analysis</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="result-history">History</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="result-comparison">Comparison</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="result-certificates">Certificates</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="announcements">
            <i class="fas fa-bullhorn"></i>
            <span class="link-text">Announcements</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="school-news">School News</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="event-notices">Event Notices</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="holiday-list">Holiday List</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="circulars">Circulars</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="urgent-notices">Urgent Notices</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="announcement-archive">Archive</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="library">
            <i class="fas fa-book-open"></i>
            <span class="link-text">Library</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="books-catalog">Books Catalog</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="e-books">E-Books</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="borrow-history">Borrow History</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="return-dates">Return Dates</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="library-rules">Library Rules</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="digital-resources">Digital Resources</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="elearning">
            <i class="fas fa-laptop"></i>
            <span class="link-text">E-Learning</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="video-lectures">Video Lectures</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="online-quizzes">Online Quizzes</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="study-materials">Study Materials</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="live-classes">Live Classes</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="interactive-content">Interactive Content</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="e-learning-tutorials">Tutorials</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="onlinetests">
            <i class="fas fa-pen"></i>
            <span class="link-text">Online Tests</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="practice-tests">Practice Tests</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="mock-exams">Mock Exams</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="test-results">Test Results</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="test-analysis">Analysis</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="test-schedule">Schedule</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="test-instructions">Instructions</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="notes">
            <i class="fas fa-sticky-note"></i>
            <span class="link-text">Notes</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="subject-notes">Subject Notes</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="chapter-notes">Chapter Notes</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="teacher-notes">Teacher Notes</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="personal-notes">Personal Notes</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="shared-notes">Shared Notes</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="note-organization">Organization</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="progress">
            <i class="fas fa-chart-line"></i>
            <span class="link-text">Progress</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="academic-progress">Academic Progress</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="skill-development">Skill Development</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="behavior-report">Behavior Report</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="teacher-feedback">Teacher Feedback</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="progress-goals">Goals</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="progress-reports">Reports</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="chatbot">
            <i class="fas fa-robot"></i>
            <span class="link-text">Chatbot Help</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="study-help">Study Help</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="career-guidance">Career Guidance</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="mental-health">Mental Health</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="faq">FAQ</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="quick-answers">Quick Answers</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="chat-history">Chat History</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="profile">
            <i class="fas fa-user"></i>
            <span class="link-text">Profile</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="personal-info">Personal Info</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="academic-info">Academic Info</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="guardian-info">Guardian Info</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="documents">Documents</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="profile-settings">Settings</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="privacy">Privacy</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" data-page="settings">
            <i class="fas fa-cog"></i>
            <span class="link-text">Settings</span>
            <i class="fas fa-chevron-right nav-arrow"></i>
          </a>
          <ul class="submenu">
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="account-settings">Account Settings</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="notification-settings">Notifications</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="privacy-settings">Privacy</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="theme-settings">Theme</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="language-settings">Language</a></li>
            <li class="submenu-item"><a href="#" class="submenu-link" data-page="security">Security</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="#" class="nav-link" id="logoutBtn">
            <i class="fas fa-sign-out-alt"></i>
            <span class="link-text">Logout</span>
          </a>
        </li>
      </ul>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <header class="header">
        <div class="menu-toggle">
          <i class="fas fa-bars"></i>
        </div>
        
        <div class="search-bar">
          <div class="search-icon">
            <i class="fas fa-search"></i>
          </div>
          <input type="text" class="search-input" placeholder="Search anything...">
        </div>
        
        <div class="header-actions">
          <div class="icon-btn notifications">
            <i class="fas fa-bell"></i>
            <div class="badge">3</div>
          </div>
          
          <div class="icon-btn" id="themeToggle">
            <i class="fas fa-moon"></i>
          </div>
          
          <div class="icon-btn" id="aiToggle">
            <i class="fas fa-robot"></i>
          </div>
          
          <div class="icon-btn profile-dropdown">
            <i class="fas fa-user"></i>
          </div>
        </div>
      </header>

      <!-- Dashboard Content -->
      <div class="dashboard" id="dashboard">
        <div class="page-title">
          <i class="fas fa-home"></i> Dashboard
          <div class="title-actions">
            <button class="btn btn-outline btn-sm" id="refreshBtn">
              <i class="fas fa-sync"></i> Refresh
            </button>
            <button class="btn btn-primary btn-sm">
              <i class="fas fa-plus"></i> Quick Action
            </button>
          </div>
        </div>
        
        <!-- Stats Grid -->
        <div class="stats-grid">
          <div class="stat-card animate">
            <div class="stat-header">
              <div>
                <div class="stat-title">Total Homework</div>
                <div class="stat-value">12</div>
                <div class="stat-desc"><i class="fas fa-arrow-up trend-up"></i> 2 new this week</div>
              </div>
              <div class="stat-icon icon-blue">
                <i class="fas fa-book"></i>
              </div>
            </div>
          </div>
          
          <div class="stat-card animate">
            <div class="stat-header">
              <div>
                <div class="stat-title">Attendance</div>
                <div class="stat-value">96%</div>
                <div class="stat-desc"><i class="fas fa-arrow-up trend-up"></i> Better than last term</div>
              </div>
              <div class="stat-icon icon-green">
                <i class="fas fa-check-circle"></i>
              </div>
            </div>
          </div>
          
          <div class="stat-card animate">
            <div class="stat-header">
              <div>
                <div class="stat-title">Exams</div>
                <div class="stat-value">3</div>
                <div class="stat-desc"><i class="fas fa-clock"></i> Upcoming this month</div>
              </div>
              <div class="stat-icon icon-orange">
                <i class="fas fa-clipboard-list"></i>
              </div>
            </div>
          </div>
          
          <div class="stat-card animate">
            <div class="stat-header">
              <div>
                <div class="stat-title">Average Score</div>
                <div class="stat-value">84%</div>
                <div class="stat-desc"><i class="fas fa-arrow-up trend-up"></i> Top 20% in class</div>
              </div>
              <div class="stat-icon icon-pink">
                <i class="fas fa-award"></i>
              </div>
            </div>
          </div>
          
          <div class="stat-card animate">
            <div class="stat-header">
              <div>
                <div class="stat-title">Library Books</div>
                <div class="stat-value">2</div>
                <div class="stat-desc"><i class="fas fa-clock"></i> Due in 5 days</div>
              </div>
              <div class="stat-icon icon-purple">
                <i class="fas fa-book-open"></i>
              </div>
            </div>
          </div>
          
          <div class="stat-card animate">
            <div class="stat-header">
              <div>
                <div class="stat-title">Online Tests</div>
                <div class="stat-value">88%</div>
                <div class="stat-desc"><i class="fas fa-arrow-up trend-up"></i> Average score</div>
              </div>
              <div class="stat-icon icon-teal">
                <i class="fas fa-pen"></i>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Recent Activity -->
        <div class="card animate">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-history"></i> Recent Activity
            </h2>
            <a href="#" class="view-all">View All <i class="fas fa-arrow-right"></i></a>
          </div>
          
          <ul class="timeline">
            <li class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div>Submitted Math homework on Algebraic Expressions</div>
                <div class="timeline-time"><i class="fas fa-clock"></i> 2 hours ago</div>
              </div>
            </li>
            <li class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div>Scored 92% in Science quiz on Human Body</div>
                <div class="timeline-time"><i class="fas fa-calendar"></i> Yesterday</div>
              </div>
            </li>
            <li class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div>Attended live class on English Literature</div>
                <div class="timeline-time"><i class="fas fa-video"></i> 2 days ago</div>
              </div>
            </li>
            <li class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div>Checked exam timetable for Half-Yearly</div>
                <div class="timeline-time"><i class="fas fa-clipboard-list"></i> 3 days ago</div>
              </div>
            </li>
            <li class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div>Borrowed "The Adventures of Tom Sawyer" from library</div>
                <div class="timeline-time"><i class="fas fa-book-open"></i> 4 days ago</div>
              </div>
            </li>
          </ul>
        </div>
        
        <!-- Quick Access -->
        <div class="card animate">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-rocket"></i> Quick Access
            </h2>
            <div class="card-actions">
              <button class="btn btn-outline btn-sm">
                <i class="fas fa-plus"></i> Add
              </button>
            </div>
          </div>
          
          <div class="subject-list">
            <span class="subject-tag">Mathematics</span>
            <span class="subject-tag">Science</span>
            <span class="subject-tag">English</span>
            <span class="subject-tag">Hindi</span>
            <span class="subject-tag">Social Studies</span>
            <span class="subject-tag">Computer</span>
            <span class="subject-tag">Art</span>
            <span class="subject-tag">Music</span>
            <span class="subject-tag">Physical Education</span>
            <span class="subject-tag">Moral Science</span>
          </div>
        </div>
        
        <!-- Progress Overview -->
        <div class="card animate">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-chart-bar"></i> Progress Overview
            </h2>
            <a href="#" class="view-all">View Details <i class="fas fa-arrow-right"></i></a>
          </div>
          
          <div class="progress-container">
            <div class="progress-label">
              <span>Mathematics</span>
              <span>88%</span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill progress-blue" style="width: 88%"></div>
            </div>
          </div>
          
          <div class="progress-container">
            <div class="progress-label">
              <span>Science</span>
              <span>92%</span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill progress-green" style="width: 92%"></div>
            </div>
          </div>
          
          <div class="progress-container">
            <div class="progress-label">
              <span>English</span>
              <span>76%</span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill progress-orange" style="width: 76%"></div>
            </div>
          </div>
          
          <div class="progress-container">
            <div class="progress-label">
              <span>Hindi</span>
              <span>84%</span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill progress-pink" style="width: 84%"></div>
            </div>
          </div>
          
          <div class="progress-container">
            <div class="progress-label">
              <span>Social Studies</span>
              <span>80%</span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill progress-purple" style="width: 80%"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Homework Page -->
      <div class="dashboard hidden" id="homework">
        <div class="page-title">
          <i class="fas fa-book"></i> Homework
          <div class="title-actions">
            <button class="btn btn-outline btn-sm">
              <i class="fas fa-filter"></i> Filter
            </button>
            <button class="btn btn-primary btn-sm">
              <i class="fas fa-plus"></i> Add Homework
            </button>
          </div>
        </div>
        
        <div class="homework-card">
          <div class="homework-header">
            <h3 class="homework-title">Mathematics Assignment</h3>
            <span class="homework-badge badge-due-soon">Due Soon</span>
          </div>
          <div class="homework-subject">Chapter 5: Algebraic Expressions</div>
          <div class="homework-desc">Solve exercises 5.1 to 5.4 from the textbook. Focus on factorization and simplification of algebraic expressions.</div>
          <div class="homework-footer">
            <div class="homework-due urgent">
              <i class="fas fa-clock"></i> Due: Tomorrow, 10:00 AM
            </div>
            <div class="homework-actions">
              <button class="btn btn-outline btn-sm">View Details</button>
              <button class="btn btn-primary btn-sm">Submit</button>
            </div>
          </div>
        </div>
        
        <div class="homework-card">
          <div class="homework-header">
            <h3 class="homework-title">Science Project</h3>
            <span class="homework-badge badge-new">New</span>
          </div>
          <div class="homework-subject">Topic: Human Digestive System</div>
          <div class="homework-desc">Create a detailed model of the human digestive system with labeled parts and their functions. Include a written report of 500 words.</div>
          <div class="homework-footer">
            <div class="homework-due">
              <i class="fas fa-clock"></i> Due: Friday, 5:00 PM
            </div>
            <div class="homework-actions">
              <button class="btn btn-outline btn-sm">View Details</button>
              <button class="btn btn-primary btn-sm">Submit</button>
            </div>
          </div>
        </div>
        
        <div class="homework-card">
          <div class="homework-header">
            <h3 class="homework-title">English Essay</h3>
          </div>
          <div class="homework-subject">Topic: My Favorite Book</div>
          <div class="homework-desc">Write an essay of 300-500 words about your favorite book. Include details about the plot, characters, and why you like it.</div>
          <div class="homework-footer">
            <div class="homework-due">
              <i class="fas fa-clock"></i> Due: Next Monday, 9:00 AM
            </div>
            <div class="homework-actions">
              <button class="btn btn-outline btn-sm">View Details</button>
              <button class="btn btn-primary btn-sm">Submit</button>
            </div>
          </div>
        </div>
        
        <div class="homework-card">
          <div class="homework-header">
            <h3 class="homework-title">Hindi Composition</h3>
          </div>
          <div class="homework-subject">Topic: गर्मी की छुट्टियाँ</div>
          <div class="homework-desc">गर्मी की छुट्टियों के बारे में 200 शब्दों में निबंध लिखें। अपने अनुभव और योजनाओं का वर्णन करें।</div>
          <div class="homework-footer">
            <div class="homework-due">
              <i class="fas fa-clock"></i> Due: Thursday, 4:00 PM
            </div>
            <div class="homework-actions">
              <button class="btn btn-outline btn-sm">View Details</button>
              <button class="btn btn-primary btn-sm">Submit</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Timetable Page -->
      <div class="dashboard hidden" id="timetable">
        <div class="page-title">
          <i class="fas fa-calendar-alt"></i> Timetable
          <div class="title-actions">
            <button class="btn btn-outline btn-sm">
              <i class="fas fa-print"></i> Print
            </button>
            <button class="btn btn-primary btn-sm">
              <i class="fas fa-download"></i> Download
            </button>
          </div>
        </div>
        
        <div class="timetable-container">
          <table class="timetable">
            <thead>
              <tr>
                <th>Time</th>
                <th>Monday</th>
                <th>Tuesday</th>
                <th>Wednesday</th>
                <th>Thursday</th>
                <th>Friday</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>9:00-10:00</td>
                <td class="subject-math">Mathematics</td>
                <td class="subject-science">Science</td>
                <td class="subject-english">English</td>
                <td class="subject-math">Mathematics</td>
                <td class="subject-hindi">Hindi</td>
              </tr>
              <tr>
                <td>10:00-11:00</td>
                <td class="subject-science">Science</td>
                <td class="subject-english">English</td>
                <td class="subject-math">Mathematics</td>
                <td class="subject-science">Science</td>
                <td class="subject-english">English</td>
              </tr>
              <tr>
                <td>11:00-12:00</td>
                <td class="subject-social">Social Studies</td>
                <td class="subject-hindi">Hindi</td>
                <td class="subject-social">Social Studies</td>
                <td class="subject-hindi">Hindi</td>
                <td class="subject-social">Social Studies</td>
              </tr>
              <tr>
                <td>1:00-2:00</td>
                <td class="subject-computer">Computer</td>
                <td class="subject-art">Art</td>
                <td class="subject-music">Music</td>
                <td class="subject-computer">Computer</td>
                <td class="subject-art">Art</td>
              </tr>
              <tr>
                <td>2:00-3:00</td>
                <td class="subject-english">English Lab</td>
                <td class="subject-math">Math Lab</td>
                <td class="subject-science">Science Lab</td>
                <td class="subject-hindi">Hindi Lab</td>
                <td class="subject-social">Project Work</td>
              </tr>
            </tbody>
          </table>
        </div>
        
        <div class="card">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-info-circle"></i> Class Timings
            </h2>
          </div>
          <ul class="timeline">
            <li class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div><strong>First Period:</strong> 9:00 AM - 10:00 AM</div>
              </div>
            </li>
            <li class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div><strong>Second Period:</strong> 10:00 AM - 11:00 AM</div>
              </div>
            </li>
            <li class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div><strong>Third Period:</strong> 11:00 AM - 12:00 PM</div>
              </div>
            </li>
            <li class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div><strong>Lunch Break:</strong> 12:00 PM - 1:00 PM</div>
              </div>
            </li>
            <li class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div><strong>Fourth Period:</strong> 1:00 PM - 2:00 PM</div>
              </div>
            </li>
            <li class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div><strong>Fifth Period:</strong> 2:00 PM - 3:00 PM</div>
              </div>
            </li>
          </ul>
        </div>
      </div>

      <!-- Attendance Page -->
      <div class="dashboard hidden" id="attendance">
        <div class="page-title">
          <i class="fas fa-check-circle"></i> Attendance
          <div class="title-actions">
            <button class="btn btn-outline btn-sm">
              <i class="fas fa-calendar"></i> Monthly
            </button>
            <button class="btn btn-primary btn-sm">
              <i class="fas fa-file-pdf"></i> Report
            </button>
          </div>
        </div>
        
        <div class="attendance-summary">
          <div class="attendance-item">
            <div class="attendance-count">96%</div>
            <div class="attendance-label">Present</div>
          </div>
          <div class="attendance-item">
            <div class="attendance-count">3</div>
            <div class="attendance-label">Absent</div>
          </div>
          <div class="attendance-item">
            <div class="attendance-count">1</div>
            <div class="attendance-label">Late</div>
          </div>
          <div class="attendance-item">
            <div class="attendance-count">8</div>
            <div class="attendance-label">Holidays</div>
          </div>
        </div>
        
        <div class="card">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-calendar"></i> This Week
            </h2>
          </div>
          
          <div class="attendance-grid">
            <div class="attendance-day present" data-status="Present">M</div>
            <div class="attendance-day present" data-status="Present">T</div>
            <div class="attendance-day present" data-status="Present">W</div>
            <div class="attendance-day present" data-status="Present">T</div>
            <div class="attendance-day present" data-status="Present">F</div>
            <div class="attendance-day holiday" data-status="Holiday">S</div>
            <div class="attendance-day holiday" data-status="Holiday">S</div>
          </div>
        </div>
        
        <div class="card">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-chart-bar"></i> Monthly Attendance
            </h2>
          </div>
          <div class="attendance-chart">
            <div style="height: 100%; display: flex; align-items: flex-end; gap: 10px; padding: 20px;">
              <div style="flex: 1; display: flex; flex-direction: column; align-items: center; gap: 5px;">
                <div style="background: var(--success); width: 40px; height: 80%; border-radius: 5px;"></div>
                <div style="font-size: 12px; color: var(--gray);">Week 1</div>
              </div>
              <div style="flex: 1; display: flex; flex-direction: column; align-items: center; gap: 5px;">
                <div style="background: var(--success); width: 40px; height: 90%; border-radius: 5px;"></div>
                <div style="font-size: 12px; color: var(--gray);">Week 2</div>
              </div>
              <div style="flex: 1; display: flex; flex-direction: column; align-items: center; gap: 5px;">
                <div style="background: var(--success); width: 40px; height: 70%; border-radius: 5px;"></div>
                <div style="font-size: 12px; color: var(--gray);">Week 3</div>
              </div>
              <div style="flex: 1; display: flex; flex-direction: column; align-items: center; gap: 5px;">
                <div style="background: var(--success); width: 40px; height: 85%; border-radius: 5px;"></div>
                <div style="font-size: 12px; color: var(--gray);">Week 4</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Exams Page -->
      <div class="dashboard hidden" id="exams">
        <div class="page-title">
          <i class="fas fa-clipboard-list"></i> Exams
          <div class="title-actions">
            <button class="btn btn-outline btn-sm">
              <i class="fas fa-calendar"></i> Calendar
            </button>
            <button class="btn btn-primary btn-sm">
              <i class="fas fa-download"></i> Syllabus
            </button>
          </div>
        </div>
        
        <div class="exam-card">
          <div class="exam-header">
            <h3 class="exam-title">Unit Test 3</h3>
            <span class="exam-badge badge-upcoming">Upcoming</span>
          </div>
          <div class="exam-date"><i class="fas fa-calendar"></i> March 15, 2024</div>
          <div class="exam-subjects">
            <div class="exam-subject">
              <span>Mathematics</span>
              <span>9:00-10:00 AM</span>
            </div>
            <div class="exam-subject">
              <span>Science</span>
              <span>10:15-11:15 AM</span>
            </div>
            <div class="exam-subject">
              <span>English</span>
              <span>11:30-12:30 PM</span>
            </div>
          </div>
          <div class="exam-timer">
            <i class="fas fa-clock"></i> 12 days remaining
          </div>
        </div>
        
        <div class="exam-card">
          <div class="exam-header">
            <h3 class="exam-title">Half-Yearly Exam</h3>
            <span class="exam-badge badge-upcoming">Upcoming</span>
          </div>
          <div class="exam-date"><i class="fas fa-calendar"></i> April 10-15, 2024</div>
          <div class="exam-subjects">
            <div class="exam-subject">
              <span>All Subjects</span>
              <span>Daily 9:00 AM</span>
            </div>
          </div>
          <div class="exam-timer">
            <i class="fas fa-clock"></i> 25 days remaining
          </div>
        </div>
        
        <div class="exam-card">
          <div class="exam-header">
            <h3 class="exam-title">Final Exam</h3>
            <span class="exam-badge badge-final">Final</span>
          </div>
          <div class="exam-date"><i class="fas fa-calendar"></i> June 1-10, 2024</div>
          <div class="exam-subjects">
            <div class="exam-subject">
              <span>All Subjects</span>
              <span>Daily 9:00 AM</span>
            </div>
          </div>
          <div class="exam-timer">
            <i class="fas fa-clock"></i> 90 days remaining
          </div>
        </div>
      </div>

      <!-- Results Page -->
      <div class="dashboard hidden" id="results">
        <div class="page-title">
          <i class="fas fa-award"></i> Results
          <div class="title-actions">
            <button class="btn btn-outline btn-sm">
              <i class="fas fa-filter"></i> Filter
            </button>
            <button class="btn btn-primary btn-sm">
              <i class="fas fa-file-pdf"></i> Export
            </button>
          </div>
        </div>
        
        <div class="result-card">
          <div class="result-header">
            <div class="result-exam">Unit Test 2</div>
            <div class="result-percentage">84%</div>
          </div>
          <div class="result-details">
            <div class="result-item">
              <div class="result-subject">Mathematics</div>
              <div class="result-marks">88/100</div>
            </div>
            <div class="result-item">
              <div class="result-subject">Science</div>
              <div class="result-marks">92/100</div>
            </div>
            <div class="result-item">
              <div class="result-subject">English</div>
              <div class="result-marks">76/100</div>
            </div>
            <div class="result-item">
              <div class="result-subject">Hindi</div>
              <div class="result-marks">84/100</div>
            </div>
            <div class="result-item">
              <div class="result-subject">Social Studies</div>
              <div class="result-marks">80/100</div>
            </div>
          </div>
          <div class="result-footer">
            <span>Rank: 3rd in class</span>
            <span>Percentile: 88%</span>
          </div>
        </div>
        
        <div class="result-card">
          <div class="result-header">
            <div class="result-exam">Unit Test 1</div>
            <div class="result-percentage">78%</div>
          </div>
          <div class="result-details">
            <div class="result-item">
              <div class="result-subject">Mathematics</div>
              <div class="result-marks">76/100</div>
            </div>
            <div class="result-item">
              <div class="result-subject">Science</div>
              <div class="result-marks">85/100</div>
            </div>
            <div class="result-item">
              <div class="result-subject">English</div>
              <div class="result-marks">70/100</div>
            </div>
            <div class="result-item">
              <div class="result-subject">Hindi</div>
              <div class="result-marks">80/100</div>
            </div>
            <div class="result-item">
              <div class="result-subject">Social Studies</div>
              <div class="result-marks">78/100</div>
            </div>
          </div>
          <div class="result-footer">
            <span>Rank: 5th in class</span>
            <span>Percentile: 76%</span>
          </div>
        </div>
      </div>

      <!-- Announcements Page -->
      <div class="dashboard hidden" id="announcements">
        <div class="page-title">
          <i class="fas fa-bullhorn"></i> Announcements
          <div class="title-actions">
            <button class="btn btn-outline btn-sm">
              <i class="fas fa-filter"></i> Filter
            </button>
            <button class="btn btn-primary btn-sm">
              <i class="fas fa-bell"></i> Subscribe
            </button>
          </div>
        </div>
        
        <div class="announcement">
          <div class="announcement-header">
            <div class="announcement-title">School Holiday</div>
            <div class="announcement-date">
              <i class="fas fa-calendar"></i> Mar 8, 2024
            </div>
          </div>
          <div class="announcement-content">
            School will remain closed on March 10th for Holi celebrations. Classes will resume on March 11th. Please ensure all homework is completed before the holiday.
          </div>
          <div class="announcement-actions">
            <button class="announcement-action outline">Remind Me</button>
            <button class="announcement-action primary">Mark Read</button>
          </div>
        </div>
        
        <div class="announcement">
          <div class="announcement-header">
            <div class="announcement-title">Science Exhibition</div>
            <div class="announcement-date">
              <i class="fas fa-calendar"></i> Mar 5, 2024
            </div>
          </div>
          <div class="announcement-content">
            The annual science exhibition will be held on March 20th. All students must submit their projects by March 15th. Projects should be related to renewable energy or environmental conservation.
          </div>
          <div class="announcement-actions">
            <button class="announcement-action outline">View Details</button>
            <button class="announcement-action primary">Submit Project</button>
          </div>
        </div>
        
        <div class="announcement">
          <div class="announcement-header">
            <div class="announcement-title">PTM Scheduled</div>
            <div class="announcement-date">
              <i class="fas fa-calendar"></i> Mar 1, 2024
            </div>
          </div>
          <div class="announcement-content">
            The next Parent-Teacher Meeting is scheduled for March 25th at 3:00 PM. Parents are requested to attend. Please bring your progress report and any questions you may have.
          </div>
          <div class="announcement-actions">
            <button class="announcement-action outline">Add to Calendar</button>
            <button class="announcement-action primary">Confirm Attendance</button>
          </div>
        </div>
        
        <div class="announcement">
          <div class="announcement-header">
            <div class="announcement-title">New Library Books</div>
            <div class="announcement-date">
              <i class="fas fa-calendar"></i> Feb 28, 2024
            </div>
          </div>
          <div class="announcement-content">
            We have added 50 new books to our library collection, including novels, science books, and reference materials. Visit the library to explore the new arrivals and borrow your favorites.
          </div>
          <div class="announcement-actions">
            <button class="announcement-action outline">View Catalog</button>
            <button class="announcement-action primary">Visit Library</button>
          </div>
        </div>
      </div>

      <!-- Profile Page -->
      <div class="dashboard hidden" id="profile">
        <div class="page-title">
          <i class="fas fa-user"></i> Profile
          <div class="title-actions">
            <button class="btn btn-outline btn-sm">
              <i class="fas fa-camera"></i> Change Photo
            </button>
            <button class="btn btn-primary btn-sm">
              <i class="fas fa-edit"></i> Edit Profile
            </button>
          </div>
        </div>
        
        <div class="profile-grid">
          <div class="profile-sidebar">
            <div class="profile-avatar">AB</div>
            <h3 id="profilePageName">Aarav Bhatia</h3>
            <p id="profilePageClass">Class 8, Section A</p>
            
            <div class="profile-info">
              <div class="info-label">Student ID</div>
              <div class="info-value" id="studentId">MKPS8A001</div>
            </div>
            <div class="profile-info">
              <div class="info-label">Roll Number</div>
              <div class="info-value">001</div>
            </div>
            <div class="profile-info">
              <div class="info-label">Admission Date</div>
              <div class="info-value">April 5, 2020</div>
            </div>
            <div class="profile-info">
              <div class="info-label">Blood Group</div>
              <div class="info-value">B+</div>
            </div>
          </div>
          
          <div class="profile-main">
            <div class="profile-tabs">
              <div class="profile-tab active" data-tab="personal">Personal Info</div>
              <div class="profile-tab" data-tab="academic">Academic Info</div>
              <div class="profile-tab" data-tab="guardian">Guardian Info</div>
              <div class="profile-tab" data-tab="documents">Documents</div>
            </div>
            
            <div class="profile-content" id="personal-info">
              <div class="card">
                <h2 class="card-title"><i class="fas fa-user"></i> Personal Information</h2>
                <div class="profile-info">
                  <div class="info-label">Student ID</div>
                  <div class="info-value" id="studentId">MKPS8A001</div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Full Name</div>
                  <div class="info-value" id="fullName">Aarav Bhatia</div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Date of Birth</div>
                  <div class="info-value" id="dob">January 15, 2012</div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Gender</div>
                  <div class="info-value" id="gender">Male</div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Address</div>
                  <div class="info-value" id="address">123 Education Street, Balrampur, Uttar Pradesh 271201</div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Phone</div>
                  <div class="info-value" id="phone">+91 9876543210</div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Email</div>
                  <div class="info-value" id="email">aarav.bhatia@student.mkps.edu.in</div>
                </div>
              </div>
            </div>
            
            <div class="profile-content hidden" id="academic-info">
              <div class="card">
                <h2 class="card-title"><i class="fas fa-graduation-cap"></i> Academic Information</h2>
                <div class="profile-info">
                  <div class="info-label">Class</div>
                  <div class="info-value" id="class">8</div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Section</div>
                  <div class="info-value" id="section">A</div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Roll Number</div>
                  <div class="info-value" id="roll">001</div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Admission Number</div>
                  <div class="info-value" id="admission">2020001</div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Admission Date</div>
                  <div class="info-value" id="admissionDate">April 5, 2020</div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Previous School</div>
                  <div class="info-value" id="prevSchool">Balrampur Public School</div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Blood Group</div>
                  <div class="info-value" id="bloodGroup">B+</div>
                </div>
              </div>
            </div>
            
            <div class="profile-content hidden" id="guardian-info">
              <div class="card">
                <h2 class="card-title"><i class="fas fa-user-friends"></i> Guardian Information</h2>
                <div class="profile-info">
                  <div class="info-label">Father's Name</div>
                  <div class="info-value" id="fatherName">Rajesh Bhatia</div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Mother's Name</div>
                  <div class="info-value" id="motherName">Sunita Bhatia</div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Contact Number</div>
                  <div class="info-value" id="contactNumber">+91 9876543210</div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Email</div>
                  <div class="info-value" id="parentEmail">rajesh.bhatia@email.com</div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Occupation</div>
                  <div class="info-value" id="occupation">Business</div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Office Address</div>
                  <div class="info-value" id="officeAddress">Main Market, Balrampur</div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Emergency Contact</div>
                  <div class="info-value" id="emergencyContact">+91 9876543211</div>
                </div>
              </div>
            </div>
            
            <div class="profile-content hidden" id="documents">
              <div class="card">
                <h2 class="card-title"><i class="fas fa-folder"></i> Documents</h2>
                <div class="profile-info">
                  <div class="info-label">Admission Form</div>
                  <div class="info-value">
                    <a href="#" class="btn btn-outline btn-sm"><i class="fas fa-download"></i> Download</a>
                  </div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Birth Certificate</div>
                  <div class="info-value">
                    <a href="#" class="btn btn-outline btn-sm"><i class="fas fa-download"></i> Download</a>
                  </div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Transfer Certificate</div>
                  <div class="info-value">
                    <a href="#" class="btn btn-outline btn-sm"><i class="fas fa-download"></i> Download</a>
                  </div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Report Cards</div>
                  <div class="info-value">
                    <a href="#" class="btn btn-outline btn-sm"><i class="fas fa-folder-open"></i> View</a>
                  </div>
                </div>
                <div class="profile-info">
                  <div class="info-label">ID Card</div>
                  <div class="info-value">
                    <a href="#" class="btn btn-outline btn-sm"><i class="fas fa-id-card"></i> View</a>
                  </div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Fee Receipts</div>
                  <div class="info-value">
                    <a href="#" class="btn btn-outline btn-sm"><i class="fas fa-file-invoice"></i> View</a>
                  </div>
                </div>
                <div class="profile-info">
                  <div class="info-label">Certificates</div>
                  <div class="info-value">
                    <a href="#" class="btn btn-outline btn-sm"><i class="fas fa-certificate"></i> View</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Settings Page -->
      <div class="dashboard hidden" id="settings">
        <div class="page-title">
          <i class="fas fa-cog"></i> Settings
          <div class="title-actions">
            <button class="btn btn-outline btn-sm">
              <i class="fas fa-undo"></i> Reset
            </button>
            <button class="btn btn-primary btn-sm">
              <i class="fas fa-save"></i> Save Changes
            </button>
          </div>
        </div>
        
        <div class="settings-grid">
          <div class="setting-item">
            <div class="setting-label">Notification Preferences</div>
            <select class="setting-control" id="notificationPref">
              <option value="all">Send all notifications</option>
              <option value="important">Only important notifications</option>
              <option value="none">No notifications</option>
            </select>
          </div>
          
          <div class="setting-item">
            <div class="setting-label">Theme</div>
            <select class="setting-control" id="themeSelect">
              <option value="light">Light Mode</option>
              <option value="dark">Dark Mode</option>
              <option value="auto">Auto (System)</option>
            </select>
          </div>
          
          <div class="setting-item">
            <div class="setting-label">Language</div>
            <select class="setting-control" id="languageSelect">
              <option value="en">English</option>
              <option value="hi">Hindi</option>
              <option value="ur">Urdu</option>
              <option value="bn">Bengali</option>
            </select>
          </div>
          
          <div class="setting-item">
            <div class="setting-label">Privacy Settings</div>
            <select class="setting-control" id="privacySelect">
              <option value="public">Public Profile</option>
              <option value="private">Private Profile</option>
              <option value="friends">Friends Only</option>
            </select>
          </div>
          
          <div class="setting-item">
            <div class="setting-label">Homework Reminders</div>
            <label class="switch">
              <input type="checkbox" id="homeworkReminder" checked>
              <span class="slider"></span>
            </label>
          </div>
          
          <div class="setting-item">
            <div class="setting-label">Exam Alerts</div>
            <label class="switch">
              <input type="checkbox" id="examAlert" checked>
              <span class="slider"></span>
            </label>
          </div>
          
          <div class="setting-item">
            <div class="setting-label">Class Change Alerts</div>
            <label class="switch">
              <input type="checkbox" id="classAlert">
              <span class="slider"></span>
            </label>
          </div>
          
          <div class="setting-item">
            <div class="setting-label">Event Notifications</div>
            <label class="switch">
              <input type="checkbox" id="eventNotification" checked>
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </div>

      <!-- AI Homework Helper -->
      <div class="ai-container" id="aiContainer">
        <div class="ai-header" id="aiHeader">
          <div class="ai-title">
            <i class="fas fa-robot"></i> AI Homework Helper
            <div class="ai-status">
              <div class="status-dot"></div> Online
            </div>
          </div>
          <button class="ai-close" id="aiClose">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="ai-body" id="aiBody">
          <div class="ai-message ai-bot">
            Hello! I'm your AI Homework Helper. Ask me anything about your studies and I'll help you understand better. 📚✨
          </div>
          <div class="typing" id="typingIndicator">
            <div class="typing-dots">
              <div class="typing-dot"></div>
              <div class="typing-dot"></div>
              <div class="typing-dot"></div>
            </div>
            AI is thinking...
          </div>
        </div>
        <div class="ai-input-container">
          <input type="text" class="ai-input" id="aiInput" placeholder="Ask a question...">
          <button class="ai-send" id="aiSend">
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>
      </div>

      <!-- Toast Notification -->
      <div class="toast" id="toast">Action completed successfully!</div>

      <!-- Modals -->
      <div class="modal" id="logoutModal">
        <div class="modal-content">
          <div class="modal-header">
            <div class="modal-title">Confirm Logout</div>
            <button class="modal-close">&times;</button>
          </div>
          <div class="modal-body">
            Are you sure you want to logout from your account? You will need to login again to access your dashboard.
          </div>
          <div class="modal-footer">
            <button class="modal-btn modal-btn-secondary" id="cancelLogout">Cancel</button>
            <button class="modal-btn modal-btn-primary" id="confirmLogout">Logout</button>
          </div>
        </div>
      </div>
    </main>
  </div>

  <footer class="footer">
    © 2025 Milli Karwaan Public School | All Rights Reserved | 
    <a href="#" id="adminLink" style="display: none;">Admin Portal</a>
  </footer>

  <script>
    // Admin hook - hidden but accessible
    const adminLink = document.getElementById('adminLink');
    
    // Add admin functionality (hidden from regular users)
    function setupAdminFeatures() {
      // This function would be called from admin.html
      console.log("Admin features initialized");
      
      // Example admin functions
      window.adminFunctions = {
        addHomework: function(homeworkData) {
          console.log("Adding homework:", homeworkData);
          // This would update the database
        },
        updateTimetable: function(timetableData) {
          console.log("Updating timetable:", timetableData);
          // This would update the database
        },
        manageStudents: function(action, studentData) {
          console.log(`Admin action ${action} for student:`, studentData);
          // This would update the database
        },
        viewAnalytics: function() {
          console.log("Viewing school analytics");
          // This would fetch and display analytics
        }
      };
    }
    
    // Check if we're in admin mode
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('admin') === 'true') {
      adminLink.style.display = 'inline';
      setupAdminFeatures();
    }

    // Student data from localStorage
    let studentData = JSON.parse(localStorage.getItem('mkps_student')) || {
      name: 'Aarav Bhatia',
      class: '8',
      parent: 'Rajesh Bhatia'
    };

    // DOM Elements
    const profileInitial = document.getElementById('profileInitial');
    const studentName = document.getElementById('studentName');
    const studentClass = document.getElementById('studentClass');
    const dropdownName = document.getElementById('dropdownName');
    const dropdownClass = document.getElementById('dropdownClass');
    const profilePageName = document.getElementById('profilePageName');
    const profilePageClass = document.getElementById('profilePageClass');
    const dropdownAvatar = document.querySelector('.dropdown-avatar');
    
    // Update profile information
    function updateProfileInfo() {
      if (studentData) {
        const nameParts = studentData.name.split(' ');
        const initials = nameParts[0][0] + (nameParts[1] ? nameParts[1][0] : '');
        profileInitial.textContent = initials.toUpperCase();
        
        studentName.textContent = studentData.name;
        studentClass.textContent = `Class ${studentData.class}`;
        dropdownName.textContent = studentData.name;
        dropdownClass.textContent = `Class ${studentData.class}`;
        profilePageName.textContent = studentData.name;
        profilePageClass.textContent = `Class ${studentData.class}, Section A`;
        dropdownAvatar.textContent = initials.toUpperCase();
      }
    }

    // Navigation
    const navLinks = document.querySelectorAll('.nav-link');
    const submenus = document.querySelectorAll('.submenu');
    const navArrows = document.querySelectorAll('.nav-arrow');
    const pages = document.querySelectorAll('.dashboard');
    const menuToggle = document.querySelector('.menu-toggle');
    const sidebar = document.querySelector('.sidebar');
    const mainContent = document.querySelector('.main-content');
    const refreshBtn = document.getElementById('refreshBtn');

    // Toggle submenu
    navLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        if (!this.getAttribute('data-page') && !this.id) {
          e.preventDefault();
          const submenu = this.nextElementSibling;
          const arrow = this.querySelector('.nav-arrow');
          
          // Close other submenus
          submenus.forEach(s => {
            if (s !== submenu) s.classList.remove('active');
          });
          
          navArrows.forEach(a => {
            if (a !== arrow) a.classList.remove('rotate');
          });
          
          // Toggle current submenu
          if (submenu && submenu.classList.contains('submenu')) {
            submenu.classList.toggle('active');
            arrow.classList.toggle('rotate');
          }
        }
        
        // Remove active class from all links
        navLinks.forEach(l => l.classList.remove('active'));
        
        // Add active class to clicked link
        this.classList.add('active');
        
        // Hide all pages
        pages.forEach(page => page.classList.add('hidden'));
        
        // Show selected page
        const pageId = this.getAttribute('data-page');
        if (pageId) {
          const page = document.getElementById(pageId);
          if (page) page.classList.remove('hidden');
          
          // Update page title
          const pageTitle = document.querySelector('.page-title .link-text') || 
                           this.querySelector('.link-text') || 
                           this.textContent.trim();
          const titleElement = document.querySelector('.page-title');
          if (titleElement && pageTitle) {
            const icon = titleElement.querySelector('i');
            titleElement.innerHTML = '';
            titleElement.appendChild(icon);
            titleElement.appendChild(document.createTextNode(pageTitle));
            
            // Add actions if they don't exist
            if (!titleElement.querySelector('.title-actions')) {
              const actions = document.createElement('div');
              actions.className = 'title-actions';
              actions.innerHTML = `
                <button class="btn btn-outline btn-sm">
                  <i class="fas fa-sync"></i> Refresh
                </button>
                <button class="btn btn-primary btn-sm">
                  <i class="fas fa-plus"></i> Action
                </button>
              `;
              titleElement.appendChild(actions);
            }
          }
        }
      });
    });

    // Menu toggle for mobile
    menuToggle.addEventListener('click', () => {
      sidebar.classList.toggle('hidden');
      mainContent.classList.toggle('full');
    });

    // Profile dropdown tabs
    const profileTabs = document.querySelectorAll('.profile-tab');
    const profileContents = document.querySelectorAll('.profile-content');
    
    profileTabs.forEach(tab => {
      tab.addEventListener('click', () => {
        // Remove active class from all tabs
        profileTabs.forEach(t => t.classList.remove('active'));
        
        // Add active class to clicked tab
        tab.classList.add('active');
        
        // Hide all contents
        profileContents.forEach(content => content.classList.add('hidden'));
        
        // Show selected content
        const tabId = tab.getAttribute('data-tab');
        const content = document.getElementById(`${tabId}-info`);
        if (content) content.classList.remove('hidden');
      });
    });

    // AI Homework Helper
    const aiContainer = document.getElementById('aiContainer');
    const aiHeader = document.getElementById('aiHeader');
    const aiClose = document.getElementById('aiClose');
    const aiBody = document.getElementById('aiBody');
    const aiInput = document.getElementById('aiInput');
    const aiSend = document.getElementById('aiSend');
    const typingIndicator = document.getElementById('typingIndicator');
    const aiToggle = document.getElementById('aiToggle');

    // Toggle AI container
    aiHeader.addEventListener('click', () => {
      aiContainer.classList.toggle('active');
    });

    aiClose.addEventListener('click', () => {
      aiContainer.classList.remove('active');
    });

    aiToggle.addEventListener('click', () => {
      aiContainer.classList.add('active');
    });

    // Google Generative AI configuration
    const keySchool = "AIzaSyCdzFBQ1KVgBfmmjSgHJJwcuLbqne9VjUs";
    const keyFree = "AIzaSyCqGS8gb5kh7Jr0pv8d84LxCLhgHU-O_VU";

    // Send AI message
    function sendAiMessage(message, isUser = true) {
      const messageDiv = document.createElement('div');
      messageDiv.className = isUser ? 'ai-message ai-user' : 'ai-message ai-bot';
      messageDiv.textContent = message;
      aiBody.appendChild(messageDiv);
      aiBody.scrollTop = aiBody.scrollHeight;
    }

    // AI response function
    async function getAiResponse(userMessage) {
      try {
        // Show typing indicator
        typingIndicator.style.display = 'flex';
        
        // Use Google Generative AI
        const genAI = new GoogleGenerativeAI(keySchool);
        const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash" });
        
        const prompt = `You are a helpful AI homework assistant for Milli Karwaan Public School. Answer the student's question in a clear, educational manner with emojis to make it engaging. Keep responses concise but informative. Question: ${userMessage}`;
        
        const result = await model.generateContent(prompt);
        const response = await result.response;
        const text = response.text();
        
        // Hide typing indicator and show response
        typingIndicator.style.display = 'none';
        sendAiMessage(text, false);
      } catch (error) {
        console.error("AI Error:", error);
        typingIndicator.style.display = 'none';
        
        // Fallback response
        const fallbackResponses = [
          "I'm having trouble connecting to the AI service right now. Let me try to help with my knowledge base! 🤔",
          "The AI connection is temporarily down, but I'll do my best to assist you with your question. 💡",
          "I can't access the AI right now, but here's what I know about your question: 📚",
          "Connection issue with AI, but I'll provide what help I can! 🛠️"
        ];
        
        const fallback = fallbackResponses[Math.floor(Math.random() * fallbackResponses.length)];
        sendAiMessage(fallback, false);
      }
    }

    // Send message on button click
    aiSend.addEventListener('click', () => {
      const message = aiInput.value.trim();
      if (message) {
        sendAiMessage(message);
        aiInput.value = '';
        getAiResponse(message);
      }
    });

    // Send message on Enter key
    aiInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        const message = aiInput.value.trim();
        if (message) {
          sendAiMessage(message);
          aiInput.value = '';
          getAiResponse(message);
        }
      }
    });

    // Theme toggle
    const themeToggle = document.getElementById('themeToggle');
    const themeSelect = document.getElementById('themeSelect');
    
    function setTheme(theme) {
      document.body.classList.remove('dark-mode');
      if (theme === 'dark' || (theme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.body.classList.add('dark-mode');
        themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
      } else {
        themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
      }
    }
    
    themeToggle.addEventListener('click', () => {
      const currentTheme = document.body.classList.contains('dark-mode') ? 'dark' : 'light';
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      setTheme(newTheme);
      localStorage.setItem('theme', newTheme);
      themeSelect.value = newTheme;
    });
    
    themeSelect.addEventListener('change', () => {
      setTheme(themeSelect.value);
      localStorage.setItem('theme', themeSelect.value);
    });

    // Check saved theme
    const savedTheme = localStorage.getItem('theme') || 'light';
    themeSelect.value = savedTheme;
    setTheme(savedTheme);

    // Logout functionality
    const logoutBtn = document.getElementById('logoutBtn');
    const dropdownLogout = document.getElementById('dropdownLogout');
    const logoutModal = document.getElementById('logoutModal');
    const cancelLogout = document.getElementById('cancelLogout');
    const confirmLogout = document.getElementById('confirmLogout');
    const toast = document.getElementById('toast');

    logoutBtn.addEventListener('click', (e) => {
      e.preventDefault();
      logoutModal.classList.add('active');
    });

    dropdownLogout.addEventListener('click', (e) => {
      e.preventDefault();
      logoutModal.classList.add('active');
    });

    cancelLogout.addEventListener('click', () => {
      logoutModal.classList.remove('active');
    });

    confirmLogout.addEventListener('click', () => {
      localStorage.removeItem('mkps_student');
      showToast('Logged out successfully!');
      setTimeout(() => {
        window.location.href = 'index.html';
      }, 1000);
    });

    // Close modal when clicking outside
    logoutModal.addEventListener('click', (e) => {
      if (e.target === logoutModal) {
        logoutModal.classList.remove('active');
      }
    });

    // Close modal with escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && logoutModal.classList.contains('active')) {
        logoutModal.classList.remove('active');
      }
    });

    // Toast notification
    function showToast(message, type = 'success') {
      toast.textContent = message;
      toast.className = 'toast';
      toast.classList.add('show');
      toast.classList.add(type);
      setTimeout(() => {
        toast.classList.remove('show');
      }, 3000);
    }

    // Refresh button
    refreshBtn.addEventListener('click', () => {
      showToast('Dashboard refreshed!');
      // In a real app, this would fetch new data
    });

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      updateProfileInfo();
      
      // Set first page as active
      document.querySelector('[data-page="dashboard"]').classList.add('active');
      
      // Show dashboard by default
      document.getElementById('dashboard').classList.remove('hidden');
      
      // Add animation delay to stats
      const stats = document.querySelectorAll('.stat-card');
      stats.forEach((stat, index) => {
        stat.style.animationDelay = `${0.1 + index * 0.1}s`;
      });
    });

    // Handle browser back/forward buttons
    window.addEventListener('popstate', () => {
      // This would handle navigation in a real SPA
    });

    // Accessibility enhancements
    document.addEventListener('keydown', (e) => {
      // Skip to main content with Ctrl+M
      if (e.ctrlKey && e.key === 'm') {
        e.preventDefault();
        document.querySelector('.main-content').focus();
      }
      
      // Focus search with Ctrl+F
      if (e.ctrlKey && e.key === 'f') {
        e.preventDefault();
        document.querySelector('.search-input').focus();
      }
    });

    // Add keyboard navigation to sidebar
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && !sidebar.classList.contains('hidden')) {
        sidebar.classList.add('hidden');
        mainContent.classList.remove('full');
      }
    });

    // Performance optimization: lazy load images
    if ('IntersectionObserver' in window) {
      const imageObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const img = entry.target;
            // In a real app, we would load actual images
            img.src = img.dataset.src;
            imageObserver.unobserve(img);
          }
        });
      });
      
      // Observe all resource images
      document.querySelectorAll('.resource-img').forEach(img => {
        imageObserver.observe(img);
      });
    }

    // Service worker registration for offline capability
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(registration => {
            console.log('SW registered: ', registration);
          })
          .catch(registrationError => {
            console.log('SW registration failed: ', registrationError);
          });
      });
    }

    // Analytics tracking (would be connected to actual analytics in production)
    function trackEvent(event, data = {}) {
      console.log('Analytics event:', event, data);
      // In production: send to Google Analytics, etc.
    }

    // Track page views
    navLinks.forEach(link => {
      link.addEventListener('click', (e) => {
        if (link.getAttribute('data-page')) {
          trackEvent('page_view', { page: link.getAttribute('data-page') });
        }
      });
    });

    // Idle detection for security
    let idleTime = 0;
    const idleTimeout = 15 * 60 * 1000; // 15 minutes
    
    function resetIdleTimer() {
      idleTime = 0;
    }
    
    function startIdleTimer() {
      setInterval(() => {
        idleTime += 1000;
        if (idleTime >= idleTimeout) {
          // Show warning before logout
          showToast('You have been idle for 15 minutes. You will be logged out soon.', 'warning');
          setTimeout(() => {
            localStorage.removeItem('mkps_student');
            window.location.href = 'index.html';
          }, 60000); // Logout after 1 minute warning
        }
      }, 1000);
    }
    
    // Reset idle timer on user activity
    document.addEventListener('mousemove', resetIdleTimer);
    document.addEventListener('keypress', resetIdleTimer);
    document.addEventListener('click', resetIdleTimer);
    
    // Start idle timer
    startIdleTimer();

    // Add touch feedback for mobile
    document.addEventListener('touchstart', () => {}, { passive: true });
    
    // Prevent pull-to-refresh on mobile
    let preventRefresh = false;
    document.addEventListener('touchstart', (e) => {
      if (e.touches[0].clientY < 10) {
        preventRefresh = true;
      }
    }, { passive: false });
    
    document.addEventListener('touchmove', (e) => {
      if (preventRefresh) {
        e.preventDefault();
      }
    }, { passive: false });
    
    document.addEventListener('touchend', () => {
      preventRefresh = false;
    });

    // Add swipe gestures for mobile navigation
    let touchStartX = 0;
    let touchEndX = 0;
    
    document.addEventListener('touchstart', (e) => {
      touchStartX = e.touches[0].clientX;
    }, { passive: true });
    
    document.addEventListener('touchend', (e) => {
      touchEndX = e.changedTouches[0].clientX;
      handleSwipe();
    }, { passive: true });
    
    function handleSwipe() {
      const swipeThreshold = 50;
      if (touchStartX - touchEndX > swipeThreshold) {
        // Swipe left - open sidebar on mobile
        if (window.innerWidth <= 992) {
          sidebar.classList.remove('hidden');
          mainContent.classList.add('full');
        }
      }
      
      if (touchEndX - touchStartX > swipeThreshold) {
        // Swipe right - close sidebar
        sidebar.classList.add('hidden');
        mainContent.classList.remove('full');
      }
    }

    // Add resize listener for responsive design
    window.addEventListener('resize', () => {
      // Close sidebar on large screens
      if (window.innerWidth > 992) {
        sidebar.classList.remove('hidden');
        mainContent.classList.remove('full');
      } else {
        sidebar.classList.add('hidden');
        mainContent.classList.remove('full');
      }
    });

    // Mock data for additional pages
    const mockData = {
      library: [
        { title: "The Adventures of Tom Sawyer", author: "Mark Twain", status: "available", category: "Fiction" },
        { title: "Science Encyclopedia", author: "Dr. Jane Smith", status: "borrowed", category: "Science" },
        { title: "Mathematics Made Easy", author: "Prof. John Doe", status: "reserved", category: "Mathematics" },
        { title: "Hindi Grammar Guide", author: "Sunita Patel", status: "available", category: "Languages" }
      ],
      elearning: [
        { title: "Introduction to Algebra", subject: "Mathematics", duration: "15:30", level: "Beginner" },
        { title: "Photosynthesis Process", subject: "Science", duration: "22:15", level: "Intermediate" },
        { title: "Shakespeare's Plays", subject: "English", duration: "18:45", level: "Advanced" },
        { title: "Hindi Poetry", subject: "Hindi", duration: "12:20", level: "Beginner" }
      ],
      onlinetests: [
        { title: "Algebra Practice Test", subject: "Mathematics", questions: 20, time: "30 min", status: "not_started" },
        { title: "Science Quiz", subject: "Science", questions: 15, time: "20 min", status: "completed", score: "85%" },
        { title: "English Grammar Test", subject: "English", questions: 25, time: "40 min", status: "in_progress", progress: 60 },
        { title: "Hindi Vocabulary", subject: "Hindi", questions: 10, time: "15 min", status: "not_started" }
      ],
      notes: [
        { title: "Mathematics - Chapter 5 Notes", subject: "Mathematics", date: "Mar 1, 2024", type: "Teacher Notes" },
        { title: "Science - Human Body Systems", subject: "Science", date: "Feb 28, 2024", type: "Personal Notes" },
        { title: "English - Shakespeare Analysis", subject: "English", date: "Feb 25, 2024", type: "Shared Notes" },
        { title: "Hindi - Poetry Forms", subject: "Hindi", date: "Feb 20, 2024", type: "Teacher Notes" }
      ]
    };

    // Initialize admin functions when needed
    window.initializeAdmin = setupAdminFeatures;
  </script>
</body>
</html>
