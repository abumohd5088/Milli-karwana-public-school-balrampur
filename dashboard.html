<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/lucide-webfont@latest/dist/css/lucide.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .sidebar {
            transition: all 0.3s ease;
        }
        .main-content {
            transition: all 0.3s ease;
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .progress-circle {
            --value: 0;
            --size: 80px;
            --thickness: 6px;
            position: relative;
            width: var(--size);
            height: var(--size);
            border-radius: 50%;
            background: conic-gradient(from 0deg, #3b82f6 var(--percentage), #e5e7eb var(--percentage));
            -webkit-mask: radial-gradient(farthest-side, transparent calc(100% - var(--thickness) - 1px), red calc(100% - var(--thickness)));
            mask: radial-gradient(farthest-side, transparent calc(100% - var(--thickness) - 1px), red calc(100% - var(--thickness)));
        }
        .progress-circle::before {
            content: attr(data-value);
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: calc(var(--size) - var(--thickness) * 2);
            height: calc(var(--size) - var(--thickness) * 2);
            background-color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 600;
            color: #374151;
        }
        .ai-assistant {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 999;
        }
        .ai-assistant-button {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .ai-assistant-button:hover {
            transform: scale(1.1);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .ai-chat {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 350px;
            height: 500px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            overflow: hidden;
            display: none;
            z-index: 998;
        }
        .ai-chat.active {
            display: block;
        }
        .ai-header {
            padding: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .ai-messages {
            height: calc(100% - 120px);
            overflow-y: auto;
            padding: 16px;
            background: #f9fafb;
        }
        .message {
            margin-bottom: 12px;
            max-width: 80%;
        }
        .message.self {
            margin-left: auto;
        }
        .message-content {
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 14px;
        }
        .message.ai .message-content {
            background: white;
            border: 1px solid #e5e7eb;
            border-top-left-radius: 4px;
        }
        .message.self .message-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .ai-input {
            padding: 16px;
            background: white;
            display: flex;
            border-top: 1px solid #e5e7eb;
        }
        .ai-input input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid #d1d5db;
            border-radius: 24px;
            outline: none;
        }
        .ai-input button {
            margin-left: 8px;
            padding: 0 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 24px;
            cursor: pointer;
        }
        .notification-badge {
            position: absolute;
            top: -6px;
            right: -6px;
            width: 20px;
            height: 20px;
            background: #ef4444;
            color: white;
            border-radius: 50%;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .subject-card {
            transition: all 0.3s ease;
        }
        .subject-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        .homework-item {
            transition: all 0.2s ease;
        }
        .homework-item:hover {
            background: #f8fafc;
        }
        .resource-item {
            transition: all 0.2s ease;
        }
        .resource-item:hover {
            transform: scale(1.02);
        }
        .attendance-chart {
            height: 200px;
        }
        .grade-chart {
            height: 200px;
        }
        .assignment-chart {
            height: 200px;
        }
        @media (max-width: 768px) {
            .sidebar {
                position: fixed;
                top: 0;
                left: -280px;
            }
            .sidebar.active {
                left: 0;
            }
            .main-content {
                margin-left: 0;
            }
            .lg\:col-span-2 {
                grid-column: span 1;
            }
            .mobile-menu-button {
                display: block;
            }
            .desktop-menu {
                display: none;
            }
        }
        .mobile-menu-button {
            display: none;
            padding: 8px;
            border-radius: 8px;
            background: #f1f5f9;
            border: none;
            cursor: pointer;
        }
        .mobile-menu-button.active {
            background: #e2e8f0;
        }
        .backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 49;
            display: none;
        }
        .modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 500px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            z-index: 1000;
            display: none;
            max-height: 90vh;
            overflow-y: auto;
        }
        .modal.active {
            display: block;
        }
        .modal-header {
            padding: 16px 24px;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .modal-body {
            padding: 24px;
        }
        .modal-footer {
            padding: 16px 24px;
            border-top: 1px solid #e5e7eb;
            display: flex;
            justify-content: flex-end;
            gap: 8px;
        }
        .btn {
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            border: none;
            transition: all 0.2s ease;
        }
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .btn-secondary {
            background: #f1f5f9;
            color: #64748b;
        }
        .btn-secondary:hover {
            background: #e2e8f0;
        }
        .form-group {
            margin-bottom: 16px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #334155;
        }
        .form-control {
            width: 100%;
            padding: 12px;
            border: 1px solid #cbd5e1;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.2s ease;
        }
        .form-control:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        .file-upload {
            border: 2px dashed #cbd5e1;
            border-radius: 8px;
            padding: 24px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .file-upload:hover {
            border-color: #667eea;
            background: #f8fafc;
        }
        .file-upload i {
            font-size: 24px;
            color: #64748b;
            margin-bottom: 8px;
        }
        .file-upload p {
            color: #64748b;
            font-size: 14px;
        }
        .attachment-list {
            margin-top: 12px;
        }
        .attachment-item {
            display: flex;
            align-items: center;
            padding: 8px;
            background: #f1f5f9;
            border-radius: 6px;
            margin-bottom: 8px;
        }
        .attachment-item i {
            margin-right: 8px;
            color: #64748b;
        }
        .attachment-item span {
            flex: 1;
            font-size: 14px;
            color: #334155;
        }
        .attachment-item button {
            background: none;
            border: none;
            color: #ef4444;
            cursor: pointer;
            padding: 4px;
        }
        .priority-high {
            background: #fee2e2;
            border-left: 4px solid #ef4444;
        }
        .priority-medium {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
        }
        .priority-low {
            background: #d1fae5;
            border-left: 4px solid #10b981;
        }
        .status-completed {
            background: #d1fae5;
            color: #047857;
        }
        .status-pending {
            background: #fef3c7;
            color: #92400e;
        }
        .status-overdue {
            background: #fee2e2;
            color: #991b1b;
        }
        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }
        .tabs {
            display: flex;
            border-bottom: 1px solid #e5e7eb;
            margin-bottom: 24px;
        }
        .tab {
            padding: 12px 24px;
            cursor: pointer;
            font-weight: 500;
            color: #64748b;
            border-bottom: 3px solid transparent;
            transition: all 0.2s ease;
        }
        .tab.active {
            color: #667eea;
            border-bottom: 3px solid #667eea;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
            margin-top: 16px;
        }
        .calendar-header {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
            margin-bottom: 8px;
        }
        .calendar-header div {
            text-align: center;
            font-weight: 600;
            color: #64748b;
            font-size: 12px;
            padding: 8px 0;
        }
        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 4px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }
        .calendar-day.today {
            background: #667eea;
            color: white;
        }
        .calendar-day.other-month {
            color: #cbd5e1;
        }
        .calendar-day.has-event::after {
            content: '';
            position: absolute;
            bottom: 4px;
            width: 6px;
            height: 6px;
            background: #667eea;
            border-radius: 50%;
        }
        .event-indicator {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            margin-top: 4px;
        }
        .event-math {
            background: #3b82f6;
        }
        .event-english {
            background: #10b981;
        }
        .event-science {
            background: #8b5cf6;
        }
        .event-history {
            background: #f59e0b;
        }
        .notification-item {
            padding: 12px;
            border-bottom: 1px solid #f1f5f9;
            cursor: pointer;
            transition: background 0.2s ease;
        }
        .notification-item:hover {
            background: #f8fafc;
        }
        .notification-item.unread {
            background: #f1f5f9;
            font-weight: 500;
        }
        .notification-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
        }
        .notification-math {
            background: #eff6ff;
            color: #2563eb;
        }
        .notification-english {
            background: #ecfdf5;
            color: #059669;
        }
        .notification-science {
            background: #f3f4f6;
            color: #4f46e5;
        }
        .notification-history {
            background: #fffbeb;
            color: #d97706;
        }
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }
        .avatar-group {
            display: flex;
            margin-left: -8px;
        }
        .avatar-group .avatar {
            margin-left: -12px;
            border: 2px solid white;
        }
        .ai-suggestion {
            background: #f0f9ff;
            border-left: 4px solid #0ea5e9;
            padding: 12px;
            border-radius: 8px;
            margin: 16px 0;
            font-size: 14px;
        }
        .ai-suggestion h4 {
            font-size: 15px;
            margin: 0 0 8px 0;
            color: #0369a1;
        }
        .ai-suggestion ul {
            margin: 8px 0;
            padding-left: 20px;
        }
        .ai-suggestion li {
            margin-bottom: 4px;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- AI Assistant Chat -->
    <div class="ai-assistant">
        <div class="ai-assistant-button" id="aiButton">
            <i data-lucide="sparkles" class="w-6 h-6"></i>
        </div>
        <div class="ai-chat" id="aiChat">
            <div class="ai-header">
                <div class="flex items-center">
                    <i data-lucide="sparkles" class="w-5 h-5 mr-2"></i>
                    <span>AI Study Assistant</span>
                </div>
                <button id="closeChat">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>
            <div class="ai-messages" id="aiMessages">
                <div class="message ai">
                    <div class="message-content">Hello! I'm your AI study assistant. How can I help you with your schoolwork today?</div>
                </div>
            </div>
            <div class="ai-input">
                <input type="text" placeholder="Ask about homework, classes, or need study tips?" id="aiInput">
                <button id="aiSend">Send</button>
            </div>
        </div>
    </div>

    <!-- Mobile Menu Backdrop -->
    <div class="backdrop" id="backdrop"></div>

    <!-- Add Homework Modal -->
    <div class="modal" id="addHomeworkModal">
        <div class="modal-header">
            <h3 class="text-lg font-semibold">Add New Homework</h3>
            <button id="closeHomeworkModal">
                <i data-lucide="x" class="w-5 h-5"></i>
            </button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="homeworkSubject">Subject</label>
                <select id="homeworkSubject" class="form-control">
                    <option value="">Select Subject</option>
                    <option value="math">Mathematics</option>
                    <option value="english">English</option>
                    <option value="science">Science</option>
                    <option value="history">History</option>
                    <option value="geography">Geography</option>
                    <option value="art">Art</option>
                    <option value="music">Music</option>
                    <option value="physical-education">Physical Education</option>
                </select>
            </div>
            <div class="form-group">
                <label for="homeworkTitle">Title</label>
                <input type="text" id="homeworkTitle" class="form-control" placeholder="Enter homework title">
            </div>
            <div class="form-group">
                <label for="homeworkDescription">Description</label>
                <textarea id="homeworkDescription" class="form-control" rows="3" placeholder="Enter homework details"></textarea>
            </div>
            <div class="form-group">
                <label for="homeworkDueDate">Due Date</label>
                <input type="date" id="homeworkDueDate" class="form-control">
            </div>
            <div class="form-group">
                <label for="homeworkPriority">Priority</label>
                <select id="homeworkPriority" class="form-control">
                    <option value="low">Low</option>
                    <option value="medium">Medium</option>
                    <option value="high">High</option>
                </select>
            </div>
            <div class="form-group">
                <label>Attachments</label>
                <div class="file-upload" id="homeworkFileUpload">
                    <i data-lucide="upload-cloud"></i>
                    <p>Click to upload files or drag and drop</p>
                    <input type="file" id="homeworkFiles" multiple class="hidden">
                </div>
                <div class="attachment-list" id="homeworkAttachmentList"></div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" id="cancelHomework">Cancel</button>
            <button class="btn btn-primary" id="saveHomework">Save Homework</button>
        </div>
    </div>

    <!-- Add Note Modal -->
    <div class="modal" id="addNoteModal">
        <div class="modal-header">
            <h3 class="text-lg font-semibold">Add New Note</h3>
            <button id="closeNoteModal">
                <i data-lucide="x" class="w-5 h-5"></i>
            </button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="noteSubject">Subject</label>
                <select id="noteSubject" class="form-control">
                    <option value="">Select Subject</option>
                    <option value="math">Mathematics</option>
                    <option value="english">English</option>
                    <option value="science">Science</option>
                    <option value="history">History</option>
                    <option value="geography">Geography</option>
                    <option value="art">Art</option>
                    <option value="music">Music</option>
                    <option value="physical-education">Physical Education</option>
                </select>
            </div>
            <div class="form-group">
                <label for="noteTitle">Title</label>
                <input type="text" id="noteTitle" class="form-control" placeholder="Enter note title">
            </div>
            <div class="form-group">
                <label for="noteContent">Content</label>
                <textarea id="noteContent" class="form-control" rows="6" placeholder="Enter your notes here..."></textarea>
            </div>
            <div class="form-group">
                <label for="noteCategory">Category</label>
                <select id="noteCategory" class="form-control">
                    <option value="lecture">Lecture Notes</option>
                    <option value="summary">Summary</option>
                    <option value="formula">Formulas</option>
                    <option value="example">Examples</option>
                    <option value="important">Important Points</option>
                    <option value="other">Other</option>
                </select>
            </div>
            <div class="form-group">
                <label>Attachments</label>
                <div class="file-upload" id="noteFileUpload">
                    <i data-lucide="upload-cloud"></i>
                    <p>Click to upload files or drag and drop</p>
                    <input type="file" id="noteFiles" multiple class="hidden">
                </div>
                <div class="attachment-list" id="noteAttachmentList"></div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" id="cancelNote">Cancel</button>
            <button class="btn btn-primary" id="saveNote">Save Note</button>
        </div>
    </div>

    <!-- Add Resource Modal -->
    <div class="modal" id="addResourceModal">
        <div class="modal-header">
            <h3 class="text-lg font-semibold">Add New Resource</h3>
            <button id="closeResourceModal">
                <i data-lucide="x" class="w-5 h-5"></i>
            </button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="resourceTitle">Title</label>
                <input type="text" id="resourceTitle" class="form-control" placeholder="Enter resource title">
            </div>
            <div class="form-group">
                <label for="resourceDescription">Description</label>
                <textarea id="resourceDescription" class="form-control" rows="3" placeholder="Enter resource description"></textarea>
            </div>
            <div class="form-group">
                <label for="resourceCategory">Category</label>
                <select id="resourceCategory" class="form-control">
                    <option value="study-guide">Study Guide</option>
                    <option value="worksheet">Worksheet</option>
                    <option value="video">Video Tutorial</option>
                    <option value="presentation">Presentation</option>
                    <option value="article">Article</option>
                    <option value="other">Other</option>
                </select>
            </div>
            <div class="form-group">
                <label for="resourceUrl">Resource URL</label>
                <input type="url" id="resourceUrl" class="form-control" placeholder="Enter URL or upload file">
            </div>
            <div class="form-group">
                <label>Tags</label>
                <input type="text" id="resourceTags" class="form-control" placeholder="math, algebra, grade10 (comma separated)">
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" id="cancelResource">Cancel</button>
            <button class="btn btn-primary" id="saveResource">Save Resource</button>
        </div>
    </div>

    <!-- Sidebar -->
    <div class="fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-xl sidebar" id="sidebar">
        <div class="flex flex-col h-full">
            <!-- Logo -->
            <div class="flex items-center justify-center h-20 px-6 bg-gradient-to-r from-blue-600 to-indigo-700">
                <div class="flex items-center">
                    <div class="p-2 bg-white rounded-lg">
                        <i data-lucide="graduation-cap" class="w-8 h-8 text-blue-600"></i>
                    </div>
                    <span class="ml-3 text-xl font-bold text-white">EduSphere</span>
                </div>
            </div>

            <!-- Navigation -->
            <div class="flex-1 px-4 py-6 overflow-y-auto">
                <nav class="space-y-2">
                    <a href="#" class="flex items-center px-4 py-3 text-gray-700 bg-blue-50 rounded-lg group">
                        <i data-lucide="layout-grid" class="w-5 h-5 mr-3 text-blue-600"></i>
                        <span class="font-medium">Dashboard</span>
                    </a>
                    <a href="#" class="flex items-center px-4 py-3 text-gray-600 rounded-lg hover:bg-gray-100 group">
                        <i data-lucide="book-open" class="w-5 h-5 mr-3 text-gray-500 group-hover:text-blue-600"></i>
                        <span>Subjects</span>
                    </a>
                    <a href="#" class="flex items-center px-4 py-3 text-gray-600 rounded-lg hover:bg-gray-100 group">
                        <i data-lucide="clipboard-list" class="w-5 h-5 mr-3 text-gray-500 group-hover:text-blue-600"></i>
                        <span>Assignments</span>
                    </a>
                    <a href="#" class="flex items-center px-4 py-3 text-gray-600 rounded-lg hover:bg-gray-100 group">
                        <i data-lucide="calendar" class="w-5 h-5 mr-3 text-gray-500 group-hover:text-blue-600"></i>
                        <span>Schedule</span>
                    </a>
                    <a href="#" class="flex items-center px-4 py-3 text-gray-600 rounded-lg hover:bg-gray-100 group">
                        <i data-lucide="bar-chart-2" class="w-5 h-5 mr-3 text-gray-500 group-hover:text-blue-600"></i>
                        <span>Progress</span>
                    </a>
                    <a href="#" class="flex items-center px-4 py-3 text-gray-600 rounded-lg hover:bg-gray-100 group">
                        <i data-lucide="users" class="w-5 h-5 mr-3 text-gray-500 group-hover:text-blue-600"></i>
                        <span>Teachers</span>
                    </a>
                    <a href="#" class="flex items-center px-4 py-3 text-gray-600 rounded-lg hover:bg-gray-100 group">
                        <i data-lucide="message-circle" class="w-5 h-5 mr-3 text-gray-500 group-hover:text-blue-600"></i>
                        <span>Messages</span>
                    </a>
                    <a href="#" class="flex items-center px-4 py-3 text-gray-600 rounded-lg hover:bg-gray-100 group">
                        <i data-lucide="library" class="w-5 h-5 mr-3 text-gray-500 group-hover:text-blue-600"></i>
                        <span>Resources</span>
                    </a>
                    <a href="#" class="flex items-center px-4 py-3 text-gray-600 rounded-lg hover:bg-gray-100 group">
                        <i data-lucide="calendar-check" class="w-5 h-5 mr-3 text-gray-500 group-hover:text-blue-600"></i>
                        <span>Attendance</span>
                    </a>
                    <a href="#" class="flex items-center px-4 py-3 text-gray-600 rounded-lg hover:bg-gray-100 group">
                        <i data-lucide="award" class="w-5 h-5 mr-3 text-gray-500 group-hover:text-blue-600"></i>
                        <span>Achievements</span>
                    </a>
                    <a href="#" class="flex items-center px-4 py-3 text-gray-600 rounded-lg hover:bg-gray-100 group">
                        <i data-lucide="settings" class="w-5 h-5 mr-3 text-gray-500 group-hover:text-blue-600"></i>
                        <span>Settings</span>
                    </a>
                </nav>
            </div>

            <!-- Quick Actions -->
            <div class="p-4 border-t border-gray-200">
                <div class="space-y-2">
                    <button class="w-full flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors" id="quickAddHomework">
                        <i data-lucide="plus" class="w-4 h-4 mr-2"></i>
                        Add Homework
                    </button>
                    <button class="w-full flex items-center justify-center px-4 py-2 text-sm font-medium text-blue-700 bg-blue-100 rounded-lg hover:bg-blue-200 transition-colors" id="quickAddNote">
                        <i data-lucide="file-text" class="w-4 h-4 mr-2"></i>
                        Add Note
                    </button>
                </div>
            </div>

            <!-- User Profile -->
            <div class="p-4 border-t border-gray-200">
                <div class="flex items-center">
                    <img src="https://placehold.co/40x40/3b82f6/white?text=JS" alt="Profile" class="w-10 h-10 rounded-full">
                    <div class="ml-3">
                        <p class="text-sm font-medium text-gray-700">John Smith</p>
                        <p class="text-xs text-gray-500">Grade 10 â€¢ Science Stream</p>
                    </div>
                    <button class="p-1 ml-auto text-gray-400 rounded-full hover:bg-gray-100 hover:text-gray-600">
                        <i data-lucide="log-out" class="w-5 h-5"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="flex-1 ml-64 main-content" id="mainContent">
        <!-- Header -->
        <header class="flex items-center justify-between h-20 px-8 bg-white border-b border-gray-200">
            <div class="flex items-center">
                <button id="sidebarToggle" class="p-2 mr-4 text-gray-500 rounded-lg hover:bg-gray-100 mobile-menu-button">
                    <i data-lucide="menu" class="w-6 h-6"></i>
                </button>
                <h1 class="text-2xl font-bold text-gray-800">Dashboard</h1>
            </div>
            
            <div class="flex items-center space-x-4">
                <!-- Search -->
                <div class="relative">
                    <input type="text" placeholder="Search assignments, notes, resources..." class="w-64 px-4 py-2 pl-10 pr-4 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    <i data-lucide="search" class="absolute w-5 h-5 text-gray-400 transform -translate-y-1/2 left-3 top-1/2"></i>
                </div>
                
                <!-- Notifications -->
                <div class="relative">
                    <button id="notificationsButton" class="p-2 text-gray-500 rounded-lg hover:bg-gray-100">
                        <i data-lucide="bell" class="w-6 h-6"></i>
                        <span class="notification-badge">5</span>
                    </button>
                    <div id="notificationsPanel" class="absolute right-0 z-50 w-80 mt-2 bg-white rounded-lg shadow-lg hidden">
                        <div class="p-4 border-b border-gray-200">
                            <div class="flex items-center justify-between">
                                <h3 class="font-semibold">Notifications</h3>
                                <button class="text-xs text-blue-600 hover:text-blue-800">Mark all as read</button>
                            </div>
                        </div>
                        <div class="max-h-96 overflow-y-auto">
                            <div class="notification-item unread">
                                <div class="flex items-center">
                                    <div class="notification-icon notification-math">
                                        <i data-lucide="clipboard-list" class="w-4 h-4"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium">New Math Assignment</p>
                                        <p class="text-xs text-gray-500">Algebra problems due tomorrow</p>
                                        <p class="text-xs text-gray-400">2 hours ago</p>
                                    </div>
                                </div>
                            </div>
                            <div class="notification-item">
                                <div class="flex items-center">
                                    <div class="notification-icon notification-english">
                                        <i data-lucide="message-circle" class="w-4 h-4"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium">Feedback on Essay</p>
                                        <p class="text-xs text-gray-500">Ms. Johnson provided comments</p>
                                        <p class="text-xs text-gray-400">4 hours ago</p>
                                    </div>
                                </div>
                            </div>
                            <div class="notification-item">
                                <div class="flex items-center">
                                    <div class="notification-icon notification-science">
                                        <i data-lucide="calendar" class="w-4 h-4"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium">Science Lab Tomorrow</p>
                                        <p class="text-xs text-gray-500">Photosynthesis experiment</p>
                                        <p class="text-xs text-gray-400">1 day ago</p>
                                    </div>
                                </div>
                            </div>
                            <div class="notification-item">
                                <div class="flex items-center">
                                    <div class="notification-icon notification-history">
                                        <i data-lucide="award" class="w-4 h-4"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium">Perfect Attendance Reward</p>
                                        <p class="text-xs text-gray-500">You've earned a badge!</p>
                                        <p class="text-xs text-gray-400">2 days ago</p>
                                    </div>
                                </div>
                            </div>
                            <div class="notification-item">
                                <div class="flex items-center">
                                    <div class="notification-icon notification-math">
                                        <i data-lucide="book-open" class="w-4 h-4"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium">New Study Resource</p>
                                        <p class="text-xs text-gray-500">Algebra practice worksheet</p>
                                        <p class="text-xs text-gray-400">3 days ago</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="p-2 border-t border-gray-200">
                            <button class="w-full text-xs text-center text-blue-600 hover:text-blue-800">View all notifications</button>
                        </div>
                    </div>
                </div>
                
                <!-- Messages -->
                <button class="relative p-2 text-gray-500 rounded-lg hover:bg-gray-100">
                    <i data-lucide="mail" class="w-6 h-6"></i>
                    <span class="notification-badge">3</span>
                </button>
            </div>
        </header>

        <!-- Dashboard Content -->
        <main class="p-8">
            <!-- Welcome Section -->
            <div class="mb-8">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <h2 class="text-3xl font-bold text-gray-800">Welcome back, John!</h2>
                        <p class="text-gray-600">Here's what's happening in your classes today</p>
                    </div>
                    <div class="flex items-center px-4 py-2 text-sm font-medium text-blue-700 bg-blue-100 rounded-full">
                        <i data-lucide="sun" class="w-4 h-4 mr-2"></i>
                        <span id="currentDate">Monday, March 15, 2024</span>
                    </div>
                </div>
            </div>

            <!-- Quick Stats -->
            <div class="grid grid-cols-1 gap-6 mb-8 md:grid-cols-2 lg:grid-cols-4">
                <!-- Upcoming Assignments -->
                <div class="p-6 bg-white rounded-xl shadow-sm card-hover">
                    <div class="flex items-center">
                        <div class="p-3 bg-blue-100 rounded-lg">
                            <i data-lucide="clipboard-list" class="w-6 h-6 text-blue-600"></i>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600">Upcoming Assignments</p>
                            <p class="text-2xl font-bold text-gray-800">7</p>
                        </div>
                    </div>
                    <div class="mt-4">
                        <div class="w-full h-2 bg-gray-200 rounded-full">
                            <div class="h-2 bg-blue-500 rounded-full" style="width: 58%"></div>
                        </div>
                        <p class="mt-2 text-xs text-gray-500">4 completed, 3 pending</p>
                    </div>
                </div>

                <!-- Attendance -->
                <div class="p-6 bg-white rounded-xl shadow-sm card-hover">
                    <div class="flex items-center">
                        <div class="p-3 bg-green-100 rounded-lg">
                            <i data-lucide="calendar-check" class="w-6 h-6 text-green-600"></i>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600">Attendance</p>
                            <p class="text-2xl font-bold text-gray-800">98%</p>
                        </div>
                    </div>
                    <div class="mt-4">
                        <div class="w-full h-2 bg-gray-200 rounded-full">
                            <div class="h-2 bg-green-500 rounded-full" style="width: 98%"></div>
                        </div>
                        <p class="mt-2 text-xs text-gray-500">Excellent attendance record</p>
                    </div>
                </div>

                <!-- Average Grade -->
                <div class="p-6 bg-white rounded-xl shadow-sm card-hover">
                    <div class="flex items-center">
                        <div class="p-3 bg-purple-100 rounded-lg">
                            <i data-lucide="award" class="w-6 h-6 text-purple-600"></i>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600">Average Grade</p>
                            <p class="text-2xl font-bold text-gray-800">A-</p>
                        </div>
                    </div>
                    <div class="mt-4">
                        <div class="w-full h-2 bg-gray-200 rounded-full">
                            <div class="h-2 bg-purple-500 rounded-full" style="width: 85%"></div>
                        </div>
                        <p class="mt-2 text-xs text-gray-500">Top 15% of class</p>
                    </div>
                </div>

                <!-- Study Time -->
                <div class="p-6 bg-white rounded-xl shadow-sm card-hover">
                    <div class="flex items-center">
                        <div class="p-3 bg-orange-100 rounded-lg">
                            <i data-lucide="clock" class="w-6 h-6 text-orange-600"></i>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600">Study Time This Week</p>
                            <p class="text-2xl font-bold text-gray-800">14.5h</p>
                        </div>
                    </div>
                    <div class="mt-4">
                        <div class="w-full h-2 bg-gray-200 rounded-full">
                            <div class="h-2 bg-orange-500 rounded-full" style="width: 73%"></div>
                        </div>
                        <p class="mt-2 text-xs text-gray-500">1.5h more than last week</p>
                    </div>
                </div>
            </div>

            <!-- Main Dashboard Grid -->
            <div class="grid grid-cols-1 gap-8 lg:grid-cols-3">
                <!-- Left Column - Assignments & Schedule -->
                <div class="lg:col-span-2 space-y-8">
                    <!-- Upcoming Assignments -->
                    <div class="bg-white rounded-xl shadow-sm">
                        <div class="flex items-center justify-between p-6 border-b border-gray-200">
                            <h3 class="text-lg font-semibold text-gray-800">Upcoming Assignments</h3>
                            <div class="flex items-center space-x-2">
                                <button class="flex items-center px-3 py-1 text-sm text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100" id="addNewHomework">
                                    <i data-lucide="plus" class="w-4 h-4 mr-1"></i>
                                    Add Assignment
                                </button>
                                <div class="relative">
                                    <button id="assignmentFilter" class="flex items-center px-3 py-1 text-sm text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200">
                                        <i data-lucide="filter" class="w-4 h-4 mr-1"></i>
                                        All Subjects
                                    </button>
                                    <div id="filterDropdown" class="absolute right-0 z-50 w-48 mt-2 bg-white rounded-lg shadow-lg hidden">
                                        <div class="p-2">
                                            <button class="block w-full px-4 py-2 text-left text-gray-700 rounded hover:bg-gray-100">All Subjects</button>
                                            <button class="block w-full px-4 py-2 text-left text-gray-700 rounded hover:bg-gray-100">Mathematics</button>
                                            <button class="block w-full px-4 py-2 text-left text-gray-700 rounded hover:bg-gray-100">English</button>
                                            <button class="block w-full px-4 py-2 text-left text-gray-700 rounded hover:bg-gray-100">Science</button>
                                            <button class="block w-full px-4 py-2 text-left text-gray-700 rounded hover:bg-gray-100">History</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="p-6">
                            <div class="space-y-4">
                                <!-- Assignment 1 -->
                                <div class="homework-item flex items-center p-4 bg-gray-50 rounded-lg priority-high">
                                    <div class="w-2 h-10 bg-red-500 rounded-full"></div>
                                    <div class="flex-1 ml-4">
                                        <div class="flex items-center justify-between">
                                            <h4 class="font-medium text-gray-800">Mathematics: Quadratic Equations</h4>
                                            <span class="px-2 py-1 text-xs text-red-700 bg-red-100 rounded-full">High Priority</span>
                                        </div>
                                        <p class="mt-1 text-sm text-gray-600">Complete exercises 1-20 from Chapter 5</p>
                                        <div class="flex items-center mt-2 text-sm text-gray-500">
                                            <i data-lucide="book" class="w-4 h-4 mr-1"></i>
                                            <span>Math 10</span>
                                            <i data-lucide="calendar" class="w-4 h-4 ml-4 mr-1"></i>
                                            <span>Due Tomorrow</span>
                                            <i data-lucide="paperclip" class="w-4 h-4 ml-4 mr-1"></i>
                                            <span>2 attachments</span>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button class="p-2 text-gray-400 rounded-lg hover:bg-gray-200 hover:text-gray-600">
                                            <i data-lucide="download" class="w-5 h-5"></i>
                                        </button>
                                        <button class="p-2 text-gray-400 rounded-lg hover:bg-gray-200 hover:text-gray-600">
                                            <i data-lucide="more-vertical" class="w-5 h-5"></i>
                                        </button>
                                    </div>
                                </div>

                                <!-- Assignment 2 -->
                                <div class="homework-item flex items-center p-4 bg-gray-50 rounded-lg priority-medium">
                                    <div class="w-2 h-10 bg-yellow-500 rounded-full"></div>
                                    <div class="flex-1 ml-4">
                                        <div class="flex items-center justify-between">
                                            <h4 class="font-medium text-gray-800">English: Shakespeare Essay</h4>
                                            <span class="px-2 py-1 text-xs text-yellow-700 bg-yellow-100 rounded-full">Medium Priority</span>
                                        </div>
                                        <p class="mt-1 text-sm text-gray-600">500-700 words on Macbeth's character</p>
                                        <div class="flex items-center mt-2 text-sm text-gray-500">
                                            <i data-lucide="book" class="w-4 h-4 mr-1"></i>
                                            <span>English 10</span>
                                            <i data-lucide="calendar" class="w-4 h-4 ml-4 mr-1"></i>
                                            <span>Due Mar 20</span>
                                            <i data-lucide="paperclip" class="w-4 h-4 ml-4 mr-1"></i>
                                            <span>1 attachment</span>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button class="p-2 text-gray-400 rounded-lg hover:bg-gray-200 hover:text-gray-600">
                                            <i data-lucide="download" class="w-5 h-5"></i>
                                        </button>
                                        <button class="p-2 text-gray-400 rounded-lg hover:bg-gray-200 hover:text-gray-600">
                                            <i data-lucide="more-vertical" class="w-5 h-5"></i>
                                        </button>
                                    </div>
                                </div>

                                <!-- Assignment 3 -->
                                <div class="homework-item flex items-center p-4 bg-gray-50 rounded-lg priority-high">
                                    <div class="w-2 h-10 bg-red-500 rounded-full"></div>
                                    <div class="flex-1 ml-4">
                                        <div class="flex items-center justify-between">
                                            <h4 class="font-medium text-gray-800">Science: Lab Report</h4>
                                            <span class="px-2 py-1 text-xs text-red-700 bg-red-100 rounded-full">High Priority</span>
                                        </div>
                                        <p class="mt-1 text-sm text-gray-600">Photosynthesis experiment analysis</p>
                                        <div class="flex items-center mt-2 text-sm text-gray-500">
                                            <i data-lucide="book" class="w-4 h-4 mr-1"></i>
                                            <span>Science 10</span>
                                            <i data-lucide="calendar" class="w-4 h-4 ml-4 mr-1"></i>
                                            <span>Due Mar 22</span>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button class="p-2 text-gray-400 rounded-lg hover:bg-gray-200 hover:text-gray-600">
                                            <i data-lucide="download" class="w-5 h-5"></i>
                                        </button>
                                        <button class="p-2 text-gray-400 rounded-lg hover:bg-gray-200 hover:text-gray-600">
                                            <i data-lucide="more-vertical" class="w-5 h-5"></i>
                                        </button>
                                    </div>
                                </div>

                                <!-- Assignment 4 -->
                                <div class="homework-item flex items-center p-4 bg-gray-50 rounded-lg priority-low">
                                    <div class="w-2 h-10 bg-green-500 rounded-full"></div>
                                    <div class="flex-1 ml-4">
                                        <div class="flex items-center justify-between">
                                            <h4 class="font-medium text-gray-800">History: WWII Presentation</h4>
                                            <span class="px-2 py-1 text-xs text-green-700 bg-green-100 rounded-full">Low Priority</span>
                                        </div>
                                        <p class="mt-1 text-sm text-gray-600">Create 10-slide presentation with timeline</p>
                                        <div class="flex items-center mt-2 text-sm text-gray-500">
                                            <i data-lucide="book" class="w-4 h-4 mr-1"></i>
                                            <span>History 10</span>
                                            <i data-lucide="calendar" class="w-4 h-4 ml-4 mr-1"></i>
                                            <span>Due Mar 25</span>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button class="p-2 text-gray-400 rounded-lg hover:bg-gray-200 hover:text-gray-600">
                                            <i data-lucide="download" class="w-5 h-5"></i>
                                        </button>
                                        <button class="p-2 text-gray-400 rounded-lg hover:bg-gray-200 hover:text-gray-600">
                                            <i data-lucide="more-vertical" class="w-5 h-5"></i>
                                        </button>
                                    </div>
                                </div>

                                <!-- Assignment 5 -->
                                <div class="homework-item flex items-center p-4 bg-gray-50 rounded-lg priority-medium">
                                    <div class="w-2 h-10 bg-yellow-500 rounded-full"></div>
                                    <div class="flex-1 ml-4">
                                        <div class="flex items-center justify-between">
                                            <h4 class="font-medium text-gray-800">Geography: Map Project</h4>
                                            <span class="px-2 py-1 text-xs text-yellow-700 bg-yellow-100 rounded-full">Medium Priority</span>
                                        </div>
                                        <p class="mt-1 text-sm text-gray-600">Create detailed map of Europe</p>
                                        <div class="flex items-center mt-2 text-sm text-gray-500">
                                            <i data-lucide="book" class="w-4 h-4 mr-1"></i>
                                            <span>Geography 10</span>
                                            <i data-lucide="calendar" class="w-4 h-4 ml-4 mr-1"></i>
                                            <span>Due Mar 28</span>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button class="p-2 text-gray-400 rounded-lg hover:bg-gray-200 hover:text-gray-600">
                                            <i data-lucide="download" class="w-5 h-5"></i>
                                        </button>
                                        <button class="p-2 text-gray-400 rounded-lg hover:bg-gray-200 hover:text-gray-600">
                                            <i data-lucide="more-vertical" class="w-5 h-5"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Today's Schedule -->
                    <div class="bg-white rounded-xl shadow-sm">
                        <div class="flex items-center justify-between p-6 border-b border-gray-200">
                            <h3 class="text-lg font-semibold text-gray-800">Today's Schedule</h3>
                            <div class="flex items-center px-3 py-1 text-sm text-blue-600 bg-blue-50 rounded-lg">
                                <i data-lucide="calendar" class="w-4 h-4 mr-1"></i>
                                <span>Monday</span>
                            </div>
                        </div>
                        <div class="p-6">
                            <div class="space-y-4">
                                <!-- Class 1 -->
                                <div class="flex items-center p-4 bg-blue-50 rounded-lg">
                                    <div class="p-3 bg-blue-100 rounded-lg">
                                        <i data-lucide="book-open" class="w-5 h-5 text-blue-600"></i>
                                    </div>
                                    <div class="flex-1 ml-4">
                                        <h4 class="font-medium text-blue-800">Mathematics</h4>
                                        <p class="text-sm text-blue-600">Algebra - Quadratic Equations</p>
                                        <p class="mt-1 text-sm text-blue-700">Period 1 â€¢ 8:00 - 8:45 AM</p>
                                    </div>
                                    <button class="p-2 text-blue-600 bg-blue-100 rounded-lg hover:bg-blue-200">
                                        <i data-lucide="video" class="w-5 h-5"></i>
                                    </button>
                                </div>

                                <!-- Class 2 -->
                                <div class="flex items-center p-4 bg-green-50 rounded-lg">
                                    <div class="p-3 bg-green-100 rounded-lg">
                                        <i data-lucide="book-open" class="w-5 h-5 text-green-600"></i>
                                    </div>
                                    <div class="flex-1 ml-4">
                                        <h4 class="font-medium text-green-800">English</h4>
                                        <p class="text-sm text-green-600">Literature - Shakespeare</p>
                                        <p class="mt-1 text-sm text-green-700">Period 2 â€¢ 8:50 - 9:35 AM</p>
                                    </div>
                                    <button class="p-2 text-green-600 bg-green-100 rounded-lg hover:bg-green-200">
                                        <i data-lucide="video" class="w-5 h-5"></i>
                                    </button>
                                </div>

                                <!-- Class 3 -->
                                <div class="flex items-center p-4 bg-purple-50 rounded-lg">
                                    <div class="p-3 bg-purple-100 rounded-lg">
                                        <i data-lucide="book-open" class="w-5 h-5 text-purple-600"></i>
                                    </div>
                                    <div class="flex-1 ml-4">
                                        <h4 class="font-medium text-purple-800">Science</h4>
                                        <p class="text-sm text-purple-600">Biology - Cell Structure</p>
                                        <p class="mt-1 text-sm text-purple-700">Period 3 â€¢ 9:40 - 10:25 AM</p>
                                    </div>
                                    <button class="p-2 text-purple-600 bg-purple-100 rounded-lg hover:bg-purple-200">
                                        <i data-lucide="video" class="w-5 h-5"></i>
                                    </button>
                                </div>

                                <!-- Break -->
                                <div class="flex items-center p-4 bg-gray-50 rounded-lg">
                                    <div class="p-3 bg-gray-100 rounded-lg">
                                        <i data-lucide="coffee" class="w-5 h-5 text-gray-600"></i>
                                    </div>
                                    <div class="flex-1 ml-4">
                                        <h4 class="font-medium text-gray-800">Break</h4>
                                        <p class="text-sm text-gray-600">Morning Break</p>
                                        <p class="mt-1 text-sm text-gray-700">10:25 - 10:40 AM</p>
                                    </div>
                                </div>

                                <!-- Class 4 -->
                                <div class="flex items-center p-4 bg-orange-50 rounded-lg">
                                    <div class="p-3 bg-orange-100 rounded-lg">
                                        <i data-lucide="book-open" class="w-5 h-5 text-orange-600"></i>
                                    </div>
                                    <div class="flex-1 ml-4">
                                        <h4 class="font-medium text-orange-800">History</h4>
                                        <p class="text-sm text-orange-600">World War II Timeline</p>
                                        <p class="mt-1 text-sm text-orange-700">Period 4 â€¢ 10:40 - 11:25 AM</p>
                                    </div>
                                    <button class="p-2 text-orange-600 bg-orange-100 rounded-lg hover:bg-orange-200">
                                        <i data-lucide="video" class="w-5 h-5"></i>
                                    </button>
                                </div>

                                <!-- Class 5 -->
                                <div class="flex items-center p-4 bg-indigo-50 rounded-lg">
                                    <div class="p-3 bg-indigo-100 rounded-lg">
                                        <i data-lucide="book-open" class="w-5 h-5 text-indigo-600"></i>
                                    </div>
                                    <div class="flex-1 ml-4">
                                        <h4 class="font-medium text-indigo-800">Geography</h4>
                                        <p class="text-sm text-indigo-600">European Countries</p>
                                        <p class="mt-1 text-sm text-indigo-700">Period 5 â€¢ 11:30 - 12:15 PM</p>
                                    </div>
                                    <button class="p-2 text-indigo-600 bg-indigo-100 rounded-lg hover:bg-indigo-200">
                                        <i data-lucide="video" class="w-5 h-5"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column - Progress & Resources -->
                <div class="space-y-8">
                    <!-- Academic Progress -->
                    <div class="bg-white rounded-xl shadow-sm">
                        <div class="p-6 border-b border-gray-200">
                            <h3 class="text-lg font-semibold text-gray-800">Academic Progress</h3>
                        </div>
                        <div class="p-6">
                            <div class="space-y-6">
                                <!-- Subject Progress -->
                                <div>
                                    <div class="flex items-center justify-between mb-3">
                                        <h4 class="text-sm font-medium text-gray-700">Mathematics</h4>
                                        <span class="text-sm font-medium text-blue-600">85%</span>
                                    </div>
                                    <div class="w-full h-2 bg-gray-200 rounded-full">
                                        <div class="h-2 bg-blue-500 rounded-full" style="width: 85%"></div>
                                    </div>
                                </div>

                                <div>
                                    <div class="flex items-center justify-between mb-3">
                                        <h4 class="text-sm font-medium text-gray-700">English</h4>
                                        <span class="text-sm font-medium text-green-600">92%</span>
                                    </div>
                                    <div class="w-full h-2 bg-gray-200 rounded-full">
                                        <div class="h-2 bg-green-500 rounded-full" style="width: 92%"></div>
                                    </div>
                                </div>

                                <div>
                                    <div class="flex items-center justify-between mb-3">
                                        <h4 class="text-sm font-medium text-gray-700">Science</h4>
                                        <span class="text-sm font-medium text-purple-600">78%</span>
                                    </div>
                                    <div class="w-full h-2 bg-gray-200 rounded-full">
                                        <div class="h-2 bg-purple-500 rounded-full" style="width: 78%"></div>
                                    </div>
                                </div>

                                <div>
                                    <div class="flex items-center justify-between mb-3">
                                        <h4 class="text-sm font-medium text-gray-700">History</h4>
                                        <span class="text-sm font-medium text-orange-600">88%</span>
                                    </div>
                                    <div class="w-full h-2 bg-gray-200 rounded-full">
                                        <div class="h-2 bg-orange-500 rounded-full" style="width: 88%"></div>
                                    </div>
                                </div>

                                <div>
                                    <div class="flex items-center justify-between mb-3">
                                        <h4 class="text-sm font-medium text-gray-700">Geography</h4>
                                        <span class="text-sm font-medium text-indigo-600">81%</span>
                                    </div>
                                    <div class="w-full h-2 bg-gray-200 rounded-full">
                                        <div class="h-2 bg-indigo-500 rounded-full" style="width: 81%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Study Resources -->
                    <div class="bg-white rounded-xl shadow-sm">
                        <div class="p-6 border-b border-gray-200">
                            <h3 class="text-lg font-semibold text-gray-800">Study Resources</h3>
                        </div>
                        <div class="p-6">
                            <div class="space-y-4">
                                <div class="resource-item flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50">
                                    <div class="p-2 bg-blue-100 rounded-lg">
                                        <i data-lucide="book" class="w-5 h-5 text-blue-600"></i>
                                    </div>
                                    <div class="ml-3">
                                        <h4 class="text-sm font-medium text-gray-800">Math Textbook Solutions</h4>
                                        <p class="text-xs text-gray-500">Chapter 5: Algebra</p>
                                    </div>
                                    <i data-lucide="download" class="w-4 h-4 ml-auto text-gray-400"></i>
                                </div>

                                <div class="resource-item flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50">
                                    <div class="p-2 bg-green-100 rounded-lg">
                                        <i data-lucide="file-text" class="w-5 h-5 text-green-600"></i>
                                    </div>
                                    <div class="ml-3">
                                        <h4 class="text-sm font-medium text-gray-800">English Essay Guide</h4>
                                        <p class="text-xs text-gray-500">MLA Format & Structure</p>
                                    </div>
                                    <i data-lucide="download" class="w-4 h-4 ml-auto text-gray-400"></i>
                                </div>

                                <div class="resource-item flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50">
                                    <div class="p-2 bg-purple-100 rounded-lg">
                                        <i data-lucide="video" class="w-5 h-5 text-purple-600"></i>
                                    </div>
                                    <div class="ml-3">
                                        <h4 class="text-sm font-medium text-gray-800">Science Lab Videos</h4>
                                        <p class="text-xs text-gray-500">Photosynthesis Experiment</p>
                                    </div>
                                    <i data-lucide="play-circle" class="w-4 h-4 ml-auto text-gray-400"></i>
                                </div>

                                <div class="resource-item flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50">
                                    <div class="p-2 bg-orange-100 rounded-lg">
                                        <i data-lucide="file-plus" class="w-5 h-5 text-orange-600"></i>
                                    </div>
                                    <div class="ml-3">
                                        <h4 class="text-sm font-medium text-gray-800">History Timeline</h4>
                                        <p class="text-xs text-gray-500">WWII Interactive Chart</p>
                                    </div>
                                    <i data-lucide="download" class="w-4 h-4 ml-auto text-gray-400"></i>
                                </div>

                                <div class="resource-item flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50">
                                    <div class="p-2 bg-indigo-100 rounded-lg">
                                        <i data-lucide="map" class="w-5 h-5 text-indigo-600"></i>
                                    </div>
                                    <div class="ml-3">
                                        <h4 class="text-sm font-medium text-gray-800">Geography Maps</h4>
                                        <p class="text-xs text-gray-500">European Countries & Capitals</p>
                                    </div>
                                    <i data-lucide="download" class="w-4 h-4 ml-auto text-gray-400"></i>
                                </div>
                            </div>
                            <button class="w-full mt-4 text-sm text-blue-600 hover:text-blue-800" id="addNewResource">
                                + Add New Resource
                            </button>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="bg-white rounded-xl shadow-sm">
                        <div class="p-6 border-b border-gray-200">
                            <h3 class="text-lg font-semibold text-gray-800">Quick Actions</h3>
                        </div>
                        <div class="p-6">
                            <div class="grid grid-cols-2 gap-4">
                                <button class="flex flex-col items-center p-4 text-center bg-blue-50 rounded-lg hover:bg-blue-100" id="quickMessage">
                                    <i data-lucide="message-circle" class="w-6 h-6 mb-2 text-blue-600"></i>
                                    <span class="text-sm font-medium text-blue-800">Message Teacher</span>
                                </button>
                                <button class="flex flex-col items-center p-4 text-center bg-green-50 rounded-lg hover:bg-green-100" id="quickNotes">
                                    <i data-lucide="book-open" class="w-6 h-6 mb-2 text-green-600"></i>
                                    <span class="text-sm font-medium text-green-800">View Notes</span>
                                </button>
                                <button class="flex flex-col items-center p-4 text-center bg-purple-50 rounded-lg hover:bg-purple-100" id="quickSubmit">
                                    <i data-lucide="clipboard" class="w-6 h-6 mb-2 text-purple-600"></i>
                                    <span class="text-sm font-medium text-purple-800">Submit Work</span>
                                </button>
                                <button class="flex flex-col items-center p-4 text-center bg-orange-50 rounded-lg hover:bg-orange-100" id="quickSchedule">
                                    <i data-lucide="calendar" class="w-6 h-6 mb-2 text-orange-600"></i>
                                    <span class="text-sm font-medium text-orange-800">Schedule Meeting</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="mt-8 bg-white rounded-xl shadow-sm">
                <div class="p-6 border-b border-gray-200">
                    <h3 class="text-lg font-semibold text-gray-800">Recent Activity</h3>
                </div>
                <div class="p-6">
                    <div class="space-y-4">
                        <div class="flex items-start p-4 border border-gray-200 rounded-lg">
                            <div class="p-2 bg-green-100 rounded-lg">
                                <i data-lucide="check-circle" class="w-5 h-5 text-green-600"></i>
                            </div>
                            <div class="ml-4">
                                <p class="font-medium text-gray-800">Submitted Mathematics Assignment</p>
                                <p class="mt-1 text-sm text-gray-600">Algebra problems from Chapter 5</p>
                                <p class="mt-2 text-xs text-gray-500">2 hours ago</p>
                            </div>
                        </div>

                        <div class="flex items-start p-4 border border-gray-200 rounded-lg">
                            <div class="p-2 bg-blue-100 rounded-lg">
                                <i data-lucide="message-square" class="w-5 h-5 text-blue-600"></i>
                            </div>
                            <div class="ml-4">
                                <p class="font-medium text-gray-800">Received feedback from Ms. Johnson</p>
                                <p class="mt-1 text-sm text-gray-600">English essay on Shakespeare</p>
                                <p class="mt-2 text-xs text-gray-500">4 hours ago</p>
                            </div>
                        </div>

                        <div class="flex items-start p-4 border border-gray-200 rounded-lg">
                            <div class="p-2 bg-purple-100 rounded-lg">
                                <i data-lucide="star" class="w-5 h-5 text-purple-600"></i>
                            </div>
                            <div class="ml-4">
                                <p class="font-medium text-gray-800">Achievement Unlocked: Perfect Attendance</p>
                                <p class="mt-1 text-sm text-gray-600">Congratulations on 30 consecutive days!</p>
                                <p class="mt-2 text-xs text-gray-500">1 day ago</p>
                            </div>
                        </div>

                        <div class="flex items-start p-4 border border-gray-200 rounded-lg">
                            <div class="p-2 bg-orange-100 rounded-lg">
                                <i data-lucide="download" class="w-5 h-5 text-orange-600"></i>
                            </div>
                            <div class="ml-4">
                                <p class="font-medium text-gray-800">Downloaded Science Lab Guide</p>
                                <p class="mt-1 text-sm text-gray-600">Photosynthesis experiment procedures</p>
                                <p class="mt-2 text-xs text-gray-500">1 day ago</p>
                            </div>
                        </div>

                        <div class="flex items-start p-4 border border-gray-200 rounded-lg">
                            <div class="p-2 bg-blue-100 rounded-lg">
                                <i data-lucide="book-open" class="w-5 h-5 text-blue-600"></i>
                            </div>
                            <div class="ml-4">
                                <p class="font-medium text-gray-800">Viewed Math Lecture Notes</p>
                                <p class="mt-1 text-sm text-gray-600">Quadratic equations and solutions</p>
                                <p class="mt-2 text-xs text-gray-500">2 days ago</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Admin Hook - Hidden -->
    <script type="text/javascript">
        // AI Configuration
        const AI_API_KEY = "AIzaSyCdzFBQ1KVgBfmmjSgHJJwcuLbqne9VjUs";
        
        // Admin Hook for adding homework, images, notes, etc.
        const AdminHook = {
            addHomework: function(subject, title, description, dueDate, priority, attachments = []) {
                console.log('Adding homework:', {subject, title, description, dueDate, priority, attachments});
                // This would connect to backend in real implementation
                return {
                    success: true,
                    message: 'Homework added successfully',
                    id: Date.now(),
                    data: {subject, title, description, dueDate, priority, attachments}
                };
            },
            
            addNote: function(subject, title, content, category = 'general', attachments = []) {
                console.log('Adding note:', {subject, title, content, category, attachments});
                return {
                    success: true,
                    message: 'Note added successfully',
                    id: Date.now(),
                    data: {subject, title, content, category, attachments}
                };
            },
            
            addResource: function(title, description, category, fileUrl, tags = []) {
                console.log('Adding resource:', {title, description, category, fileUrl, tags});
                return {
                    success: true,
                    message: 'Resource added successfully',
                    id: Date.now(),
                    data: {title, description, category, fileUrl, tags}
                };
            },
            
            updateStudentProgress: function(studentId, subject, progress, grade) {
                console.log('Updating student progress:', {studentId, subject, progress, grade});
                return {
                    success: true,
                    message: 'Progress updated successfully'
                };
            },
            
            sendNotification: function(userId, title, message, type = 'info') {
                console.log('Sending notification:', {userId, title, message, type});
                return {
                    success: true,
                    message: 'Notification sent successfully'
                };
            },
            
            generateAIContent: async function(prompt, context = {}) {
                try {
                    console.log('Generating AI content with prompt:', prompt);
                    
                    // Extract student information from context or localStorage
                    const studentName = context.name || 'Student';
                    const studentClass = context.class || 'your class';
                    
                    // Prepare response based on prompt content
                    const lowerPrompt = prompt.toLowerCase();
                    let response = '';
                    let sources = [];
                    let tips = [];
                    
                    // Check for homework-related queries
                    if (lowerPrompt.includes('homework') || lowerPrompt.includes('assignment') || lowerPrompt.includes('task')) {
                        if (lowerPrompt.includes('math') || lowerPrompt.includes('algebra') || lowerPrompt.includes('equation')) {
                            response = `Hi ${studentName}! I see you need help with your math homework. For algebra problems, remember to identify the variables and constants first. Try to isolate the variable on one side of the equation. Would you like me to walk you through a specific problem?`;
                            sources = ['Math Textbook Chapter 5', 'Algebra Basics Guide', 'Teacher\'s Worksheet'];
                            tips = ['Show all your steps clearly', 'Check your answers by substituting back', 'Practice similar problems'];
                        }
                        else if (lowerPrompt.includes('english') || lowerPrompt.includes('essay') || lowerPrompt.includes('writing')) {
                            response = `Hello ${studentName}! For your English assignment, focus on creating a strong thesis statement in your introduction. Make sure each paragraph supports your main argument with evidence from the text. Remember to cite your sources properly in MLA format. Need help with outlining your essay?`;
                            sources = ['English Writing Guide', 'MLA Format Handbook', 'Sample Essays'];
                            tips = ['Create an outline first', 'Use transition words between paragraphs', 'Proofread for grammar errors'];
                        }
                        else if (lowerPrompt.includes('science') || lowerPrompt.includes('lab') || lowerPrompt.includes('experiment')) {
                            response = `Hi ${studentName}! For your science lab report, make sure to include all the standard sections: Introduction, Methods, Results, and Conclusion. When writing about the photosynthesis experiment, focus on the variables you controlled and the results you observed. Would you like a template for your report?`;
                            sources = ['Science Lab Manual', 'Biology Textbook', 'Previous Lab Reports'];
                            tips = ['Include your hypothesis', 'Present data in tables or graphs', 'Discuss possible sources of error'];
                        }
                        else if (lowerPrompt.includes('history') || lowerPrompt.includes('presentation') || lowerPrompt.includes('project')) {
                            response = `Hello ${studentName}! For your history presentation on WWII, consider organizing it chronologically with key turning points. Include maps to show troop movements and timelines for major events. Make sure to cite your sources and practice your delivery. Need help with creating slides?`;
                            sources = ['History Textbook', 'Documentary Resources', 'Archival Photos'];
                            tips = ['Focus on cause and effect', 'Include primary sources', 'Practice timing your presentation'];
                        }
                        else {
                            response = `Hi ${studentName}! I can help you with your homework. Could you tell me which subject you need help with? We can work through math problems, improve your writing, analyze science experiments, or research history topics together.`;
                            sources = ['Subject Textbooks', 'Class Notes', 'Online Resources'];
                            tips = ['Start with what you know', 'Break large tasks into smaller steps', 'Ask your teacher for clarification if needed'];
                        }
                    }
                    
                    // Check for class-related queries
                    else if (lowerPrompt.includes('class') || lowerPrompt.includes('lesson') || lowerPrompt.includes('topic')) {
                        if (lowerPrompt.includes('math') || lowerPrompt.includes('algebra')) {
                            response = `Hi ${studentName}! In your ${studentClass} math class, you're currently studying algebra. Key concepts include solving linear equations, working with variables, and understanding functions. The quadratic formula is x = (-b Â± âˆš(bÂ²-4ac)) / (2a). Would you like practice problems or explanations on any specific topic?`;
                            sources = ['Chapter 5: Algebra', 'Class Lecture Notes', 'Practice Worksheets'];
                            tips = ['Practice daily', 'Review mistakes', 'Ask questions in class'];
                        }
                        else if (lowerPrompt.includes('english') || lowerPrompt.includes('literature')) {
                            response = `Hello ${studentName}! In your ${studentClass} English class, you're studying Shakespeare's works. Focus on understanding the themes, characters, and literary devices. For Macbeth, consider the themes of ambition and power. Try to connect the text to modern situations. Need help analyzing a specific passage?`;
                            sources = ['Macbeth Text', 'Literary Analysis Guide', 'Class Discussions'];
                            tips = ['Read aloud', 'Look up unfamiliar words', 'Discuss with classmates'];
                        }
                        else if (lowerPrompt.includes('science') || lowerPrompt.includes('biology')) {
                            response = `Hi ${studentName}! In your ${studentClass} science class, you're learning about cell biology and photosynthesis. Remember that photosynthesis converts light energy to chemical energy: 6COâ‚‚ + 6Hâ‚‚O + light â†’ Câ‚†Hâ‚â‚‚Oâ‚† + 6Oâ‚‚. The chloroplast is where this happens in plant cells. Want to review the process step by step?`;
                            sources = ['Biology Textbook Chapter 4', 'Cell Structure Diagrams', 'Lab Observations'];
                            tips = ['Draw the processes', 'Use flashcards for terminology', 'Relate concepts to real life'];
                        }
                        else if (lowerPrompt.includes('history') || lowerPrompt.includes('wwii')) {
                            response = `Hello ${studentName}! In your ${studentClass} history class, you're studying World War II. Key events include the invasion of Poland, Battle of Britain, D-Day invasion, and the atomic bombings. Consider the causes, major battles, and aftermath. Would you like a timeline or key figures overview?`;
                            sources = ['History Textbook Chapter 12', 'Primary Source Documents', 'Documentary Clips'];
                            tips = ['Create timelines', 'Understand multiple perspectives', 'Connect events to today'];
                        }
                        else {
                            response = `Hi ${studentName}! I'd love to help you with your classwork. Could you let me know which subject you're asking about? We can review concepts, prepare for tests, or work on assignments together.`;
                            sources = ['Class Syllabus', 'Textbook Chapters', 'Teacher Notes'];
                            tips = ['Review regularly', 'Form study groups', 'Ask questions'];
                        }
                    }
                    
                    // Check for general study help
                    else if (lowerPrompt.includes('help') || lowerPrompt.includes('study') || lowerPrompt.includes('learn')) {
                        response = `Hi ${studentName}! I'm here to help you with your studies. Whether you need help understanding a concept, completing an assignment, or preparing for a test, I can guide you through the process. What specific topic or subject would you like to work on?`;
                        sources = ['All Subject Materials', 'Study Guides', 'Practice Resources'];
                        tips = ['Set specific goals', 'Use active recall', 'Take breaks'];
                    }
                    
                    // Default response for unrecognized queries
                    else {
                        response = `Hi ${studentName}! I'm your AI study assistant. I can help you with homework, explain class concepts, provide study tips, and answer questions about your assignments. What would you like to work on today?`;
                        sources = ['General Study Resources', 'Learning Strategies', 'Subject Overviews'];
                        tips = ['Be specific in your questions', 'Show your work', 'Practice regularly'];
                    }
                    
                    return {
                        success: true,
                        response: response,
                        sources: sources,
                        tips: tips,
                        student: studentName,
                        class: studentClass
                    };
                } catch (error) {
                    console.error('AI generation error:', error);
                    return {
                        success: false,
                        response: `I apologize, ${studentName}, but I encountered an error while processing your request. Please try rephrasing your question, and I'll do my best to help you with your ${studentClass} studies.`,
                        error: error.message
                    };
                }
            }
        };

        // Initialize the dashboard
        document.addEventListener('DOMContentLoaded', function() {
            // Set current date
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('currentDate').textContent = now.toLocaleDateString(undefined, options);

            // Initialize Lucide icons
            lucide.createIcons();

            // AI Assistant functionality
            const aiButton = document.getElementById('aiButton');
            const aiChat = document.getElementById('aiChat');
            const closeChat = document.getElementById('closeChat');
            const aiInput = document.getElementById('aiInput');
            const aiSend = document.getElementById('aiSend');
            const aiMessages = document.getElementById('aiMessages');

            // Toggle AI chat
            aiButton.addEventListener('click', function() {
                aiChat.classList.toggle('active');
            });

            closeChat.addEventListener('click', function() {
                aiChat.classList.remove('active');
            });

            // Send message
            aiSend.addEventListener('click', sendMessage);
            aiInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });

            async function sendMessage() {
                const message = aiInput.value.trim();
                if (!message) return;

                // Add user message
                addMessage(message, 'self');
                aiInput.value = '';

                // Show typing indicator
                const typing = document.createElement('div');
                typing.className = 'message ai';
                typing.innerHTML = '<div class="message-content">AI is thinking...</div>';
                aiMessages.appendChild(typing);
                aiMessages.scrollTop = aiMessages.scrollHeight;

                // Get student info from localStorage (simulating login)
                const studentName = localStorage.getItem('name') || 'Student';
                const studentClass = localStorage.getItem('cls') || 'your class';

                // Simulate AI response with student context
                setTimeout(async () => {
                    aiMessages.removeChild(typing);
                    
                    // Use AdminHook to generate AI response with student context
                    const result = await AdminHook.generateAIContent(message, {
                        name: studentName,
                        class: `Class ${studentClass}`
                    });
                    
                    if (result.success) {
                        addMessage(result.response, 'ai');
                        
                        // Add sources if available
                        if (result.sources && result.sources.length > 0) {
                            addMessage(`ðŸ“š <b>Sources:</b> ${result.sources.join(', ')}`, 'ai');
                        }
                        
                        // Add tips if available
                        if (result.tips && result.tips.length > 0) {
                            addMessage(`ðŸ’¡ <b>Tips:</b> ${result.tips.join(', ')}`, 'ai');
                        }
                    } else {
                        addMessage(result.response, 'ai');
                    }
                }, 1000);
            }

            function addMessage(content, sender) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${sender}`;
                messageDiv.innerHTML = `<div class="message-content">${content}</div>`;
                aiMessages.appendChild(messageDiv);
                aiMessages.scrollTop = aiMessages.scrollHeight;
            }

            // Sidebar toggle for mobile
            const sidebarToggle = document.getElementById('sidebarToggle');
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('mainContent');
            const backdrop = document.getElementById('backdrop');

            sidebarToggle.addEventListener('click', function() {
                sidebar.classList.toggle('active');
                backdrop.classList.toggle('active');
                document.body.style.overflow = sidebar.classList.contains('active') ? 'hidden' : 'auto';
            });

            backdrop.addEventListener('click', function() {
                sidebar.classList.remove('active');
                backdrop.classList.remove('active');
                document.body.style.overflow = 'auto';
            });

            // Notifications dropdown
            const notificationsButton = document.getElementById('notificationsButton');
            const notificationsPanel = document.getElementById('notificationsPanel');

            notificationsButton.addEventListener('click', function() {
                notificationsPanel.classList.toggle('hidden');
            });

            // Close notifications when clicking outside
            document.addEventListener('click', function(e) {
                if (!notificationsButton.contains(e.target) && !notificationsPanel.contains(e.target)) {
                    notificationsPanel.classList.add('hidden');
                }
            });

            // Assignment filter dropdown
            const assignmentFilter = document.getElementById('assignmentFilter');
            const filterDropdown = document.getElementById('filterDropdown');

            assignmentFilter.addEventListener('click', function() {
                filterDropdown.classList.toggle('hidden');
            });

            // Close filter dropdown when clicking outside
            document.addEventListener('click', function(e) {
                if (!assignmentFilter.contains(e.target) && !filterDropdown.contains(e.target)) {
                    filterDropdown.classList.add('hidden');
                }
            });

            // Modal functionality
            const modals = [
                { trigger: 'addNewHomework', modal: 'addHomeworkModal', close: 'closeHomeworkModal', cancel: 'cancelHomework' },
                { trigger: 'quickAddHomework', modal: 'addHomeworkModal', close: 'closeHomeworkModal', cancel: 'cancelHomework' },
                { trigger: 'quickAddNote', modal: 'addNoteModal', close: 'closeNoteModal', cancel: 'cancelNote' },
                { trigger: 'addNewResource', modal: 'addResourceModal', close: 'closeResourceModal', cancel: 'cancelResource' }
            ];

            modals.forEach(config => {
                const trigger = document.getElementById(config.trigger);
                const modal = document.getElementById(config.modal);
                const close = document.getElementById(config.close);
                const cancel = document.getElementById(config.cancel);

                if (trigger) {
                    trigger.addEventListener('click', function() {
                        modal.classList.add('active');
                        document.body.style.overflow = 'hidden';
                    });
                }

                if (close) {
                    close.addEventListener('click', function() {
                        modal.classList.remove('active');
                        document.body.style.overflow = 'auto';
                    });
                }

                if (cancel) {
                    cancel.addEventListener('click', function() {
                        modal.classList.remove('active');
                        document.body.style.overflow = 'auto';
                    });
                }
            });

            // Close modals when clicking outside
            document.addEventListener('click', function(e) {
                const modals = document.querySelectorAll('.modal.active');
                modals.forEach(modal => {
                    if (e.target === modal) {
                        modal.classList.remove('active');
                        document.body.style.overflow = 'auto';
                    }
                });
            });

            // File upload functionality
            const fileUploads = [
                { trigger: 'homeworkFileUpload', input: 'homeworkFiles', list: 'homeworkAttachmentList' },
                { trigger: 'noteFileUpload', input: 'noteFiles', list: 'noteAttachmentList' }
            ];

            fileUploads.forEach(config => {
                const trigger = document.getElementById(config.trigger);
                const input = document.getElementById(config.input);
                const list = document.getElementById(config.list);

                trigger.addEventListener('click', function() {
                    input.click();
                });

                input.addEventListener('change', function() {
                    list.innerHTML = '';
                    Array.from(this.files).forEach(file => {
                        const item = document.createElement('div');
                        item.className = 'attachment-item';
                        item.innerHTML = `
                            <i data-lucide="file"></i>
                            <span>${file.name}</span>
                            <button type="button" onclick="this.parentElement.remove()">
                                <i data-lucide="x"></i>
                            </button>
                        `;
                        list.appendChild(item);
                    });
                    lucide.createIcons();
                });
            });

            // Save homework
            document.getElementById('saveHomework').addEventListener('click', function() {
                const subject = document.getElementById('homeworkSubject').value;
                const title = document.getElementById('homeworkTitle').value;
                const description = document.getElementById('homeworkDescription').value;
                const dueDate = document.getElementById('homeworkDueDate').value;
                const priority = document.getElementById('homeworkPriority').value;
                
                if (!subject || !title || !dueDate) {
                    alert('Please fill in all required fields');
                    return;
                }

                // Use AdminHook to save homework
                const result = AdminHook.addHomework(subject, title, description, dueDate, priority);
                
                if (result.success) {
                    alert(result.message);
                    document.getElementById('addHomeworkModal').classList.remove('active');
                    document.body.style.overflow = 'auto';
                    
                    // Reset form
                    document.getElementById('homeworkSubject').value = '';
                    document.getElementById('homeworkTitle').value = '';
                    document.getElementById('homeworkDescription').value = '';
                    document.getElementById('homeworkDueDate').value = '';
                    document.getElementById('homeworkPriority').value = 'medium';
                    document.getElementById('homeworkAttachmentList').innerHTML = '';
                }
            });

            // Save note
            document.getElementById('saveNote').addEventListener('click', function() {
                const subject = document.getElementById('noteSubject').value;
                const title = document.getElementById('noteTitle').value;
                const content = document.getElementById('noteContent').value;
                const category = document.getElementById('noteCategory').value;
                
                if (!subject || !title || !content) {
                    alert('Please fill in all required fields');
                    return;
                }

                // Use AdminHook to save note
                const result = AdminHook.addNote(subject, title, content, category);
                
                if (result.success) {
                    alert(result.message);
                    document.getElementById('addNoteModal').classList.remove('active');
                    document.body.style.overflow = 'auto';
                    
                    // Reset form
                    document.getElementById('noteSubject').value = '';
                    document.getElementById('noteTitle').value = '';
                    document.getElementById('noteContent').value = '';
                    document.getElementById('noteCategory').value = 'lecture';
                    document.getElementById('noteAttachmentList').innerHTML = '';
                }
            });

            // Save resource
            document.getElementById('saveResource').addEventListener('click', function() {
                const title = document.getElementById('resourceTitle').value;
                const description = document.getElementById('resourceDescription').value;
                const category = document.getElementById('resourceCategory').value;
                const url = document.getElementById('resourceUrl').value;
                const tags = document.getElementById('resourceTags').value;
                
                if (!title || !category) {
                    alert('Please fill in all required fields');
                    return;
                }

                // Use AdminHook to save resource
                const result = AdminHook.addResource(title, description, category, url, tags.split(',').map(tag => tag.trim()));
                
                if (result.success) {
                    alert(result.message);
                    document.getElementById('addResourceModal').classList.remove('active');
                    document.body.style.overflow = 'auto';
                    
                    // Reset form
                    document.getElementById('resourceTitle').value = '';
                    document.getElementById('resourceDescription').value = '';
                    document.getElementById('resourceCategory').value = 'study-guide';
                    document.getElementById('resourceUrl').value = '';
                    document.getElementById('resourceTags').value = '';
                }
            });

            // Quick action buttons
            document.getElementById('quickMessage').addEventListener('click', function() {
                alert('Opening message to teacher...');
            });

            document.getElementById('quickNotes').addEventListener('click', function() {
                alert('Opening your notes...');
            });

            document.getElementById('quickSubmit').addEventListener('click', function() {
                alert('Opening assignment submission...');
            });

            document.getElementById('quickSchedule').addEventListener('click', function() {
                alert('Opening meeting scheduler...');
            });
        });
    </script>
</body>
</html>
